{"version":3,"file":"static/js/128.bc843654.chunk.js","mappings":"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","sources":["admin/views/UsersCustomer/ListCustomer.js","../node_modules/reactstrap/es/Table.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Table, Card, CardHeader, CardBody } from \"reactstrap\";\r\nimport A from \"config/url\";\r\nimport { VIEW_EDIT, VIEW_EDIT_DELETE } from \"config/values\";\r\nimport { connect } from \"react-redux\";\r\nimport metaRoutes from \"config/meta_routes\";\r\nimport { getUsers, deleteUser } from \"../Users/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport CustomDelete from \"admin/components/CustomDelete\";\r\nimport CustomEdit from \"admin/components/CustomTableAction\";\r\n\r\nclass ListCustomer extends React.Component {\r\n  state = {\r\n    userList: [],\r\n    roles: [],\r\n    branches: [],\r\n    userStatuses: [],\r\n    departments: [],\r\n    searchData: { userType: \"customer\" },\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateData();\r\n    this.setState(this.props.allFields);\r\n  }\r\n\r\n  deleteUser(id) {\r\n    deleteUser(id, (err, data) => {\r\n      if (err) return;\r\n      if (data.success) {\r\n        toast.success(\"Customer deleted successfully.\");\r\n        this.updateData();\r\n      } else {\r\n        toast.error(data.message);\r\n      }\r\n    });\r\n  }\r\n\r\n  updateData = () => {\r\n    getUsers(this.state.searchData, (err, data) => {\r\n      console.log(data);\r\n      if (err) return;\r\n      this.setState({\r\n        userList: data,\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const p = this.props.permissions || {};\r\n    return (\r\n      <Card className=\"shadow\">\r\n        <CardHeader>\r\n          <i className=\"fa fa-user\" />\r\n          <strong>Customer Users</strong>\r\n          {p.customerUser === VIEW_EDIT || p.customerUser === VIEW_EDIT_DELETE ? (\r\n            <Link className=\"float-right btn btn-sm btn-success\" to={metaRoutes.adminCustomerAdd}>\r\n              Add Customer\r\n            </Link>\r\n          ) : null}\r\n        </CardHeader>\r\n        <CardBody>\r\n          <Table responsive bordered>\r\n            <thead>\r\n              <tr>\r\n                <th\r\n                  onClick={() => {\r\n                    this.sortBy(\"identityNo\");\r\n                  }}\r\n                >\r\n                  Identity No\r\n                </th>\r\n                <th\r\n                  onClick={() => {\r\n                    this.sortBy(\"name\");\r\n                  }}\r\n                >\r\n                  Name\r\n                </th>\r\n                <th\r\n                  onClick={() => {\r\n                    this.sortBy(\"email\");\r\n                  }}\r\n                >\r\n                  Email\r\n                </th>\r\n                <th\r\n                  onClick={() => {\r\n                    this.sortBy(\"phoneNumber\");\r\n                  }}\r\n                >\r\n                  Phone\r\n                </th>\r\n                <th style={{ width: \"150px\" }}>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.userList.map((row, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{row.identityNo}</td>\r\n                    <td>\r\n                      <Link to={metaRoutes.adminCustomerView + \"?i=\" + A.getHash(row.id)}>{row.name}</Link>\r\n                    </td>\r\n                    <td>{row.email}</td>\r\n                    <td>{row.phoneNumber}</td>\r\n                    <td>\r\n                      {p.customerUser === VIEW_EDIT || p.customerUser === VIEW_EDIT_DELETE ? (\r\n                        // <Link\r\n                        //   className=\"mr-2 mb-2 btn btn-sm btn-primary\"\r\n                        //   title=\"Edit\"\r\n                        //   to={\r\n                        //     metaRoutes.adminCustomerEdit +\r\n                        //     \"?i=\" +\r\n                        //     A.getHash(row.id)\r\n                        //   }\r\n                        // >\r\n                        //   <i className=\"fa fa-edit\" />\r\n                        // </Link>\r\n                        <CustomEdit to={metaRoutes.adminCustomerEdit + \"?i=\" + A.getHash(row.id)} />\r\n                      ) : null}\r\n                      {p.customerUser === VIEW_EDIT_DELETE ? (\r\n                        // <span\r\n                        //   className=\"btn btn-danger btn-sm mb-2\"\r\n                        //   title=\"Delete\"\r\n                        //   onClick={() => this.deleteUser(row.id)}\r\n                        // >\r\n                        //   <i className=\"fa fa-trash\" />\r\n                        // </span>\r\n                        <CustomDelete onClick={() => this.deleteUser(row.id)} />\r\n                      ) : null}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({ allFields: state.allFields }))(ListCustomer);\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"names":["ListCustomer","React","constructor","arguments","state","userList","roles","branches","userStatuses","departments","searchData","userType","updateData","getUsers","this","err","data","console","log","setState","componentDidMount","props","allFields","deleteUser","id","success","toast","error","message","render","p","permissions","_jsxs","Card","className","children","CardHeader","_jsx","customerUser","VIEW_EDIT","VIEW_EDIT_DELETE","Link","to","metaRoutes","adminCustomerAdd","CardBody","Table","responsive","bordered","onClick","sortBy","style","width","map","row","index","identityNo","adminCustomerView","A","getHash","name","email","phoneNumber","CustomEdit","adminCustomerEdit","CustomDelete","connect","_excluded","propTypes","PropTypes","cssModule","size","borderless","striped","dark","hover","tag","tagPropType","responsiveTag","innerRef","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","_extends","ref","responsiveClassName","defaultProps"],"sourceRoot":""}