{"version":3,"file":"static/js/8888.28bffa3b.chunk.js","mappings":"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","sources":["../node_modules/reactstrap/es/Progress.js","client/views/Memo/api/attachment.js","client/views/Memo/components/AttachmentListTable.js","client/views/Memo/components/PreviewAttachments.js","client/views/Memo/MemoView.js","client/views/Memo/api/memo.js","client/views/Memo/components/HTMLFormRender.js","../node_modules/reactstrap/es/Table.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"children\", \"className\", \"barClassName\", \"cssModule\", \"value\", \"min\", \"max\", \"animated\", \"striped\", \"color\", \"bar\", \"multi\", \"tag\", \"style\", \"barStyle\", \"barAriaValueText\", \"barAriaLabelledBy\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, toNumber } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  bar: PropTypes.bool,\n  multi: PropTypes.bool,\n  tag: tagPropType,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  min: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  animated: PropTypes.bool,\n  striped: PropTypes.bool,\n  color: PropTypes.string,\n  className: PropTypes.string,\n  barClassName: PropTypes.string,\n  cssModule: PropTypes.object,\n  style: PropTypes.object,\n  barStyle: PropTypes.object,\n  barAriaValueText: PropTypes.string,\n  barAriaLabelledBy: PropTypes.string\n};\nvar defaultProps = {\n  tag: 'div',\n  value: 0,\n  min: 0,\n  max: 100,\n  style: {},\n  barStyle: {}\n};\n\nvar Progress = function Progress(props) {\n  var children = props.children,\n      className = props.className,\n      barClassName = props.barClassName,\n      cssModule = props.cssModule,\n      value = props.value,\n      min = props.min,\n      max = props.max,\n      animated = props.animated,\n      striped = props.striped,\n      color = props.color,\n      bar = props.bar,\n      multi = props.multi,\n      Tag = props.tag,\n      style = props.style,\n      barStyle = props.barStyle,\n      barAriaValueText = props.barAriaValueText,\n      barAriaLabelledBy = props.barAriaLabelledBy,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var percent = toNumber(value) / toNumber(max) * 100;\n  var progressClasses = mapToCssModules(classNames(className, 'progress'), cssModule);\n  var progressBarClasses = mapToCssModules(classNames('progress-bar', bar ? className || barClassName : barClassName, animated ? 'progress-bar-animated' : null, color ? \"bg-\" + color : null, striped || animated ? 'progress-bar-striped' : null), cssModule);\n  var progressBarProps = {\n    className: progressBarClasses,\n    style: _objectSpread(_objectSpread(_objectSpread({}, bar ? style : {}), barStyle), {}, {\n      width: percent + \"%\"\n    }),\n    role: 'progressbar',\n    'aria-valuenow': value,\n    'aria-valuemin': min,\n    'aria-valuemax': max,\n    'aria-valuetext': barAriaValueText,\n    'aria-labelledby': barAriaLabelledBy,\n    children: children\n  };\n\n  if (bar) {\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, progressBarProps));\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    style: style,\n    className: progressClasses\n  }), multi ? children : /*#__PURE__*/React.createElement(\"div\", progressBarProps));\n};\n\nProgress.propTypes = propTypes;\nProgress.defaultProps = defaultProps;\nexport default Progress;","import { server } from \"client/config/server\";\r\nconst url = \"/client/attachment\";\r\n\r\nfunction downloadAttachment(id, callback) {\r\n  server\r\n    .get(`${url}/download/${id}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((json) => {\r\n      callback(null, json);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction previewAttachment(id, callback) {\r\n  server\r\n    .get(`${url}/preview/${id}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((json) => {\r\n      callback(null, json);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nexport { previewAttachment, downloadAttachment };\r\n","import React, { useState } from \"react\";\r\nimport { Progress, Card, CardHeader, CardBody, Table } from \"reactstrap\";\r\nimport { downloadAttachment } from \"../api/attachment\";\r\nimport { server, SERVER_URL } from \"client/config/server\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst AttachmentListTable = (props) => {\r\n  const attachments = props.attachments;\r\n  const isPrimary = props.isPrimary;\r\n  const [state, setState] = useState({\r\n    loading: null,\r\n    selectedFiles: [],\r\n  });\r\n  function startLoading() {\r\n    document.getElementById(\"loading\").style.display = \"unset\";\r\n  }\r\n  function finishLoading() {\r\n    document.getElementById(\"loading\").style.display = \"none\";\r\n  }\r\n  const onSelectedFile = (event) => {\r\n    setState({\r\n      ...state,\r\n      selectedFiles: event.target.files,\r\n    });\r\n  };\r\n\r\n  const downloadFile = (id) => {\r\n    const p = props.permissions;\r\n    if (p.download) {\r\n      if (window.confirm(\"Do you want to download the file?\")) {\r\n        startLoading();\r\n        downloadAttachment(id, (err, json) => {\r\n          if (json.success) {\r\n            const downloadLink = SERVER_URL + \"/\" + json.file;\r\n            const link = document.createElement(\"a\");\r\n            link.style.display = \"none\";\r\n            link.href = downloadLink;\r\n            link.target = \"_blank\";\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n          } else {\r\n            toast.warn(json.message);\r\n          }\r\n          finishLoading();\r\n        });\r\n      }\r\n    } else {\r\n      window.alert(\"Not allowed to download the file!\");\r\n    }\r\n  };\r\n\r\n  const deleteFile = (id) => {\r\n    toast.warn(\"You cannot delete the file\");\r\n    // if (window.confirm(\"Do you want to delete the file?\")) {\r\n    //   deleteAttachment(id, (err, json) => {\r\n    //     if (!err && json && json.success) {\r\n    //       toast.success(\"Success!\");\r\n    //       props.loadMemo();\r\n    //     } else {\r\n    //       toast.error(\"Error occurred!\");\r\n    //     }\r\n    //   });\r\n    // }\r\n  };\r\n\r\n  const uploadFile = (fileType) => {\r\n    if (state.selectedFiles.length > 0) {\r\n      const data = new FormData();\r\n      data.append(\"fileType\", fileType);\r\n      data.append(\"itemId\", props.memoId);\r\n      data.append(\"itemType\", \"memo\");\r\n      for (var file in state.selectedFiles) {\r\n        data.append(\"file\", state.selectedFiles[file]);\r\n      }\r\n      setState({\r\n        ...state,\r\n        loading: 0,\r\n      });\r\n      server\r\n        .post(\"/client/attachment\", data, {\r\n          onUploadProgress: (progressEvent) => {\r\n            const percentage = parseInt(Math.round((progressEvent.loaded / progressEvent.total) * 100));\r\n            setState({\r\n              loading: percentage,\r\n            });\r\n          },\r\n        })\r\n        .then((res) => {\r\n          props.loadMemo();\r\n          setState({\r\n            ...state,\r\n            selectedFiles: [],\r\n            loading: null,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setState({\r\n            ...state,\r\n            selectedFiles: [],\r\n            loading: null,\r\n          });\r\n        });\r\n    } else {\r\n      toast.warn(\"No files selected!\");\r\n    }\r\n  };\r\n  return (\r\n    <Card className=\"mb-2\">\r\n      {/* HEADING START */}\r\n      <CardHeader>\r\n        <i className=\"fa fa-file\" /> Attachments\r\n      </CardHeader>\r\n      {/* HEADING END */}\r\n      <CardBody>\r\n        <Table responsive>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Type</th>\r\n              <th>Size(in KB)</th>\r\n              <th>Modified</th>\r\n              <th style={{ width: \"150px\" }}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {attachments.map((row) => (\r\n              <tr key={row.id}>\r\n                {isPrimary ? (\r\n                  <td style={{ color: \"#00e\", cursor: \"pointer\" }} onClick={() => downloadFile(row.id)}>\r\n                    {row.name}\r\n                  </td>\r\n                ) : (\r\n                  <td>{row.name}</td>\r\n                )}\r\n                <td>{row.fileType}</td>\r\n                <td>{row.size}</td>\r\n                <td>{new Date(row.updatedAt).toDateString()}</td>\r\n                {isPrimary ? (\r\n                  <td style={{ cursor: \"pointer\" }} onClick={() => deleteFile(row.id)}>\r\n                    <i className=\"fa fa-trash\" />\r\n                  </td>\r\n                ) : (\r\n                  <td></td>\r\n                )}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n        {isPrimary ? (\r\n          <>\r\n            <div className=\"custom-file mb-4\" style={{ zIndex: 0 }}>\r\n              <input\r\n                onChange={onSelectedFile}\r\n                multiple\r\n                type=\"file\"\r\n                className=\"custom-file-input\"\r\n                name=\"file\"\r\n                id=\"file\"\r\n                aria-describedby=\"inputGroupFileAddon01\"\r\n              />\r\n              <label style={{ cursor: \"pointer\" }} className=\"custom-file-label\" id=\"file-label\" htmlFor=\"file\">\r\n                {state.selectedFiles && state.selectedFiles.length !== 0\r\n                  ? Object.values(state.selectedFiles).map((file) => file.name + \", \")\r\n                  : \"Choose a file...\"}\r\n              </label>\r\n            </div>\r\n            {state.loading !== null ? <Progress id=\"progress-bar\" value={state.loading} /> : null}\r\n            <div className=\"component-button-container\">\r\n              <button onClick={() => uploadFile()}>\r\n                <i className=\"fa fa-check\" />\r\n                Upload\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : null}\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AttachmentListTable;\r\n","import React, { useState } from \"react\";\r\nimport { Dropdown, DropdownItem, DropdownToggle, DropdownMenu, Card, CardHeader, Row, CardBody, Col } from \"reactstrap\";\r\nimport _ from \"lodash\";\r\n\r\nimport FileViewer from \"react-file-viewer\"; //FILE VIEWER\r\nimport Viewer from \"react-viewer\"; //IMAGE VIEWER\r\nimport { previewAttachment } from \"../api/attachment\";\r\nimport { connect } from \"react-redux\";\r\nimport { SERVER_URL } from \"client/config/server\";\r\n\r\nconst PreviewAttachments = (props) => {\r\n  const p = props.permissions;\r\n  const attachments = props.attachments;\r\n  const imageAttachments = _.filter(\r\n    attachments ? attachments : [],\r\n    (att) => att.fileType.includes(\"image\") && !att.isCompressed && !att.isEncrypted\r\n  );\r\n  const [state, setState] = useState({\r\n    previewFileType: null,\r\n    previewFilePath: null,\r\n    isPDF: true,\r\n    isImage: true,\r\n    isDropdownOpen: false,\r\n  });\r\n  const getFileType = (type) => {\r\n    type = type.toLowerCase();\r\n    switch (type) {\r\n      case \"jpg\":\r\n        type = \"jpeg\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return type;\r\n  };\r\n\r\n  const previewFile = (id) => {\r\n    if (id) {\r\n      previewAttachment(id, (err, json) => {\r\n        if (err) return;\r\n        if (json.success) {\r\n          const fileType = getFileType(json.fileType);\r\n          const filePath = SERVER_URL + json.filePath;\r\n          setState({\r\n            ...state,\r\n            previewFileType: fileType,\r\n            previewFilePath: filePath,\r\n            isPDF: fileType === \"pdf\",\r\n            isImage: false,\r\n            isDropdownOpen: false,\r\n          });\r\n        } else {\r\n          window.alert(json.message);\r\n        }\r\n      });\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        isImage: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <Row>\r\n          <Col>\r\n            <i className=\"fa fa-file\" /> Preview\r\n          </Col>\r\n          <Col>\r\n            <Dropdown\r\n              isOpen={state.isDropdownOpen}\r\n              toggle={() => setState({ ...state, isDropdownOpen: !state.isDropdownOpen })}\r\n            >\r\n              <DropdownToggle caret>Select Files</DropdownToggle>\r\n              <DropdownMenu\r\n                style={{\r\n                  zIndex: 1020,\r\n                  maxHeight: 300,\r\n                  maxWidth: 200,\r\n                  overflowY: \"auto\",\r\n                  overflowX: \"hidden\",\r\n                }}\r\n              >\r\n                {attachments.map((row, index) => {\r\n                  if (!row.fileType.includes(\"image\")) {\r\n                    return (\r\n                      <DropdownItem\r\n                        key={index}\r\n                        title={row.name}\r\n                        // style={{ width: '200px', textOverflow: 'wrap' }}\r\n                        onClick={() => previewFile(row.id)}\r\n                      >\r\n                        {row.name}\r\n                      </DropdownItem>\r\n                    );\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                })}\r\n              </DropdownMenu>\r\n            </Dropdown>\r\n          </Col>\r\n          <Col>\r\n            <span\r\n              className=\"float-right\"\r\n              onClick={() => {\r\n                setState({ ...state, isImage: !state.isImage });\r\n              }}\r\n              style={{\r\n                border: \"1px solid\",\r\n                padding: 5,\r\n                whiteSpace: \"nowrap\",\r\n                cursor: \"pointer\",\r\n                margin: 3,\r\n              }}\r\n            >\r\n              <i className=\"fa fa-cog\" />\r\n              Preview Images\r\n            </span>\r\n          </Col>\r\n        </Row>\r\n      </CardHeader>\r\n      {/* HEADING END */}\r\n      <CardBody className=\"w-100\">\r\n        <div id=\"other-preview-container\" style={{ display: state.isImage ? \"none\" : \"block\" }}>\r\n          {state.isPDF && state.previewFilePath ? (\r\n            <embed\r\n              src={state.previewFilePath + \"#toolbar=\" + String(p.download ? 1 : 0)}\r\n              type=\"application/pdf\"\r\n              width=\"100%\"\r\n              height=\"400px\"\r\n            />\r\n          ) : (\r\n            <FileViewer\r\n              fileType={state.previewFileType}\r\n              filePath={state.previewFilePath}\r\n              errorComponent={<div>Error!</div>}\r\n              onError={() => {}}\r\n            />\r\n          )}\r\n        </div>\r\n        <div\r\n          id=\"image-preview-container\"\r\n          style={{\r\n            height: 400,\r\n            width: \"100%\",\r\n            textAlign: \"center\",\r\n            alignContent: \"center\",\r\n            display: state.isImage ? \"block\" : \"none\",\r\n          }}\r\n        >\r\n          {imageAttachments.length !== 0 ? (\r\n            <Viewer\r\n              // noImgDetails\r\n              noClose\r\n              onClose={() => setState({ ...state, isImage: false })}\r\n              downloadable={p.download}\r\n              container={document.getElementById(\"image-preview-container\")}\r\n              visible={state.isImage}\r\n              images={_.map(imageAttachments, (att) => {\r\n                return {\r\n                  src: SERVER_URL + att.filePath,\r\n                  alt: att.name,\r\n                };\r\n              })}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({\r\n  user: state.userProfile,\r\n}))(PreviewAttachments);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Card, CardBody, CardHeader, Label, Modal, Button, Col, Row, Form } from \"reactstrap\";\r\nimport query from \"querystring\";\r\nimport A from \"../../../config/url\";\r\nimport FormBuilder from \"gentech-form-builder\";\r\nimport { getMemo, editMemo, submitWorkflow } from \"./api/memo\";\r\nimport { toast } from \"react-toastify\";\r\nimport AttachmentListTable from \"./components/AttachmentListTable\";\r\nimport PreviewAttachments from \"./components/PreviewAttachments\";\r\nimport HTMLFormRender from \"./components/HTMLFormRender\";\r\nimport metaRoutes from \"../../meta_routes\";\r\nimport { getFormData } from \"../../../config/form\";\r\nimport { connect } from \"react-redux\";\r\nimport { CLIENT_USER } from \"../../../config/values\";\r\n\r\nconst MemoView = (props) => {\r\n  const qs = query.parse(props.location.search);\r\n  const memoId = A.getId(qs[\"?i\"]);\r\n  const [memo, setMemo] = useState({});\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [canEditMemo, setCanEditMemo] = useState(false);\r\n  useEffect(() => {\r\n    if (!memoId) {\r\n      props.history.push(metaRoutes.clientMemoList);\r\n    } else {\r\n      getData();\r\n    }\r\n  }, []); //eslint-disable-line\r\n  const getData = () => {\r\n    getMemo(memoId, (err, data) => {\r\n      if (err) props.history.push(metaRoutes.clientMemoList);\r\n      else {\r\n        setMemo(data.memo);\r\n        // setMemoDetails(data.memoDetails);\r\n        if (data.memo.workflowMasterId) {\r\n          setCanEditMemo(data.memo.workflow_master.assignedTo === data.memo.workflow_master.initiatorId);\r\n        } else {\r\n          setCanEditMemo(true);\r\n        }\r\n        setIsLoaded(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const onSubmitHTML = (e) => {\r\n    e.preventDefault();\r\n    const formData = getFormData(e);\r\n    const memoValues = Object.keys(formData).map((key) => ({\r\n      name: key,\r\n      value: formData[key],\r\n    }));\r\n    if (canEditMemo) {\r\n      onEditMemo(memoValues);\r\n    } else {\r\n      toast.warn(\"You cannot edit the form!\");\r\n    }\r\n  };\r\n\r\n  const onEditMemo = (memoValues) => {\r\n    editMemo(\r\n      {\r\n        id: memo.id,\r\n        formId: memo.form.id,\r\n        memoValues,\r\n      },\r\n      (err, data) => {\r\n        if (err) toast.error(\"Error!\");\r\n        else toast.success(\"Success!\");\r\n      }\r\n    );\r\n  };\r\n  const p = props.permissions || {};\r\n  return !isLoaded ? null : (\r\n    <>\r\n      <Card>\r\n        <CardHeader>\r\n          <Row>\r\n            <Col>\r\n              <Label>Name: {memo.form.name}</Label>\r\n              <br />\r\n              <Label>Description:</Label>\r\n              <p>{memo.form.description}</p>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                title=\"View Attachments\"\r\n                onClick={() => setIsOpen(true)}\r\n                className=\"float-right mx-1\"\r\n                size=\"sm\"\r\n                color=\"info\"\r\n              >\r\n                <i className=\"fa fa-eye text-white\" />\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </CardHeader>\r\n        <CardBody id=\"form\">\r\n          {memo.form.type === \"html\" ? (\r\n            <Form onSubmit={onSubmitHTML}>\r\n              <HTMLFormRender\r\n                type={CLIENT_USER}\r\n                memoValues={memo.memo_values}\r\n                isEdit={canEditMemo}\r\n                formData={memo.form ? memo.form.formData : []}\r\n              />\r\n              {canEditMemo ? (\r\n                <Button type=\"submit\" size=\"sm\" className=\"text-white mt-2\" color=\"info\">\r\n                  <i className=\"fa fa-save\" /> Save as draft\r\n                </Button>\r\n              ) : null}\r\n            </Form>\r\n          ) : null}\r\n          {memo.form.type === \"dynamic\" ? (\r\n            <FormBuilder.ReactFormGenerator\r\n              onSubmit={onEditMemo}\r\n              answer_data={\r\n                memo.memo_values\r\n                  ? memo.memo_values.map((memVal) => ({\r\n                      id: memVal.id,\r\n                      name: memVal.name,\r\n                      value: JSON.parse(memVal.value),\r\n                    }))\r\n                  : []\r\n              }\r\n              data={JSON.parse(memo.form.formData || \"{}\")}\r\n              action_name=\"Save as Draft\"\r\n              read_only={!canEditMemo}\r\n              hide_actions={!canEditMemo}\r\n            />\r\n          ) : null}\r\n        </CardBody>\r\n      </Card>\r\n      <Modal isOpen={isOpen} toggle={() => setIsOpen(!isOpen)}>\r\n        <PreviewAttachments attachments={memo.attachments || []} permissions={p} isPrimary={false} />\r\n      </Modal>\r\n      <AttachmentListTable\r\n        isPrimary\r\n        attachments={memo.attachments || []}\r\n        permissions={p}\r\n        memoId={memo.id}\r\n        loadMemo={getData}\r\n      />\r\n      {memo.workflowMasterId ? null : (\r\n        <Button\r\n          size=\"lg\"\r\n          color=\"success\"\r\n          onClick={() => {\r\n            const data = { memoId };\r\n            submitWorkflow({ data, action: \"start\" }, (err, json) => {\r\n              if (err) {\r\n                toast.warn(\"Oops! Something went wrong\");\r\n              } else {\r\n                toast.success(\"Successful\");\r\n                getData();\r\n              }\r\n            });\r\n          }}\r\n        >\r\n          Proceed\r\n        </Button>\r\n      )}\r\n      {memo.workflow_master && memo.workflow_master.assignedTo === memo.createdBy ? (\r\n        <Button\r\n          size=\"lg\"\r\n          color=\"success\"\r\n          onClick={() => {\r\n            const data = { memoId, workflowMasterId: memo.workflowMasterId };\r\n            submitWorkflow({ data, action: \"submit\" }, (err, json) => {\r\n              if (err) {\r\n                toast.warn(\"Oops! Something went wrong\");\r\n              } else {\r\n                toast.success(\"Successful\");\r\n                getData();\r\n              }\r\n            });\r\n          }}\r\n        >\r\n          Proceed\r\n        </Button>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({\r\n  users: state.allFields.users,\r\n}))(MemoView);\r\n","import { server } from \"client/config/server\";\r\nconst url = \"/client/memo\";\r\n\r\nexport const submitWorkflow = ({ data, action }, callback) => {\r\n  const memoId = data.memoId;\r\n  server\r\n    .post(`${url}/${action}/${memoId}`, data)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const addMemo = (data, callback) => {\r\n  server\r\n    .post(`${url}`, data)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const getMemos = (search, callback) => {\r\n  server\r\n    .get(`${url}`, { params: search })\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const getMemo = (id, callback) => {\r\n  server\r\n    .get(`${url}/${id}`)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const editMemo = (data, callback) => {\r\n  server\r\n    .put(`${url}`, data)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { ADMIN_USER, CLIENT_USER } from \"../../../../config/values\";\r\n\r\nconst HTMLFormRender = (props) => {\r\n  const type = props.type || null;\r\n  const isEdit = props.isEdit || false;\r\n  const memoValues = props.memoValues || [];\r\n  const formData = props.formData || \"\";\r\n  useEffect(() => {\r\n    switch (type) {\r\n      case ADMIN_USER:\r\n        break;\r\n      case CLIENT_USER:\r\n        const el = document.getElementById(\"bank-segment\");\r\n        if (el) el.parentNode.removeChild(el);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    memoValues.forEach(({ name, value }) => {\r\n      const elements = document.getElementsByName(name);\r\n      if (elements.length !== 0) {\r\n        elements.forEach((element) => {\r\n          element.value = JSON.parse(value);\r\n          element.checked = JSON.parse(value);\r\n          switch (element.type) {\r\n            case \"checkbox\":\r\n              if (value === \"true\") {\r\n                element.setAttribute(\"checked\", true);\r\n              } else {\r\n                element.removeAttribute(\"checked\");\r\n              }\r\n              break;\r\n            case \"radio\":\r\n              if (JSON.stringify(element.value) === value) {\r\n                element.setAttribute(\"checked\", true);\r\n              } else {\r\n                // element.setAttribute('checked', false);\r\n              }\r\n              break;\r\n            default:\r\n              element.value = JSON.parse(value);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }, [memoValues, isEdit, type]);\r\n  return (\r\n    <div\r\n      dangerouslySetInnerHTML={{\r\n        __html: formData,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default HTMLFormRender;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"names":["_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","propTypes","children","PropTypes","bar","multi","tag","tagPropType","value","min","max","animated","striped","color","className","barClassName","cssModule","style","barStyle","barAriaValueText","barAriaLabelledBy","Progress","props","Tag","attributes","_objectWithoutPropertiesLoose","percent","toNumber","progressClasses","mapToCssModules","classNames","progressBarProps","width","role","React","_extends","defaultProps","url","attachments","isPrimary","state","setState","useState","loading","selectedFiles","downloadFile","id","permissions","download","window","confirm","document","getElementById","display","callback","server","get","then","res","data","json","catch","err","downloadAttachment","success","downloadLink","SERVER_URL","file","link","createElement","href","body","appendChild","click","removeChild","toast","warn","message","alert","_jsxs","Card","CardHeader","_jsx","CardBody","Table","responsive","map","row","cursor","onClick","name","fileType","size","Date","updatedAt","toDateString","_Fragment","zIndex","onChange","event","files","multiple","type","htmlFor","values","FormData","append","memoId","post","onUploadProgress","progressEvent","percentage","parseInt","Math","round","loaded","total","loadMemo","uploadFile","connect","user","userProfile","p","imageAttachments","_","att","includes","isCompressed","isEncrypted","previewFileType","previewFilePath","isPDF","isImage","isDropdownOpen","previewFile","previewAttachment","toLowerCase","getFileType","filePath","Row","Col","Dropdown","isOpen","toggle","DropdownToggle","caret","DropdownMenu","maxHeight","maxWidth","overflowY","overflowX","index","DropdownItem","title","border","padding","whiteSpace","margin","src","String","height","FileViewer","errorComponent","onError","textAlign","alignContent","Viewer","noClose","onClose","downloadable","container","visible","images","alt","users","allFields","qs","query","location","search","A","getId","memo","setMemo","setIsOpen","isLoaded","setIsLoaded","canEditMemo","setCanEditMemo","useEffect","getData","history","metaRoutes","clientMemoList","getMemo","workflowMasterId","workflow_master","assignedTo","initiatorId","onEditMemo","memoValues","editMemo","formId","form","error","Label","description","Button","Form","onSubmit","e","preventDefault","formData","getFormData","HTMLFormRender","CLIENT_USER","memo_values","isEdit","FormBuilder","answer_data","memVal","JSON","parse","action_name","read_only","hide_actions","Modal","PreviewAttachments","AttachmentListTable","submitWorkflow","action","createdBy","_ref","addMemo","getMemos","params","put","ADMIN_USER","el","parentNode","elements","getElementsByName","element","checked","setAttribute","removeAttribute","stringify","dangerouslySetInnerHTML","__html","bordered","borderless","dark","hover","responsiveTag","innerRef","ResponsiveTag","classes","table","ref","responsiveClassName"],"sourceRoot":""}