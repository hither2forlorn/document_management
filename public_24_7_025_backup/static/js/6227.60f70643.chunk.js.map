{"version":3,"file":"static/js/6227.60f70643.chunk.js","mappings":"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","sources":["admin/views/AdminComponent.js","admin/views/DocumentTypes/EditDocumentType.js","admin/views/DocumentTypes/api.js","utils/textCapital.js"],"sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction AdminComponent({ children, userProfile }) {\r\n  return <>{userProfile.id === 1 || userProfile.hierarchy === \"Super-001\" ? children : null}</>;\r\n}\r\n\r\nexport default connect((state) => ({\r\n  userProfile: state.userProfile,\r\n}))(AdminComponent);\r\n","import React from \"react\";\r\nimport { getDocumentType, editDocumentType } from \"./api\";\r\nimport A from \"config/url\";\r\nimport { connect } from \"react-redux\";\r\nimport { loadAllFields } from \"redux/actions/apiAction\";\r\nimport { Button } from \"reactstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport query from \"querystring\";\r\nimport metaRoutes from \"config/meta_routes\";\r\nimport { Card, CardBody, CardHeader, Row, Col, CardFooter, Input, Label, Form, FormGroup } from \"reactstrap\";\r\nimport { banks, onlyForThisVendor } from \"config/bank\";\r\nimport { CustomSelect } from \"admin/components\";\r\nimport titleCase from \"utils/textCapital\";\r\nimport Required from \"admin/components/Required\";\r\nimport { filter_hierarchies } from \"utils/arrayManipulation\";\r\nimport AdminComponent from \"../AdminComponent\";\r\n\r\nclass EditDocumentType extends React.Component {\r\n  state = {\r\n    documentType: {},\r\n    documentTypes: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const qs = query.parse(this.props.location.search);\r\n    const id = A.getId(qs[\"?i\"]);\r\n    A.getId(this.props.match.params.id);\r\n    this.setState(this.props.allFields);\r\n    getDocumentType(id, (err, data) => {\r\n      if (err) return;\r\n      if (data.success) {\r\n        this.setState({\r\n          documentType: data.data,\r\n        });\r\n        // console.log(data.data);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const name = event.target.name;\r\n    let value = event.target.value;\r\n    const doc = this.state.documentType;\r\n    if (event.target.name === \"parentId\" && Number(event.target.value) === this.state.documentType.id) {\r\n      toast.warn(\"Cannot select itself as parent!\");\r\n    } else {\r\n      value = titleCase(value);\r\n      doc[event.target.name] = event.target.value ? event.target.value : null;\r\n      this.setState({\r\n        documentType: { ...this.state.documentType, [name]: value },\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (window.confirm(\"Do you want to update the document?\")) {\r\n      const documentType = this.state.documentType;\r\n      const parent = this.state.documentTypes?.filter((item) => {\r\n        if (item.id === Number(documentType.parentId)) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      })[0];\r\n      if (parent) {\r\n        documentType.level = parent.level + 1;\r\n      } else {\r\n        documentType.level = 0;\r\n      }\r\n      editDocumentType(documentType, (err, data) => {\r\n        if (err) {\r\n          return toast.error(err.response.data.data.name[0]);\r\n        }\r\n        if (!data.success) {\r\n          toast.warn(data.message);\r\n        }\r\n        if (data.success) {\r\n          toast.success(data.message);\r\n          this.props.history.push(metaRoutes.adminDocumentTypes);\r\n          this.props.dispatch(loadAllFields());\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  handleAssociateIdChange = (e) => {\r\n    this.setState({\r\n      documentType: {\r\n        ...this.state.documentType,\r\n        isAssociatedIDReq: e.currentTarget.value,\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const hierarchies = this.props.allFields.hierarchy;\r\n    const filteredHierarchies = hierarchies?.filter((h) => h.name !== \"Branch\");\r\n\r\n    return (\r\n      <Card className=\"shadow\">\r\n        <CardHeader>\r\n          <p className=\"h5\">Edit Document Type</p>\r\n        </CardHeader>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <CardBody>\r\n            <FormGroup>\r\n              <Row>\r\n                <Col md={4}>\r\n                  <Label>Name:</Label>\r\n                  <Required />\r\n                </Col>\r\n                <Col md={8}>\r\n                  <Input\r\n                    className=\"rounded\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.documentType.name ? this.state.documentType.name : \"\"}\r\n                    name=\"name\"\r\n                    id=\"name\"\r\n                    required\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Row>\r\n                <Col md={4}>\r\n                  <Label>Parent Category</Label>\r\n                </Col>\r\n                <Col md={8}>\r\n                  <Input\r\n                    className=\"rounded\"\r\n                    type=\"select\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.documentType.parentId ? this.state.documentType.parentId : \"\"}\r\n                    name=\"parentId\"\r\n                    id=\"parentId\"\r\n                  >\r\n                    <option value=\"\">--- NONE ---</option>\r\n                    {this.state.documentTypes?.map((row) => {\r\n                      let padding = \"\";\r\n                      let level = row.level;\r\n                      while (level-- > 0) {\r\n                        padding += \"---\";\r\n                      }\r\n                      return (\r\n                        <option key={row.id} value={row.id}>\r\n                          {padding + \" \" + row.name}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </Input>\r\n                </Col>\r\n              </Row>\r\n            </FormGroup>\r\n            {/* {onlyForThisVendor([banks.rbb.name, banks.citizen.name]) && (\r\n              <CustomSelect\r\n                required\r\n                onChange={this.handleChange}\r\n                defaultValueOnlyForCombobox={\r\n                  this.state.documentType.hierarchy\r\n                    ? this.state.documentType.hierarchy\r\n                    : \"\"\r\n                }\r\n                label=\"Security Hierarchy\"\r\n                name=\"hierarchy\"\r\n                options={this.props.allFields.hierarchy}\r\n              />\r\n            )} */}\r\n            {onlyForThisVendor(banks.bok.name) && (\r\n              <FormGroup>\r\n                <Row>\r\n                  <Col md={4}>\r\n                    <Label>Associate ID</Label>\r\n                  </Col>\r\n                  <Col md={8}>\r\n                    <Input\r\n                      className=\"rounded\"\r\n                      type=\"select\"\r\n                      onChange={this.handleAssociateIdChange}\r\n                      value={\r\n                        this.state.documentType.isAssociatedIDReq != null ? this.state.documentType.isAssociatedIDReq : \"\"\r\n                      }\r\n                      name=\"associateId\"\r\n                      id=\"associateId\"\r\n                    >\r\n                      <option value=\"\">--- NONE ---</option>\r\n                      <option value={true}>Required</option>\r\n                      <option value={false}>Optional</option>\r\n                    </Input>\r\n                  </Col>\r\n                </Row>\r\n              </FormGroup>\r\n            )}\r\n\r\n            {/* Admin component */}\r\n            <AdminComponent>\r\n              <FormGroup>\r\n                <Row>\r\n                  <Col md={4}>\r\n                    <Label>Hierarchy</Label>\r\n                    {/* <Required /> */}\r\n                  </Col>\r\n                  <Col md={8}>\r\n                    <CustomSelect\r\n                      // required\r\n                      onChange={this.handleChange}\r\n                      defaultValueOnlyForCombobox={\r\n                        this.state.documentType.hierarchy ? this.state.documentType.hierarchy : \"\"\r\n                      }\r\n                      // label=\"Security Hierarchy\"\r\n                      name=\"hierarchy\"\r\n                      options={filteredHierarchies}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </FormGroup>\r\n            </AdminComponent>\r\n          </CardBody>\r\n          <CardFooter className=\"d-flex justify-content-end\">\r\n            <Button onClick={() => window.history.back()} type=\"button\" color=\"danger\" className=\"mx-2 text-white\">\r\n              Cancel\r\n            </Button>\r\n            <Button color=\"primary\">Update</Button>\r\n          </CardFooter>\r\n        </Form>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({\r\n  allFields: state.allFields,\r\n  userProfile: state.userProfile,\r\n}))(EditDocumentType);\r\n","// import A from \"./Util\";\r\nimport { server } from \"admin/config/server\";\r\nconst url = \"/document-type\";\r\n\r\nfunction addDocumentType(body, callback) {\r\n  server\r\n    .post(`${url}`, body)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getDocumentTypes(callback) {\r\n  server\r\n    .get(`${url}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction editDocumentType(body, callback) {\r\n  server\r\n    .put(`${url}`, body)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getDocumentType(id, callback) {\r\n  server\r\n    .get(`${url}/${id}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction deleteDocumentType(id, callback) {\r\n  server\r\n    .delete(`${url}/${id}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nexport { addDocumentType, getDocumentTypes, editDocumentType, getDocumentType, deleteDocumentType };\r\n","export default function titleCase(text) {\r\n  return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n"],"names":["connect","state","userProfile","_ref","children","_jsx","_Fragment","id","hierarchy","EditDocumentType","React","constructor","arguments","documentType","documentTypes","handleChange","event","name","target","value","doc","this","Number","toast","warn","titleCase","setState","handleSubmit","preventDefault","window","confirm","_this$state$documentT","parent","filter","item","parentId","level","editDocumentType","err","data","error","response","success","message","props","history","push","metaRoutes","adminDocumentTypes","dispatch","loadAllFields","handleAssociateIdChange","e","isAssociatedIDReq","currentTarget","componentDidMount","qs","query","location","search","A","getId","match","params","allFields","getDocumentType","render","_this$state$documentT2","hierarchies","filteredHierarchies","h","_jsxs","Card","className","CardHeader","Form","onSubmit","CardBody","FormGroup","Row","Col","md","Label","Required","Input","onChange","required","type","map","row","padding","onlyForThisVendor","banks","bok","AdminComponent","CustomSelect","defaultValueOnlyForCombobox","options","CardFooter","Button","onClick","back","color","url","addDocumentType","body","callback","server","post","then","catch","getDocumentTypes","get","put","deleteDocumentType","delete","text","charAt","toUpperCase","slice"],"sourceRoot":""}