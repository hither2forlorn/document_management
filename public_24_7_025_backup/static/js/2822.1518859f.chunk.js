"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[2822],{54592:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(43845),r=(s(65043),s(70579));function n(e){let{...t}=e;return(0,r.jsx)(a.A,{...t,color:"primary",size:"small"})}},28615:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(65043),r=s(46316),n=s(97508),c=(s(71020),s(58441)),l=s(44958),o=(s(94342),s(97404)),i=s(62582),d=s(80231),m=s(75304),u=s(38477),h=s(44864),p=s(70579),x=0;const j=(0,n.Ng)((e=>({allFields:e.allFields,searchData:e.docSearchData,docLimit:e.docLimitDocumentNumber})))((e=>{const[t,s]=(0,a.useState)([]),[j,g]=(0,a.useState)(!0),[b,f]=(0,a.useState)(1),[A,v]=(0,a.useState)(0),y=(0,n.d4)((e=>e.docLimitDocumentNumber));console.log("Docuemnt List =>",t),console.log("Total Docuemtn =>",A),(0,a.useEffect)((()=>(0===x&&e.dispatch((0,r.vs)(1)),(0,l.qQ)(((t,a)=>{console.log("Response Data",a),console.log("The data",e.searchData),t||(a.success?(s(a.paginationDocument),v(a.total)):(console.log(a),window.alert(a.message)))}),{page:b,limit:e.docLimit}),()=>{x++})),[e.searchData,e.docPageNo,e.docLimit,b,y]);const N=[{Header:"Doc Type",accessor:"DocumentType"},{Header:"Department",accessor:"Department"},{Header:"Doc Name",accessor:"DocumentName",Cell:e=>{let{row:t}=e;return(0,p.jsx)(i.Link,{className:"text-break",style:{color:"#17a2b8",cursor:"pointer"},to:d.A.documentsView+"?i="+c.A.getHash(t.original.id),children:t.values.DocumentName})}},{Header:"Status",accessor:"DocumentStatus"},{Header:"Location",accessor:"locationMap"},{Header:"Created By",accessor:"username"}];return(0,p.jsx)(a.Fragment,{children:(0,p.jsxs)(m.A,{className:"shadow",children:[(0,p.jsx)(u.A,{children:(0,p.jsx)("p",{className:"h5",children:"Favourite Document List"})}),(0,p.jsx)(h.A,{children:(0,p.jsx)(o.A,{name:"DocumentName",columns:N,data:t})})]})})}))},71020:(e,t,s)=>{s.d(t,{HI:()=>n,wO:()=>c});var a=s(76400);const r="/favourite";function n(e,t){a.E8.post(r,e).then((e=>e.data)).then((e=>{t(null,e)})).catch((e=>{console.log(e)}))}function c(e,t){a.E8.get(`${r}`,{params:{docId:e}}).then((e=>e.data)).then((e=>{t(null,e)})).catch((e=>{console.log(e),t(e)}))}},97404:(e,t,s)=>{s.d(t,{A:()=>x});var a=s(65043),r=s(71094),n=s(58472),c=s(25852),l=s(13718),o=s(97508),i=s(59135),d=s(87561),m=s(7467),u=s(88988),h=s(95702),p=(s(15421),s(70579));const x=(0,o.Ng)((e=>({allFields:e.allFields,searchData:e.docSearchData})))((function(e){const{columns:t,data:s,allData:o}=e,[x,j]=(0,a.useState)(""),{getTableProps:g,getTableBodyProps:b,headerGroups:f,page:A,gotoPage:v,setPageSize:y,prepareRow:N,setFilter:D,state:{pageIndex:k,pageSize:T}}=(0,r.useTable)({columns:t,data:x&&(e.LocationMapBata||e.securityHierarchyBata)?o:s},r.useFilters,r.useSortBy,r.usePagination);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"form-group rounded",children:(0,p.jsxs)("div",{className:"input-group mb-2",children:[(0,p.jsx)("div",{className:"input-group-prepend rounded",children:(0,p.jsx)("div",{className:"input-group-text rounded",children:(0,p.jsx)("i",{className:"fas fa-search"})})}),(0,p.jsx)("input",{name:e.name||"name",value:x,className:"form-control rounded",onChange:e=>{const t=e.target.value||void 0;if("DocumentName"===e.target.name)D("DocumentName",t),j(t);else D("name",t),j(t)},placeholder:"Search by name column"})]})}),(0,p.jsxs)(n.A,{responsive:!0,bordered:!0,hover:!0,...g(),id:"toExcelData",children:[(0,p.jsx)("thead",{className:"table-active",children:f.map((e=>(0,p.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map((e=>(0,p.jsxs)("th",{...e.getHeaderProps(e.getSortByToggleProps()),className:e.isSorted?e.isSortedDesc?"sort-desc":"sort-asc":"",children:[e.render("Header"),(0,p.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,p.jsxs)("span",{children:["  ",(0,p.jsx)("i",{className:"fas fa-caret-square-down text-info ml-2"})]}):(0,p.jsxs)("span",{children:["  ",(0,p.jsx)("i",{className:"fas fa-caret-square-up text-info pl-1"})]}):(0,p.jsxs)("span",{children:[" ",(0,p.jsx)("i",{className:"fas fa-sort text-info pl-1"})]})})]})))})))}),(0,p.jsx)("tbody",{...b(),children:A.map(((e,t)=>(N(e),(0,p.jsx)("tr",{...e.getRowProps(),children:e.cells.map((e=>(0,p.jsx)("td",{...e.getCellProps(),children:e.render("Cell")})))}))))})]}),(0,p.jsxs)(c.A,{children:[(0,p.jsx)(l.A,{children:(0,p.jsx)(i.A,{count:parseInt(Math.ceil(s.length/T)),onChange:(e,t)=>{v(t-1)},shape:"rounded",page:k+1})}),(0,p.jsx)(l.A,{children:(0,p.jsxs)("div",{className:"float-right mt-2 d-flex align-items-center",children:[(0,p.jsx)("p",{className:"mb-0 mr-2",children:"Items Per Page"}),(0,p.jsx)(d.A,{children:(0,p.jsxs)(m.A,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:T,onChange:e=>{y(Number(e.target.value))},className:"form-control rounded",children:[(0,p.jsx)(u.A,{value:5,children:"5"}),(0,p.jsx)(u.A,{value:10,children:"10"}),(0,p.jsx)(u.A,{value:20,children:"20"})]})}),(0,p.jsxs)("p",{className:"mb-0 ml-2",children:["Total Documents :",(0,p.jsx)("b",{className:"mr-2",children:s.length})," Page :",(0,p.jsxs)("b",{children:[" ",k+1]})]}),(0,p.jsx)(h.A,{id:"toExcel-button",className:"btn btn-sm ml-2 btn-primary text-white float-right",table:"toExcelData",filename:"attachmentstable",sheet:"tablexls",buttonText:"Download Report"})]})})]})]})}))},94342:(e,t,s)=>{s.d(t,{A:()=>w});var a=s(65043),r=s(87382),n=s(25852),c=s(13718),l=s(90284),o=s(62582),i=s(97508),d=s(18039),m=s(46759),u=s(58441),h=s(80231),p=s(11594),x=(s(10577),s(75304)),j=s(38477),g=s(44864),b=s(58472),f=s(83407),A=s(46316),v=s(87561),y=s(7467),N=s(88988),D=s(15421),k=(s(54592),s(95702)),T=s(89967),L=s(70579);const w=(0,i.Ng)((e=>({...e.allFields,docLimit:e.docLimitDocumentNumber})))((e=>{var t;const[s,w]=(0,a.useState)(!1),P=e.docLimit,S=e.docPagination,[C,B]=(0,a.useState)(S),E=(e.totalPages,(0,i.d4)((e=>e.docLimitDocumentNumber))),R=t=>{e.documentList.sort(((e,s)=>{try{return e[t].toLowerCase()<s[t].toLowerCase()?-1:e[t].toLowerCase()>s[t].toLowerCase()?1:0}catch(a){return-1}}))};(0,a.useEffect)((()=>{B((e.docPagination-1)*P)}),[e.docPagination,e.dispatch,e.docLimitDocumentNumber]);const F=e.documentTypes?e.documentTypes:[],I=e.departments?e.departments:[],O=e.branches?e.branches:[],H=e.statuses?e.statuses:[],M=e.locationMaps?e.locationMaps:[],z=e.users?e.users:[],_=e.permissions?e.permissions:{};e.makerEmail&&e.makerEmail;function V(e){return(0,L.jsxs)("ul",{style:{listStyleType:"none",margin:0,padding:0,overflow:"hidden",display:"flex",justifyContent:"center"},children:[e.hasQuickQcr&&(0,L.jsx)("li",{style:{float:"left",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"top",title:"Quick OCR Enabled",children:(0,L.jsx)("i",{className:"fas fa-search text-dark bg-warning p-1 mr-1 rounded",placeholder:"Quick OCR"})}),e.hasEncryption&&(0,L.jsx)("li",{style:{float:"left",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"top",title:"Encryption Enabled",children:(0,L.jsx)("i",{className:"fas fa-lock text-dark bg-warning p-1 mr-1 rounded",placeholder:"Encryption"})}),e.hasOtp&&(0,L.jsx)("li",{style:{float:"left",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"top",title:"OTP Verification Enabled",children:(0,L.jsx)("i",{className:"fas fa-envelope text-dark bg-warning p-1 mr-1 rounded",placeholder:"OTP Verification"})})]})}return(0,L.jsxs)(x.A,{className:"shadow",children:[(0,L.jsxs)(j.A,{children:[(0,L.jsx)("p",{className:"h5",children:e.title}),null!==_&&void 0!==_&&_.maker?(0,L.jsxs)(o.Link,{to:h.A.documentsAdd,className:"btn-header btn btn-outline-dark btn-sm border-dark border",children:[(0,L.jsx)("i",{className:"fa fa-plus"})," Add Document"]}):null]}),(0,L.jsx)(g.A,{children:(0,L.jsxs)(b.A,{responsive:!0,bordered:!0,hover:!0,id:"toExcel",children:[(0,L.jsx)("thead",{className:"table-active",children:(0,L.jsxs)("tr",{children:[(0,L.jsx)("th",{scope:"col",children:"Doc Type"}),(0,L.jsx)("th",{scope:"col",children:"Department"}),(0,L.jsx)("th",{scope:"col",children:"Branch"}),(0,D.onlyForThisVendor)("bok")&&(0,L.jsx)("th",{scope:"col",onClick:()=>R("name"),children:"Account Number"}),(0,L.jsx)("th",{scope:"col",onClick:()=>R("otherTitle"),children:"Document Name"}),(0,L.jsx)("th",{scope:"col",children:"Status"}),e.fromRejectedListTable&&(0,L.jsx)("th",{scope:"col",children:"Message"}),(0,L.jsx)("th",{scope:"col",children:"Location"}),(0,L.jsx)("th",{scope:"col",children:"Created By"}),e.fromPendingListTable?(0,L.jsx)("th",{scope:"col",children:"Assigned To"}):e.fromRejectedListTable?(0,L.jsx)("th",{scope:"col",children:"Rejected By"}):(0,L.jsx)("th",{scope:"col",children:"Created At"}),e.fromPendingListTable||e.fromRejectedListTable?(0,L.jsx)("th",{scope:"col",children:"Created At"}):(0,L.jsx)("th",{scope:"col",children:"Approved At"}),e.fromRejectedListTable&&(0,L.jsx)("th",{scope:"col",children:" Rejected At"}),(e.showControl||e.restorePermission)&&(0,L.jsx)("th",{scope:"col",children:"Action"}),e.fromRejectedListTable&&(0,L.jsx)("th",{scope:"col",children:"Action"})]})}),(0,L.jsx)("tbody",{children:null===e||void 0===e||null===(t=e.documentList)||void 0===t?void 0:t.map(((t,s)=>{const a=(0,m._W)(F,t.documentTypeId),n=(0,m._W)(H,t.statusId),c=(0,m._W)(M,t.locationMapId),l=(0,m._W)(I,t.departmentId),i=(0,m._W)(O,t.branchId),x=(0,m._W)(z,t.createdBy),j=(0,m._W)(z,t.assignTo);return console.log(t,"row is here"),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"text-break",children:a||t.DocumentType?a||t.DocumentType:(0,L.jsx)(T.A,{style:{fontSize:"1rem",textAlign:"center",color:"#ccc"}})}),(0,L.jsx)("td",{className:"text-break",style:{textAlign:"center"},children:l||t.Department?l||t.Department:(0,L.jsx)(T.A,{style:{fontSize:"1rem",textAlign:"center",color:"#ccc"}})}),(0,L.jsx)("td",{className:"text-break",style:{textAlign:"center"},children:i||t.Branch?i||t.Branch:(0,L.jsx)(T.A,{style:{fontSize:"1rem",textAlign:"center",color:"#ccc"}})})," ",(0,D.onlyForThisVendor)("bok")&&(0,L.jsx)("td",{className:"text-break",children:t.name||t.OrganizationName}),(0,L.jsx)("td",{onMouseOver:()=>w(!0),onMouseOut:()=>w(!1),children:(0,L.jsx)(o.Link,{className:"text-break",to:h.A.documentsView+"?i="+u.A.getHash(t.id),children:t.otherTitle||t.DocumentName})}),(0,L.jsxs)("td",{className:"text-break",style:{textAlign:"center",display:"flex",flexDirection:"column"},children:[V(t),(0,L.jsx)("span",{className:"mt-2",children:null!==t&&void 0!==t&&t.returnedByChecker?(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-danger rounded p-1",children:"Rejected"}):(0,L.jsx)(L.Fragment,{children:function(e){switch((null===e||void 0===e?void 0:e.DocumentStatus)||(null===e||void 0===e?void 0:e.statusId)){case"Active":case 1:return(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-success",children:n||e.DocumentStatus});case"Suspended":case 2:return(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-secondary",children:n||e.DocumentStatus});case"checked out":case 3:return(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-dark",children:n||e.DocumentStatus})}}(t)})})]}),e.fromRejectedListTable&&(0,L.jsx)("td",{children:(_.approver||_.checker)&&t.returnedByApprover&&!t.returnedByChecker?(0,L.jsx)("span",{className:"text-break text-center",children:null===t||void 0===t?void 0:t.rejectionMessageByApprover}):((_.approver||_.checker)&&t.returnedByApprover&&t.returnedByChecker,(0,L.jsx)("span",{className:"text-break text-center",children:null===t||void 0===t?void 0:t.rejectionMessageByChecker}))}),(0,L.jsx)("td",{className:"text-break",style:{textAlign:"center"},children:c||t.locationMap?c||t.locationMap:(0,L.jsx)(T.A,{style:{fontSize:"1rem",color:"#ccc"}})}),(0,L.jsxs)("td",{className:"text-break d-flex flex-column text-center",children:[x||t.username,e.fromPendingListTable?(0,L.jsx)(L.Fragment,{children:_.maker&&t.madeBy}):(t.returnedByApprover||t.returnedByChecker)&&_.maker?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("span",{children:t.madeBy?t.madeBy:"CONFIDENTIAL"})," "]}):null]}),e.fromRejectedListTable&&(0,L.jsx)("td",{className:"text-break text-center",children:(null===t||void 0===t?void 0:t.rejectedByEmail)||"Not Available"}),e.fromPendingListTable&&(0,L.jsx)("td",{style:{textAlign:"center"},children:(0,L.jsx)("span",{style:{textAlign:"center"},children:j||t.assignTo?(0,L.jsxs)(L.Fragment,{children:[j||t.assignTo.split("(")[0]," ",(0,L.jsx)("br",{}),(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-secondary",children:`(${j||t.assignTo.split("(")[1]}`})]}):(0,L.jsx)("p",{children:"Not Found"})})}),e.restorePermission&&t.isDeleted&&(0,L.jsx)("td",{children:(0,L.jsx)(p.A,{permission:_.restore,onClick:()=>e.restoreDocument(t.id),buttonType:"restore"})}),(0,L.jsx)("td",{className:"text-center",children:t.createdAt?new Date(t.createdAt).toLocaleString():""}),!e.fromPendingListTable&&(0,L.jsx)("td",{className:"text-center",children:t.updatedAt?new Date(t.updatedAt).toLocaleString():""}),e.fromRejectedListTable&&(0,L.jsx)("td",{children:_.checker||_.approver?(0,L.jsx)(p.A,{permission:_.checker||_.approver,buttonType:"view",to:`${h.A.documentsView}?i=${u.A.getHash(t.id)}`}):null!==t&&void 0!==t&&t.returnedByChecker?(0,L.jsx)(r.A,{className:"badge badge-primary p-2 bg-blue-200 text-blue-600",onClick:()=>e.resubmitDocumentHandler(t.id),children:"Resubmit"}):null}),e.showControl&&(0,L.jsxs)("td",{children:[e.fromPendingListTable&&t.isUserChecker?"Approval Pending":null,(_.document===d.Xd||_.document===d.gR||_.document===d.n7)&&!(null!==t&&void 0!==t&&t.isUserChecker)&&(0,L.jsxs)(L.Fragment,{children:[e.approveDocument&&(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(p.A,{permission:_.checker||_.approver,buttonType:"view",to:h.A.documentsView+"?i="+u.A.getHash(t.id)})}),!e.fromPendingListTable&&!t.isDeleted&&(0,L.jsx)(p.A,{to:h.A.documentsEdit+"?i="+u.A.getHash(t.id),permission:_.document,buttonType:"edit"})]}),e.deleteDocument&&_.document===d.n7&&!t.isDeleted&&(0,L.jsx)("div",{children:(0,L.jsx)(p.A,{permission:_.document,onClick:()=>e.deleteDocument(t.id),buttonType:"delete"})})]})]},s)}))})]})}),(0,L.jsx)(f.A,{className:"bg-white",children:(0,L.jsxs)(n.A,{children:[(0,L.jsx)(c.A,{children:(0,L.jsx)(l.A,{count:parseInt(Math.ceil(e.totalDocuments/E)),onChange:e.handleChangePage,shape:"rounded",page:e.pageNumber})}),(0,L.jsx)(c.A,{children:(0,L.jsxs)("div",{className:"float-right mt-2 d-flex align-items-center",children:[(0,L.jsx)("p",{className:"mb-0 mr-2",children:"Items Per Page"}),(0,L.jsx)(v.A,{children:(0,L.jsxs)(y.A,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:e.docLimit,onChange:t=>{e.dispatch((0,A.wU)(t.target.value))},className:"form-control rounded",children:[(0,L.jsx)(N.A,{value:5,children:"5"}),(0,L.jsx)(N.A,{value:10,children:"10"}),(0,L.jsx)(N.A,{value:20,children:"20"})]})}),(0,L.jsxs)("p",{className:"mb-0 ml-2",children:["Total Documents :",(0,L.jsx)("b",{className:"mr-2",children:e.totalDocuments})," Page :",(0,L.jsxs)("b",{children:[" ",e.pageNumber]})]}),(0,D.includeThisFeature)(D.dms_features.DOWNLOAD_REPORT)&&(0,L.jsx)(k.A,{id:"toExcel-button",className:"btn btn-sm ml-2 btn-primary text-white float-right",table:"toExcel",filename:"documents",sheet:"tablexls",buttonText:"Download Report"})]})})]})})]})}))},89967:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(89379),r=s(65043);const n={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var c=s(22172),l=function(e,t){return r.createElement(c.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:n}))};const o=r.forwardRef(l)},90284:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(58168),r=s(65043),n=s(59135),c=s(70579);let l=!1;const o=r.forwardRef((function(e,t){return l||(console.warn(["MUI: The Pagination component was moved from the lab to the core.","","You should use `import { Pagination } from '@mui/material'`","or `import Pagination from '@mui/material/Pagination'`"].join("\n")),l=!0),(0,c.jsx)(n.A,(0,a.A)({ref:t},e))}))},96369:(e,t,s)=>{function a(e){if(Array.isArray(e))return e}s.d(t,{A:()=>a})},76562:(e,t,s)=>{function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}s.d(t,{A:()=>a})},80045:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(98587);function r(e,t){if(null==e)return{};var s,r,n=(0,a.A)(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)s=c[r],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}},5544:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(96369);var r=s(27800),n=s(76562);function c(e,t){return(0,a.A)(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,r,n,c,l=[],o=!0,i=!1;try{if(n=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;o=!1}else for(;!(o=(a=n.call(s)).done)&&(l.push(a.value),l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{if(!o&&null!=s.return&&(c=s.return(),Object(c)!==c))return}finally{if(i)throw r}}return l}}(e,t)||(0,r.A)(e,t)||(0,n.A)()}}}]);
//# sourceMappingURL=2822.1518859f.chunk.js.map