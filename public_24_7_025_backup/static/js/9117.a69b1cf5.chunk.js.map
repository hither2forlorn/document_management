{"version":3,"file":"static/js/9117.a69b1cf5.chunk.js","mappings":"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","sources":["admin/views/Workflow/WorkflowQueue.js","admin/views/Workflow/WorkflowAction.js","admin/views/Workflow/WorkflowLog.js","admin/views/Memo/api/attachment.js","admin/views/Memo/components/AttachmentListTable.js","admin/views/Memo/components/PreviewAttachments.js","admin/views/Memo/MemoView.js","admin/views/Memo/api/memo.js","admin/views/Memo/components/HTMLFormRender.js","admin/views/Workflow/api.js","admin/views/Workflow/util.js"],"sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Card, Row, Col, CardBody, CardHeader } from \"reactstrap\";\r\nimport _ from \"lodash\";\r\nimport { getUser } from \"./util\";\r\n\r\nconst WorkflowQueue = (props) => {\r\n  const workflowMaster = props.workflowMaster || {};\r\n  const workflowUsers = _.orderBy(workflowMaster.workflow_users, [\"level\"], \"asc\") || [];\r\n  return (\r\n    <>\r\n      <Row className=\"my-2\">\r\n        <Col xs={5} sm={4} md={3}>\r\n          <Card className=\"shadow\">\r\n            <CardHeader>\r\n              <span>{workflowMaster.requestId}</span>\r\n            </CardHeader>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={7} sm={8} md={9} />\r\n        <Col key={workflowMaster.initiatorId} sm={4} md={3}>\r\n          <Card\r\n            className={\r\n              workflowMaster.assignedTo === workflowMaster.initiatorId ? \"shadow bg-warning blink_me\" : \"bg-info shadow\"\r\n            }\r\n          >\r\n            <CardBody style={{ height: 60, alignItems: \"center\" }}>\r\n              <strong>{getUser(workflowMaster.initiatorId, props.users)}</strong>\r\n            </CardBody>\r\n          </Card>\r\n        </Col>\r\n        {workflowUsers.map((workflowUser) => {\r\n          const isAssigned = workflowMaster.assignedTo === workflowUser.userId;\r\n          // const isApprover = workflowUser.type === \"approver\";\r\n          return (\r\n            <Col key={workflowUser.userId} sm={4} md={3}>\r\n              <Card className={isAssigned ? \"shadow bg-warning blink_me\" : \"shadow bg-info\"}>\r\n                <CardBody style={{ height: 60, alignItems: \"center\" }}>\r\n                  <strong>{getUser(workflowUser.userId, props.users)}</strong>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({\r\n  users: state.allFields.users,\r\n}))(WorkflowQueue);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Card, Input, CardHeader, CardBody, Label, Button, Row, Col, FormGroup } from \"reactstrap\";\r\nimport { EditorState, convertToRaw } from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport { takeActionWorkflow } from \"./api\";\r\nimport { CURRENT_USER_ID } from \"config/values\";\r\nimport PropTypes from \"prop-types\";\r\nimport _ from \"lodash\";\r\nimport { getUser } from \"./util\";\r\n\r\nconst WorkflowAction = (props) => {\r\n  const workflowMaster = props.workflowMaster || {};\r\n  const workflowUsers = workflowMaster.workflow_users || [];\r\n  const currentUserId = Number(localStorage.getItem(CURRENT_USER_ID));\r\n  const currentUser = _.find(workflowUsers, { userId: currentUserId }) || {};\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [editorValue, setEditorValue] = useState(EditorState.createEmpty());\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const onSubmit = (e) => {\r\n    const action = e.target.name;\r\n    if (action === \"return\") {\r\n      if (!userId) {\r\n        toast.warn(\"An user must be selected\");\r\n        return;\r\n      }\r\n      if (!comment) {\r\n        toast.warn(\"Comment must not be empty\");\r\n        return;\r\n      }\r\n    }\r\n    if (action === \"comment\" && !comment) {\r\n      toast.warn(\"Comment must not be empty\");\r\n      return;\r\n    }\r\n    takeActionWorkflow(\r\n      {\r\n        action,\r\n        data: {\r\n          comment,\r\n          workflowMasterId: workflowMaster.id,\r\n          userId,\r\n        },\r\n      },\r\n      (err, json) => {\r\n        if (err) toast.error(\"Error!\");\r\n        else {\r\n          toast.success(\"Success!\");\r\n          props.getData();\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const onEditorStateChange = (editorValue) => {\r\n    setEditorValue(editorValue);\r\n    const editorHTML = draftToHtml(convertToRaw(editorValue.getCurrentContent()));\r\n    setComment(editorHTML);\r\n  };\r\n  return workflowMaster.currentStatus === \"Approved\" || workflowMaster.assignedTo !== currentUserId ? null : (\r\n    <>\r\n      <Card className=\"my-2 shadow\">\r\n        <CardHeader>Comment</CardHeader>\r\n        <CardBody>\r\n          <Row>\r\n            <Col md={12}>\r\n              <FormGroup>\r\n                <Editor\r\n                  editorState={editorValue}\r\n                  wrapperClassName=\"border border-dark\"\r\n                  placeholder=\"Enter comment (optional)\"\r\n                  onEditorStateChange={onEditorStateChange}\r\n                  toolbar={{\r\n                    options: [\r\n                      \"inline\",\r\n                      \"blockType\",\r\n                      \"fontSize\",\r\n                      \"fontFamily\",\r\n                      \"list\",\r\n                      \"textAlign\",\r\n                      \"colorPicker\",\r\n                      \"link\",\r\n                      \"history\",\r\n                    ],\r\n                  }}\r\n                />\r\n              </FormGroup>\r\n            </Col>\r\n            <Col md={5} className=\"mt-3\">\r\n              {currentUserId !== workflowMaster.assignedTo ? null : (\r\n                <>\r\n                  {!currentUser.userId ? null : (\r\n                    <FormGroup>\r\n                      <Label for=\"returnTo\">\r\n                        <strong>Return to</strong>\r\n                      </Label>\r\n                      <Input\r\n                        className=\"rounded\"\r\n                        id=\"returnTo\"\r\n                        type=\"select\"\r\n                        value={userId}\r\n                        onChange={({ target: { value } }) => setUserId(value)}\r\n                      >\r\n                        <option value=\"\">__ NONE __</option>\r\n                        <option value={workflowMaster.initiatorId}>\r\n                          {getUser(workflowMaster.initiatorId, props.users)}\r\n                        </option>\r\n                        {workflowUsers.map((user) =>\r\n                          user.level < currentUser.level ? (\r\n                            <option key={user.id} value={user.userId}>\r\n                              {getUser(user.userId, props.users)}\r\n                            </option>\r\n                          ) : null\r\n                        )}\r\n                      </Input>\r\n                    </FormGroup>\r\n                  )}\r\n                  {currentUser.userId ? (\r\n                    <Button className=\"text-white mx-1\" name=\"return\" onClick={onSubmit} color=\"warning\" size=\"sm\">\r\n                      Return\r\n                    </Button>\r\n                  ) : null}\r\n                  {!userId && currentUser.type === \"approver\" ? (\r\n                    <Button className=\"text-white mx-1\" name=\"complete\" onClick={onSubmit} color=\"success\" size=\"sm\">\r\n                      Approve\r\n                    </Button>\r\n                  ) : null}\r\n                  {!userId && currentUser.type !== \"approver\" ? (\r\n                    <Button className=\"text-white mx-1\" name=\"submit\" onClick={onSubmit} color=\"success\" size=\"sm\">\r\n                      Submit\r\n                    </Button>\r\n                  ) : null}\r\n                </>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        </CardBody>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nWorkflowAction.propTypes = {\r\n  workflowMaster: PropTypes.object.isRequired,\r\n  getData: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect((state) => ({\r\n  users: state.allFields.users,\r\n}))(WorkflowAction);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUser } from \"./util\";\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\n\r\nconst WorkflowLog = (props) => {\r\n  const [timeline, setTimeline] = useState([]);\r\n  const getColorIcon = (action) => {\r\n    switch (action) {\r\n      case \"Initiate\":\r\n        return {\r\n          color: \"bg-default\",\r\n          icon: \"fas fa-hourglass-start bg-default\",\r\n        };\r\n      case \"Comment\":\r\n        return {\r\n          color: \"bg-secondary\",\r\n          icon: \"fas fa-comment-dots bg-secondary\",\r\n        };\r\n      case \"Return\":\r\n        return { color: \"bg-warning\", icon: \"fas fa-fast-backward bg-warning\" };\r\n      case \"Submit\":\r\n        return { color: \"bg-info\", icon: \"fas fa-dot-circle-o bg-info\" };\r\n      case \"Approved\":\r\n        return { color: \"bg-success\", icon: \"fas fa-check bg-success\" };\r\n      default:\r\n        return { color: \"\", icon: \"\" };\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    // Create Timeline Schema\r\n    const logs = props.workflowLogs || [];\r\n    const timelineLogs = [];\r\n    logs.forEach((log) => {\r\n      const date = moment(log.createdAt).format(\"YYYY-MM-DD\");\r\n      const index = _.findIndex(timelineLogs, { date: date });\r\n      if (index >= 0) {\r\n        timelineLogs[index] = {\r\n          date: timelineLogs[index].date,\r\n          logs: [...timelineLogs[index].logs, log],\r\n        };\r\n        log.date = date;\r\n      } else {\r\n        timelineLogs.push({\r\n          date,\r\n          logs: [log],\r\n        });\r\n      }\r\n      return log;\r\n    });\r\n    setTimeline(timelineLogs);\r\n  }, [props.workflowLogs]);\r\n  return (\r\n    <section className=\"mt-3\">\r\n      <div className=\"container-fluid\">\r\n        {timeline.map((timeline, index) => {\r\n          return (\r\n            <div key={index} className=\"timeline mb-0 mt-0 pb-4\">\r\n              {/*  TIMELINE LABEL */}\r\n              {timeline.date ? (\r\n                <div className=\"time-label\">\r\n                  <span className={getColorIcon(timeline.action).color}>{timeline.date}</span>\r\n                </div>\r\n              ) : null}\r\n              {/*  TIMELINE ITEM */}\r\n              {timeline.logs.map((log) => (\r\n                <div key={log.id}>\r\n                  {/* ICON */}\r\n                  <i className={getColorIcon(log.action).icon}></i>\r\n                  <div className=\"timeline-item\">\r\n                    <span className=\"timeline-header float-right text-white \">Action: {log.action}</span>\r\n                    <h3 className={\"timeline-header \" + getColorIcon(log.action).color}>\r\n                      User: {getUser(log.userId, props.users)}\r\n                    </h3>\r\n                    <div className=\"timeline-header py-4\">\r\n                      <span dangerouslySetInnerHTML={{ __html: log.comment }}></span>\r\n                    </div>\r\n                    <div className=\"timeline-header\">\r\n                      <span>{log.assignedOn ? \"Assigned On: \" + moment(log.assignedOn).format(\"YYYY-MM-DD\") : \"\"}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </section>\r\n    //   </CardBody>\r\n    // </Card>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({\r\n  users: state.allFields.users,\r\n}))(WorkflowLog);\r\n","import { server } from \"admin/config/server\";\r\nconst url = \"/attachment\";\r\n\r\nfunction deleteAttachment(id, callback) {\r\n  server\r\n    .delete(`${url}/${id}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((json) => {\r\n      callback(null, json);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction downloadAttachment(id, callback) {\r\n  server\r\n    .get(`${url}/download/${id}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((json) => {\r\n      callback(null, json);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction previewAttachment(id, callback) {\r\n  server\r\n    .get(`${url}/preview/${id}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((json) => {\r\n      callback(null, json);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nexport { previewAttachment, downloadAttachment, deleteAttachment };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Progress, Card, CardHeader, CardBody, Table, CardFooter } from \"reactstrap\";\r\nimport { downloadAttachment, deleteAttachment } from \"../api/attachment\";\r\nimport { server } from \"admin/config/server\";\r\nimport { toast } from \"react-toastify\";\r\nimport { SERVER_URL } from \"admin/config/server\";\r\nimport { Row, Col, Pagination, PaginationItem, PaginationLink } from \"reactstrap\";\r\nimport { getAttachmentsPaginate } from \"admin/views/DocumentManagement/api/attachment\";\r\nvar isPrimary;\r\nconst AttachmentListTable = (props) => {\r\n  const [pageNumber, setPageNumber] = useState(0);\r\n  const [numberOfPages, setNumberOfPages] = useState(0);\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  const pages = new Array(numberOfPages).fill(null).map((v, i) => i);\r\n\r\n  useEffect(() => {\r\n    var limit, offset;\r\n    getAttachmentsPaginate(\r\n      (err, data) => {\r\n        if (err) {\r\n          console.log(\"err from getAttachments: \", err);\r\n        } else {\r\n          console.log(\"data for attachments: \", data);\r\n          setPosts(data.resp);\r\n        }\r\n      },\r\n      (limit = 5),\r\n      (offset = 0)\r\n    );\r\n\r\n    setNumberOfPages(40);\r\n  }, [pageNumber]);\r\n\r\n  const gotoPrevious = () => {\r\n    setPageNumber(Math.max(0, pageNumber - 1));\r\n  };\r\n\r\n  const gotoNext = () => {\r\n    setPageNumber(Math.min(numberOfPages - 1, pageNumber + 1));\r\n  };\r\n\r\n  // const handlePageClick = (e, index) => {\r\n  //   e.preventDefault();\r\n  //   setCurrentPage(index);\r\n  // };\r\n\r\n  function startLoading() {\r\n    document.getElementById(\"loading\").style.display = \"unset\";\r\n  }\r\n  function finishLoading() {\r\n    document.getElementById(\"loading\").style.display = \"none\";\r\n  }\r\n  alert(\"k\");\r\n\r\n  const downloadFile = (id) => {\r\n    const p = props.permissions;\r\n    if (p.download) {\r\n      if (window.confirm(\"Do you want to download the file?\")) {\r\n        startLoading();\r\n        downloadAttachment(id, (err, json) => {\r\n          if (json.success) {\r\n            const downloadLink = SERVER_URL + \"/\" + json.file;\r\n            const link = document.createElement(\"a\");\r\n            link.style.display = \"none\";\r\n            link.href = downloadLink;\r\n            link.target = \"_blank\";\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n          } else {\r\n            toast.warn(json.message);\r\n          }\r\n          finishLoading();\r\n        });\r\n      }\r\n    } else {\r\n      window.alert(\"Not allowed to download the file!\");\r\n    }\r\n  };\r\n\r\n  const deleteFile = (id) => {\r\n    if (window.confirm(\"Do you want to delete the file?\")) {\r\n      deleteAttachment(id, (err, json) => {\r\n        if (!err && json && json.success) {\r\n          toast.success(\"Success!\");\r\n          props.loadMemo();\r\n        } else {\r\n          toast.error(\"Error occurred!\");\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"mb-2 shadow\">\r\n      {/* HEADING START */}\r\n      <CardHeader>\r\n        <i className=\"fa fa-file\" /> Attachments\r\n      </CardHeader>\r\n      {/* HEADING END */}\r\n      <CardBody>\r\n        <Table responsive bordered hover>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Type</th>\r\n              <th>Size(in KB)</th>\r\n              <th>Modified</th>\r\n              <th style={{ width: \"150px\" }}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {posts.map((row) => (\r\n              <tr key={row.id}>\r\n                {isPrimary ? (\r\n                  <td style={{ color: \"#00e\", cursor: \"pointer\" }} onClick={() => downloadFile(row.id)}>\r\n                    {row.name}\r\n                  </td>\r\n                ) : (\r\n                  <td>{row.name}</td>\r\n                )}\r\n                <td>{row.fileType}</td>\r\n                <td>{row.size}</td>\r\n                <td>{new Date(row.updatedAt).toDateString()}</td>\r\n                {isPrimary ? (\r\n                  <td style={{ cursor: \"pointer\" }} onClick={() => deleteFile(row.id)}>\r\n                    <i className=\"fa fa-trash\" />\r\n                  </td>\r\n                ) : (\r\n                  <td></td>\r\n                )}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      </CardBody>\r\n\r\n      <CardFooter>\r\n        <button onClick={gotoPrevious}>Previous</button>\r\n        {pages.map((pageIndex) => (\r\n          <button key={pageIndex} onClick={() => setPageNumber(pageIndex)}>\r\n            {pageIndex + 1}\r\n          </button>\r\n        ))}\r\n        <button onClick={gotoNext}>Next</button>\r\n\r\n        <h3>Page of {pageNumber + 1}</h3>\r\n      </CardFooter>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AttachmentListTable;\r\n","import React, { useState } from \"react\";\r\nimport { Dropdown, DropdownItem, DropdownToggle, DropdownMenu, Card, CardHeader, Row, CardBody, Col } from \"reactstrap\";\r\nimport _ from \"lodash\";\r\n\r\nimport FileViewer from \"react-file-viewer\"; //FILE VIEWER\r\nimport Viewer from \"react-viewer\"; //IMAGE VIEWER\r\nimport { previewAttachment } from \"../api/attachment\";\r\nimport { connect } from \"react-redux\";\r\nimport { SERVER_URL } from \"admin/config/server\";\r\n\r\nconst PreviewAttachments = (props) => {\r\n  const p = props.permissions;\r\n  const attachments = props.attachments;\r\n  const imageAttachments = _.filter(\r\n    attachments ? attachments : [],\r\n    (att) => att.fileType.includes(\"image\") && !att.isCompressed && !att.isEncrypted\r\n  );\r\n  const [state, setState] = useState({\r\n    previewFileType: null,\r\n    previewFilePath: null,\r\n    isPDF: true,\r\n    isImage: true,\r\n    isDropdownOpen: false,\r\n  });\r\n  const getFileType = (type) => {\r\n    type = type.toLowerCase();\r\n    switch (type) {\r\n      case \"jpg\":\r\n        type = \"jpeg\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return type;\r\n  };\r\n\r\n  const previewFile = (id) => {\r\n    if (id) {\r\n      previewAttachment(id, (err, json) => {\r\n        if (err) return;\r\n        if (json.success) {\r\n          const fileType = getFileType(json.fileType);\r\n          const filePath = SERVER_URL + json.filePath;\r\n          setState({\r\n            ...state,\r\n            previewFileType: fileType,\r\n            previewFilePath: filePath,\r\n            isPDF: fileType === \"pdf\",\r\n            isImage: false,\r\n            isDropdownOpen: false,\r\n          });\r\n        } else {\r\n          window.alert(json.message);\r\n        }\r\n      });\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        isImage: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"shadow\">\r\n      <CardHeader>\r\n        <Row>\r\n          <Col>\r\n            <i className=\"fa fa-file\" /> Preview\r\n          </Col>\r\n          <Col>\r\n            <Dropdown\r\n              isOpen={state.isDropdownOpen}\r\n              toggle={() => setState({ ...state, isDropdownOpen: !state.isDropdownOpen })}\r\n            >\r\n              <DropdownToggle caret>Select Files</DropdownToggle>\r\n              <DropdownMenu\r\n                style={{\r\n                  zIndex: 1020,\r\n                  maxHeight: 300,\r\n                  maxWidth: 200,\r\n                  overflowY: \"auto\",\r\n                  overflowX: \"hidden\",\r\n                }}\r\n              >\r\n                {attachments.map((row, index) => {\r\n                  if (!row.fileType.includes(\"image\")) {\r\n                    return (\r\n                      <DropdownItem\r\n                        key={index}\r\n                        title={row.name}\r\n                        // style={{ width: '200px', textOverflow: 'wrap' }}\r\n                        onClick={() => previewFile(row.id)}\r\n                      >\r\n                        {row.name}\r\n                      </DropdownItem>\r\n                    );\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                })}\r\n              </DropdownMenu>\r\n            </Dropdown>\r\n          </Col>\r\n          <Col>\r\n            <span\r\n              className=\"float-right\"\r\n              onClick={() => {\r\n                setState({ ...state, isImage: !state.isImage });\r\n              }}\r\n              style={{\r\n                border: \"1px solid\",\r\n                padding: 5,\r\n                whiteSpace: \"nowrap\",\r\n                cursor: \"pointer\",\r\n                margin: 3,\r\n              }}\r\n            >\r\n              <i className=\"fa fa-cog\" />\r\n              Preview Images\r\n            </span>\r\n          </Col>\r\n        </Row>\r\n      </CardHeader>\r\n      {/* HEADING END */}\r\n      <CardBody className=\"w-100\">\r\n        <div id=\"other-preview-container\" style={{ display: state.isImage ? \"none\" : \"block\" }}>\r\n          {state.isPDF && state.previewFilePath ? (\r\n            <embed\r\n              src={state.previewFilePath + \"#toolbar=\" + String(p.download && p.print ? 1 : 0)}\r\n              type=\"application/pdf\"\r\n              width=\"100%\"\r\n              height=\"400px\"\r\n            />\r\n          ) : (\r\n            <FileViewer\r\n              fileType={state.previewFileType}\r\n              filePath={state.previewFilePath}\r\n              errorComponent={<div>Error!</div>}\r\n              onError={() => {}}\r\n            />\r\n          )}\r\n        </div>\r\n        <div\r\n          id=\"image-preview-container\"\r\n          style={{\r\n            height: 400,\r\n            width: \"100%\",\r\n            textAlign: \"center\",\r\n            alignContent: \"center\",\r\n            display: state.isImage ? \"block\" : \"none\",\r\n          }}\r\n        >\r\n          {imageAttachments.length !== 0 ? (\r\n            <Viewer\r\n              // noImgDetails\r\n              noClose\r\n              onClose={() => setState({ ...state, isImage: false })}\r\n              downloadable={p.download}\r\n              container={document.getElementById(\"image-preview-container\")}\r\n              visible={state.isImage}\r\n              images={_.map(imageAttachments, (att) => {\r\n                return {\r\n                  src: SERVER_URL + att.filePath,\r\n                  alt: att.name,\r\n                };\r\n              })}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({\r\n  user: state.userProfile,\r\n}))(PreviewAttachments);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Card, CardBody, CardHeader, Label, Modal, Button, Col, Row, Form } from \"reactstrap\";\r\nimport query from \"querystring\";\r\nimport A from \"config/url\";\r\nimport FormBuilder from \"gentech-form-builder\";\r\nimport { getMemo, editMemo, startWorkflow } from \"./api/memo\";\r\nimport { getWorkflowMaster } from \"../Workflow/api\";\r\nimport WorkflowQueue from \"../Workflow/WorkflowQueue\";\r\nimport WorkflowAction from \"../Workflow/WorkflowAction\";\r\nimport { toast } from \"react-toastify\";\r\nimport WorkflowLog from \"../Workflow/WorkflowLog\";\r\nimport { CURRENT_USER_ID } from \"config/values\";\r\nimport AttachmentListTable from \"./components/AttachmentListTable\";\r\nimport PreviewAttachments from \"./components/PreviewAttachments\";\r\nimport HTMLFormRender from \"./components/HTMLFormRender\";\r\nimport { getFormData } from \"config/form\";\r\nimport { printDiv, getValue } from \"config/util\";\r\nimport metaRoutes from \"config/meta_routes\";\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MemoView = (props) => {\r\n  const qs = query.parse(props.location.search);\r\n  const memoId = A.getId(qs[\"?i\"]);\r\n  const [memo, setMemo] = useState({});\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [workflowMaster, setWorkflowMaster] = useState({});\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [canEditMemo, setCanEditMemo] = useState(false);\r\n  const [canEditBankDetail, setCanEditBankDetail] = useState(false);\r\n  const currentUserId = Number(localStorage.getItem(CURRENT_USER_ID));\r\n  useEffect(() => {\r\n    if (!memoId) {\r\n      props.history.push(metaRoutes.memoList);\r\n    } else {\r\n      getData();\r\n    }\r\n  }, []); //eslint-disable-line\r\n  const getData = () => {\r\n    getMemo(memoId, (err, data) => {\r\n      if (err) props.history.push(metaRoutes.memoList);\r\n      else {\r\n        if (data.memo.workflowMasterId) {\r\n          getWorkflowMaster(data.memo.workflowMasterId, (err, master) => {\r\n            if (err) toast.error(\"Error!\");\r\n            else {\r\n              setWorkflowMaster(master);\r\n              const canEdit = master.initiatorId === currentUserId && master.assignedTo === currentUserId;\r\n              setCanEditBankDetail(master.assignedTo === currentUserId && master.currentLevel === 1);\r\n              setCanEditMemo(canEdit);\r\n              setIsLoaded(true);\r\n            }\r\n          });\r\n        } else {\r\n          setCanEditMemo(true);\r\n        }\r\n        setMemo(data.memo);\r\n        // setMemoDetails(data.memoDetails);\r\n      }\r\n    });\r\n  };\r\n\r\n  const printReport = () => {\r\n    let divContent = \"\";\r\n    const links = document.getElementsByTagName(\"link\");\r\n    const styles = document.getElementsByTagName(\"style\");\r\n    const formDiv = document.getElementById(\"form\").innerHTML;\r\n    divContent += formDiv;\r\n    if (workflowMaster.id) {\r\n      divContent += \"<h3>Action Logs</h3>\";\r\n      const actionTable = _.join(\r\n        workflowMaster.workflow_logs.map(\r\n          (log) =>\r\n            `<tr>\r\n                    <td>${getValue(props.users, log.userId)}</td>\r\n                    <td>${log.action}</td>\r\n                    <td>${log.comment}</td>\r\n                    <td>${log.assignedOn ? moment(log.assignedOn).format(\"YYYY-MM-DD\") : \"\"}</td>\r\n                    <td>${moment(log.createdAt).format(\"YYYY-MM-DD\")}</td>\r\n                </tr>`\r\n        ),\r\n        \"\"\r\n      );\r\n      divContent += `<table><thead><tr>\r\n            <th>User</th>\r\n            <th>Action</th>\r\n            <th>Comment</th>\r\n            <th>Assigned On</th>\r\n            <th>Task Completed On</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>${actionTable}</tbody>\r\n            </table>\r\n            `;\r\n    }\r\n    if (memo.attachments.length > 0) {\r\n      divContent += \"<h3>Attachments</h3>\";\r\n      const attachmentsTable = _.join(\r\n        memo.attachments.map(\r\n          (att) =>\r\n            `<tr>\r\n                    <td>${att.name}</td>\r\n                    <td>${att.size}</td>\r\n                    <td>${moment(att.createdAt).format(\"YYYY-MM-DD\")}</td>\r\n                    <td>${getValue(props.users, att.createdBy)}</td>\r\n                </tr>`\r\n        ),\r\n        \"\"\r\n      );\r\n      divContent += `<table><thead><tr>\r\n                <th>Name</th>\r\n                <th>Size (in KB)</th>\r\n                <th>Uploaded At</th>\r\n                <th>Uploaded By</th> \r\n                </tr></thead><tbody>${attachmentsTable}</tbody></table>`;\r\n    }\r\n    workflowMaster.workflow_users.forEach((user) => {\r\n      divContent += `\r\n      <div className=\"form-group float-right mt-5 mx-3\">\r\n      <div className=\"mt-2\" ><input style=\"height:100px\"/></div>\r\n      <div className=\"mt-1 text-center\">Authorized Signature</div>\r\n      <div className=\"mt-1 text-center\">${getValue(props.users, user.userId)}</div>\r\n      </div>\r\n      `;\r\n    });\r\n    printDiv({\r\n      links,\r\n      styles,\r\n      title: workflowMaster.requestId || memo.form.name,\r\n      content: divContent,\r\n    });\r\n  };\r\n\r\n  const onSubmitHTML = (e) => {\r\n    e.preventDefault();\r\n    const formData = getFormData(e);\r\n    const memoValues = Object.keys(formData).map((key) => ({\r\n      name: key,\r\n      value: formData[key],\r\n    }));\r\n    if (canEditMemo || canEditBankDetail) {\r\n      onEditMemo(memoValues);\r\n    } else {\r\n      toast.warn(\"You cannot edit the form!\");\r\n    }\r\n  };\r\n  const onEditMemo = (memoValues) => {\r\n    editMemo(\r\n      {\r\n        id: memo.id,\r\n        formId: memo.form.id,\r\n        memoValues,\r\n      },\r\n      (err, data) => {\r\n        if (err) toast.error(\"Error!\");\r\n        else toast.success(\"Success!\");\r\n      }\r\n    );\r\n  };\r\n  const p = props.permissions || {};\r\n  return !isLoaded ? null : (\r\n    <>\r\n      {workflowMaster.id ? <WorkflowQueue workflowMaster={workflowMaster} /> : null}\r\n      {/* <MemoTableInformation memoDetails={memoDetails} /> */}\r\n      <Card className=\"shadow\">\r\n        <CardHeader>\r\n          <Row>\r\n            <Col>\r\n              <Label>Name: {memo.form.name}</Label>\r\n              <br />\r\n              <Label>Description:</Label>\r\n              <p>{memo.form.description}</p>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                title=\"Print Report\"\r\n                onClick={() => printReport()}\r\n                className=\"float-right mx-1\"\r\n                size=\"sm\"\r\n                color=\"primary\"\r\n              >\r\n                <i className=\"fa fa-print text-white\" />\r\n              </Button>\r\n              <Button\r\n                title=\"View Attachments\"\r\n                onClick={() => setIsOpen(true)}\r\n                className=\"float-right mx-1\"\r\n                size=\"sm\"\r\n                color=\"info\"\r\n              >\r\n                <i className=\"fa fa-eye text-white\" />\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </CardHeader>\r\n        <CardBody id=\"form\">\r\n          {memo.form.type === \"html\" ? (\r\n            <Form onSubmit={onSubmitHTML}>\r\n              <HTMLFormRender\r\n                memoValues={memo.memo_values}\r\n                isEdit={canEditMemo}\r\n                isEditBank={canEditBankDetail}\r\n                formData={memo.form ? memo.form.formData : []}\r\n              />\r\n              {canEditMemo || canEditBankDetail ? (\r\n                <Button size=\"sm\" color=\"success\">\r\n                  Submit\r\n                </Button>\r\n              ) : null}\r\n            </Form>\r\n          ) : null}\r\n          {memo.form.type === \"dynamic\" ? (\r\n            <FormBuilder.ReactFormGenerator\r\n              onSubmit={onEditMemo}\r\n              answer_data={\r\n                memo.memo_values\r\n                  ? memo.memo_values.map((memVal) => ({\r\n                      id: memVal.id,\r\n                      name: memVal.name,\r\n                      value: JSON.parse(memVal.value),\r\n                    }))\r\n                  : []\r\n              }\r\n              data={JSON.parse(memo.form.formData || \"{}\")}\r\n              read_only={!(canEditMemo || canEditBankDetail)}\r\n              hide_actions={!(canEditMemo || canEditBankDetail)}\r\n            />\r\n          ) : null}\r\n        </CardBody>\r\n      </Card>\r\n      <Modal isOpen={isOpen} toggle={() => setIsOpen(!isOpen)}>\r\n        <PreviewAttachments attachments={memo.attachments || []} permissions={p} />\r\n      </Modal>\r\n      <AttachmentListTable\r\n        isPrimary\r\n        attachments={memo.attachments || []}\r\n        permissions={p}\r\n        memoId={memo.id}\r\n        loadMemo={getData}\r\n      />\r\n      {workflowMaster.id ? (\r\n        <>\r\n          <WorkflowLog workflowLogs={workflowMaster.workflow_logs} />\r\n          <WorkflowAction workflowMaster={workflowMaster} getData={getData} />\r\n        </>\r\n      ) : (\r\n        <Button\r\n          size=\"lg\"\r\n          color=\"success\"\r\n          onClick={() => {\r\n            const data = { memoId };\r\n            startWorkflow(data, (err, json) => {\r\n              if (err) {\r\n                toast.warn(\"Oops! Something went wrong\");\r\n              } else {\r\n                toast.success(\"Successful\");\r\n                getData();\r\n              }\r\n            });\r\n          }}\r\n        >\r\n          Start Workflow\r\n        </Button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({\r\n  users: state.allFields.users,\r\n}))(MemoView);\r\n","import { server } from \"admin/config/server\";\r\n\r\nconst url = \"/memo\";\r\n\r\nexport const startWorkflow = (data, callback) => {\r\n  const memoId = data.memoId;\r\n  server\r\n    .post(`${url}/start/${memoId}`)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const addMemo = (data, callback) => {\r\n  server\r\n    .post(`${url}`, data)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const getMemoList = (formData, callback) => {\r\n  server\r\n    .get(`${url}`, { params: formData })\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const getMemo = (id, callback) => {\r\n  server\r\n    .get(`${url}/${id}`)\r\n    .then((res) => {\r\n      callback(null, res.data);\r\n    })\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const deleteMemo = (id, callback) => {\r\n  server\r\n    .delete(`${url}/${id}`)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const editMemo = (data, callback) => {\r\n  server\r\n    .put(`${url}`, data)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { ADMIN_USER, CLIENT_USER } from \"config/values\";\r\n\r\nconst HTMLFormRender = (props) => {\r\n  const type = props.type || null;\r\n  const isEdit = props.isEdit || false;\r\n  const bankUserEdit = props.isEditBank || false;\r\n  const memoValues = props.memoValues || [];\r\n  const formData = props.formData || \"\";\r\n  useEffect(() => {\r\n    switch (type) {\r\n      case ADMIN_USER:\r\n        break;\r\n      case CLIENT_USER:\r\n        const el = document.getElementById(\"bank-segment\");\r\n        if (el) el.parentNode.removeChild(el);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    memoValues.forEach(({ name, value }) => {\r\n      const elements = document.getElementsByName(name);\r\n      if (elements.length !== 0) {\r\n        elements.forEach((element) => {\r\n          console.log(isEdit, bankUserEdit);\r\n          if (isEdit || (bankUserEdit && element.parentNode.id === \"bank-segment\")) {\r\n            element.setAttribute(\"name\", name);\r\n          } else {\r\n            element.setAttribute(\"readonly\", \"readonly\");\r\n            element.removeAttribute(\"name\");\r\n          }\r\n          switch (element.type) {\r\n            case \"checkbox\":\r\n              if (value === \"true\") {\r\n                element.setAttribute(\"checked\", true);\r\n              } else {\r\n                element.removeAttribute(\"checked\");\r\n              }\r\n              break;\r\n            case \"radio\":\r\n              if (JSON.stringify(element.value) === value) {\r\n                element.setAttribute(\"checked\", true);\r\n              }\r\n              break;\r\n            default:\r\n              const formValue = value.slice(1, -1);\r\n              element.setAttribute(\"value\", formValue);\r\n              element.value = JSON.parse(value);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }, [memoValues, isEdit, type]); //eslint-disable-line\r\n  return (\r\n    <div\r\n      id=\"html-form-segment\"\r\n      className=\"my-2\"\r\n      dangerouslySetInnerHTML={{\r\n        __html: formData,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default HTMLFormRender;\r\n","import { server } from \"admin/config/server\";\r\n\r\nconst url = \"/workflow\";\r\n\r\nexport const editWorkflow = (data, callback) => {\r\n  server\r\n    .put(`${url}/${data.id}`, data)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const getWorkflow = (id, callback) => {\r\n  server\r\n    .get(`${url}/${id}`)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const getWorkflowMaster = (workflowId, callback) => {\r\n  server\r\n    .get(`${url}/master/${workflowId}`)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n\r\nexport const takeActionWorkflow = (options, callback) => {\r\n  server\r\n    .post(`${url}/submit/${options.action}`, options.data)\r\n    .then((res) => callback(null, res.data))\r\n    .catch((err) => callback(err));\r\n};\r\n","import { takeActionWorkflow } from \"./api\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const getUser = (userId, users) => {\r\n  let user = {};\r\n  if (users) {\r\n    users.forEach((u) => {\r\n      if (u.id === userId) {\r\n        user = u;\r\n      }\r\n    });\r\n  }\r\n  return user.name || \"\";\r\n};\r\n\r\nexport const skipOne = (workflowMasterId, getData = () => {}) => {\r\n  takeActionWorkflow(\r\n    {\r\n      action: \"skip\",\r\n      data: {\r\n        comment: \"\",\r\n        workflowMasterId,\r\n      },\r\n    },\r\n    (err, json) => {\r\n      if (err) toast.error(\"Error!\");\r\n      else {\r\n        toast.success(\"Success!\");\r\n        getData();\r\n      }\r\n    }\r\n  );\r\n};\r\n"],"names":["connect","state","users","allFields","props","workflowMaster","workflowUsers","_","workflow_users","_jsx","_Fragment","children","_jsxs","Row","className","Col","xs","sm","md","Card","CardHeader","requestId","assignedTo","initiatorId","CardBody","style","height","alignItems","getUser","map","workflowUser","isAssigned","userId","currentUserId","Number","localStorage","getItem","CURRENT_USER_ID","currentUser","setUserId","useState","editorValue","setEditorValue","EditorState","createEmpty","comment","setComment","onSubmit","e","action","target","name","toast","warn","takeActionWorkflow","data","workflowMasterId","id","err","json","error","success","getData","currentStatus","FormGroup","Editor","editorState","wrapperClassName","placeholder","onEditorStateChange","editorHTML","draftToHtml","convertToRaw","getCurrentContent","toolbar","options","Label","for","Input","type","value","onChange","_ref","user","level","Button","onClick","color","size","timeline","setTimeline","getColorIcon","icon","useEffect","logs","workflowLogs","timelineLogs","forEach","log","date","moment","createdAt","format","index","push","dangerouslySetInnerHTML","__html","assignedOn","url","pageNumber","setPageNumber","numberOfPages","setNumberOfPages","posts","setPosts","pages","Array","fill","v","i","getAttachmentsPaginate","console","resp","alert","Table","responsive","bordered","hover","width","row","fileType","Date","updatedAt","toDateString","CardFooter","gotoPrevious","Math","max","pageIndex","gotoNext","min","userProfile","p","permissions","attachments","imageAttachments","att","includes","isCompressed","isEncrypted","setState","previewFileType","previewFilePath","isPDF","isImage","isDropdownOpen","previewFile","callback","server","get","then","res","catch","previewAttachment","toLowerCase","getFileType","filePath","SERVER_URL","window","message","Dropdown","isOpen","toggle","DropdownToggle","caret","DropdownMenu","zIndex","maxHeight","maxWidth","overflowY","overflowX","DropdownItem","title","border","padding","whiteSpace","cursor","margin","display","src","String","download","print","FileViewer","errorComponent","onError","textAlign","alignContent","length","Viewer","noClose","onClose","downloadable","container","document","getElementById","visible","images","alt","qs","query","location","search","memoId","A","getId","memo","setMemo","setIsOpen","setWorkflowMaster","isLoaded","setIsLoaded","canEditMemo","setCanEditMemo","canEditBankDetail","setCanEditBankDetail","history","metaRoutes","memoList","getMemo","getWorkflowMaster","master","canEdit","currentLevel","onEditMemo","memoValues","editMemo","formId","form","WorkflowQueue","description","printReport","divContent","links","getElementsByTagName","styles","formDiv","innerHTML","actionTable","workflow_logs","getValue","attachmentsTable","createdBy","printDiv","content","Form","preventDefault","formData","getFormData","Object","keys","key","HTMLFormRender","memo_values","isEdit","isEditBank","FormBuilder","answer_data","memVal","JSON","parse","read_only","hide_actions","Modal","PreviewAttachments","AttachmentListTable","isPrimary","loadMemo","WorkflowLog","WorkflowAction","startWorkflow","post","addMemo","getMemoList","params","deleteMemo","delete","put","bankUserEdit","ADMIN_USER","CLIENT_USER","el","parentNode","removeChild","elements","getElementsByName","element","setAttribute","removeAttribute","stringify","formValue","slice","editWorkflow","getWorkflow","workflowId","u","skipOne","arguments","undefined"],"sourceRoot":""}