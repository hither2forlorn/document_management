"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[7174],{97404:(e,s,a)=>{a.d(s,{A:()=>f});var t=a(65043),r=a(71094),l=a(58472),n=a(25852),i=a(13718),o=a(97508),d=a(59135),c=a(87561),h=a(7467),u=a(88988),m=a(95702),p=(a(15421),a(70579));const f=(0,o.Ng)((e=>({allFields:e.allFields,searchData:e.docSearchData})))((function(e){const{columns:s,data:a,allData:o}=e,[f,x]=(0,t.useState)(""),{getTableProps:g,getTableBodyProps:j,headerGroups:b,page:v,gotoPage:N,setPageSize:A,prepareRow:D,setFilter:y,state:{pageIndex:P,pageSize:S}}=(0,r.useTable)({columns:s,data:f&&(e.LocationMapBata||e.securityHierarchyBata)?o:a},r.useFilters,r.useSortBy,r.usePagination);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"form-group rounded",children:(0,p.jsxs)("div",{className:"input-group mb-2",children:[(0,p.jsx)("div",{className:"input-group-prepend rounded",children:(0,p.jsx)("div",{className:"input-group-text rounded",children:(0,p.jsx)("i",{className:"fas fa-search"})})}),(0,p.jsx)("input",{name:e.name||"name",value:f,className:"form-control rounded",onChange:e=>{const s=e.target.value||void 0;if("DocumentName"===e.target.name)y("DocumentName",s),x(s);else y("name",s),x(s)},placeholder:"Search by name column"})]})}),(0,p.jsxs)(l.A,{responsive:!0,bordered:!0,hover:!0,...g(),id:"toExcelData",children:[(0,p.jsx)("thead",{className:"table-active",children:b.map((e=>(0,p.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map((e=>(0,p.jsxs)("th",{...e.getHeaderProps(e.getSortByToggleProps()),className:e.isSorted?e.isSortedDesc?"sort-desc":"sort-asc":"",children:[e.render("Header"),(0,p.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,p.jsxs)("span",{children:["  ",(0,p.jsx)("i",{className:"fas fa-caret-square-down text-info ml-2"})]}):(0,p.jsxs)("span",{children:["  ",(0,p.jsx)("i",{className:"fas fa-caret-square-up text-info pl-1"})]}):(0,p.jsxs)("span",{children:[" ",(0,p.jsx)("i",{className:"fas fa-sort text-info pl-1"})]})})]})))})))}),(0,p.jsx)("tbody",{...j(),children:v.map(((e,s)=>(D(e),(0,p.jsx)("tr",{...e.getRowProps(),children:e.cells.map((e=>(0,p.jsx)("td",{...e.getCellProps(),children:e.render("Cell")})))}))))})]}),(0,p.jsxs)(n.A,{children:[(0,p.jsx)(i.A,{children:(0,p.jsx)(d.A,{count:parseInt(Math.ceil(a.length/S)),onChange:(e,s)=>{N(s-1)},shape:"rounded",page:P+1})}),(0,p.jsx)(i.A,{children:(0,p.jsxs)("div",{className:"float-right mt-2 d-flex align-items-center",children:[(0,p.jsx)("p",{className:"mb-0 mr-2",children:"Items Per Page"}),(0,p.jsx)(c.A,{children:(0,p.jsxs)(h.A,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:S,onChange:e=>{A(Number(e.target.value))},className:"form-control rounded",children:[(0,p.jsx)(u.A,{value:5,children:"5"}),(0,p.jsx)(u.A,{value:10,children:"10"}),(0,p.jsx)(u.A,{value:20,children:"20"})]})}),(0,p.jsxs)("p",{className:"mb-0 ml-2",children:["Total Documents :",(0,p.jsx)("b",{className:"mr-2",children:a.length})," Page :",(0,p.jsxs)("b",{children:[" ",P+1]})]}),(0,p.jsx)(m.A,{id:"toExcel-button",className:"btn btn-sm ml-2 btn-primary text-white float-right",table:"toExcelData",filename:"attachmentstable",sheet:"tablexls",buttonText:"Download Report"})]})})]})]})}))},77174:(e,s,a)=>{a.r(s),a.d(s,{default:()=>A});var t=a(65043),r=a(62582),l=a(7379),n=a(18103),i=a(58441),o=a(86178),d=a.n(o),c=a(80231),h=a(75304),u=a(38477),m=a(44864),p=a(97508),f=a(28096),x=a(97404),g=a(11594),j=a(16742),b=a(15421),v=a(70579);class N extends t.Component{constructor(){super(...arguments),this.state={roles:[],currentPageNumber:1,startOffset:0},this.handleSelect=e=>{e>0&&e-1<this.state.roles.length/10&&this.setState({currentPageNumber:e,startOffset:10*(e-1)})},this.handleDelete=e=>{window.confirm("Do you want to delete the Roles? The action is irreversible!")&&(0,l.EO)(e,((e,s)=>{e&&this.history.push(c.A.adminRoles),f.oR.info(s.message),this.updateData()}))},this.columnData=[{Header:"S.N",accessor:"serial"},{Header:"Name",accessor:"name",Cell:e=>`${e.value} `},{Header:"hierarchy",accessor:"hierarchy",Cell:e=>`${1==this.props.userProfile.id&&e.row.original.hierarchy?(0,j.A)(this.props.allFields.hierarchy,e.row.original.hierarchy):""}`},{Header:"Date Registered",accessor:"createdAt",Cell:e=>d()(e.value).format("dddd, MMMM Do YYYY")},{Header:"Date Modified",accessor:"updatedAt",Cell:e=>d()(e.value).format("dddd, MMMM Do YYYY")},{Header:"Actions",accessor:"action",disableSortBy:!0,Cell:e=>{let{row:s}=e;const a=this.props.permissions||{};return 1==this.props.userProfile.roleId||4!=s.original.id&&3!=s.original.id?(0,v.jsxs)("div",{style:{cursor:"pointer"},children:[(0,v.jsx)(g.A,{to:c.A.adminRolesEdit+"?i="+i.A.getHash(s.original.id),buttonType:"edit",permission:a.role}),(0,v.jsx)(g.A,{onClick:()=>this.handleDelete(s.original.id),buttonType:"delete",permission:a.role})]}):null}}]}updateData(){(0,l.O0)(((e,s)=>{e||s&&(s.forEach(((e,s)=>{e.serial=s+1})),this.setState({roles:s}))}))}componentDidMount(){this.updateData()}render(){var e;(0,b.onlyForThisVendor)(b.banks.bok.name)&&1==this.props.userProfile.id&&(this.columnData=null===(e=this.columnData)||void 0===e?void 0:e.filter((e=>"hierarchy"!=e.Header)));const s=this.props.permissions?this.props.permissions:{};return(0,v.jsxs)(h.A,{className:"shadow",children:[(0,v.jsxs)(u.A,{children:[(0,v.jsx)("p",{className:"h5",children:"Roles"}),s.role===n.Xd||s.role===n.n7||s.isAdmin?(0,v.jsxs)(r.Link,{to:c.A.adminRolesAdd,className:"btn-header btn btn-outline-dark btn-sm border-dark border",children:[(0,v.jsx)("i",{className:"fa fa-plus"})," Add Role"]}):null]}),(0,v.jsx)(m.A,{children:(0,v.jsx)(x.A,{columns:this.columnData,data:this.state.roles})})]})}}const A=(0,p.Ng)((e=>({allFields:e.allFields,userProfile:e.userProfile})))(N)},7379:(e,s,a)=>{a.d(s,{Cm:()=>o,D3:()=>i,EO:()=>c,Lw:()=>n,O0:()=>l,cX:()=>d});var t=a(76400);const r="/roles";function l(e){t.E8.get(`${r}`).then((function(s){e(null,s.data)})).catch((function(s){e(s)}))}function n(e,s){t.E8.get(`${r}/${e}`).then((function(e){s(null,e.data)})).catch((function(e){s(e)}))}function i(e,s){t.E8.put(`${r}/${e.id}`,e).then((function(e){s(null,e.data)})).catch((function(e){s(e)}))}function o(e,s){t.E8.post(`${r}`,e).then((function(e){s(null,e.data)})).catch((function(e){s(e)}))}function d(e){t.E8.get(`${r}/types`).then((function(s){e(null,s.data)})).catch((function(s){e(s)}))}function c(e,s){t.E8.delete(`${r}/${e}`).then((function(e){s(null,e.data)})).catch((function(e){s(e)}))}},18103:(e,s,a)=>{a.d(s,{H6:()=>l,Sz:()=>r,Xd:()=>t.Xd,n7:()=>t.n7});var t=a(18039);const r=[{value:t.x3,label:"--- NONE ---"},{value:t.gR,label:"View"},{value:t.Xd,label:"Edit"},{value:t.n7,label:"Edit / Delete"}],l=[{value:!1,label:"No"},{value:!0,label:"Yes"}]},16742:(e,s,a)=>{a.d(s,{A:()=>t});const t=function(e,s){const a=[];if(!s)return;const t=e.filter((e=>e.code===s));var r;return t.length>0?(null!==(null===(r=t[0])||void 0===r?void 0:r.parentId)&&void 0!==t[0]&&e.forEach((e=>{e.id===t[0].parentId&&a.push(e.name)})),a.push(t[0].name),a.toString().replace(","," --\x3e ")):void 0}}}]);
//# sourceMappingURL=7174.4e6a0b52.chunk.js.map