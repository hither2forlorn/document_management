"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[6818],{86818:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var r=t(65043),n=t(87382),i=t(25852),a=t(13718),l=t(75304),c=t(38477),d=t(44864),o=t(83407),m=t(48201),h=t(58441),u=t(86453),x=t(80231),j=t(28096),p=t(32936),A=t(30360),f=t(64545),g=t(94576),N=t(45413),b=t(8586),w=t(64412),v=t(70579);const y=e=>(0,v.jsxs)(p.A,{isOpen:e.isOpen,children:[(0,v.jsx)(A.A,{toggle:e.close,children:"Add Form"}),(0,v.jsx)(f.A,{children:(0,v.jsxs)(g.A,{onSubmit:e.onSubmit,children:[(0,v.jsxs)(N.A,{children:[(0,v.jsx)(b.A,{children:"Name"}),(0,v.jsx)(w.A,{className:"rounded",type:"text",name:"name",placeholder:"Name",required:!0})]}),(0,v.jsxs)(N.A,{children:[(0,v.jsx)(b.A,{children:"Tag"}),(0,v.jsx)(w.A,{className:"rounded",type:"text",name:"tag",placeholder:"Tag",required:!0})]}),(0,v.jsxs)(N.A,{children:[(0,v.jsx)(b.A,{children:"Description"}),(0,v.jsx)(w.A,{className:"rounded",type:"textarea",name:"description",placeholder:"Description",required:!0})]}),(0,v.jsxs)(N.A,{children:[(0,v.jsx)(b.A,{children:"Type"}),(0,v.jsxs)(w.A,{className:"rounded",type:"select",name:"type",placeholder:"Type",required:!0,children:[(0,v.jsx)("option",{value:"dynamic",children:"Dynamic"}),(0,v.jsx)("option",{value:"html",children:"HTML"})]})]}),(0,v.jsx)(n.A,{size:"sm",type:"submit",color:"success",children:"Submit"})]})})]});var E=t(62582),k=t(18039);const S=e=>{const[s,t]=(0,r.useState)([]),[p,A]=(0,r.useState)(!1);(0,r.useEffect)((()=>{f()}),[]);const f=()=>{(0,m.Uq)(((e,s)=>{e?j.oR.error("Error!"):t(s)}))},g=e.permissions||{};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y,{isOpen:p,onSubmit:e=>{e.preventDefault();const s=(0,u.tg)(e);(0,m.gG)(s,((e,s)=>{e?j.oR.error("Error!"):j.oR.success("Success!"),A(!1),f()}))},close:()=>A(!1)}),g.form===k.Xd||g.form===k.n7?(0,v.jsx)(n.A,{className:"m-3",size:"sm",color:"success",onClick:()=>A(!0),children:"Create New Form"}):null,(0,v.jsx)(i.A,{children:s.map((e=>e.isActive||g.form===k.Xd||g.form===k.n7?(0,v.jsx)(a.A,{md:4,sm:6,children:(0,v.jsxs)(l.A,{className:"shadow",children:[(0,v.jsxs)(c.A,{children:[e.name," ",e.isActive?null:(0,v.jsx)("span",{className:"badge badge-warning text-white",children:"Inactive"})]}),(0,v.jsx)(d.A,{className:"pb-2",style:{height:100,overflow:"hidden"},children:e.description}),(0,v.jsxs)(o.A,{children:[g.form===k.n7?(0,v.jsx)(n.A,{title:"Delete",onClick:()=>{return s=e.id,void(window.confirm("Do you want to remove this form?")&&(0,m.i6)(s,((e,s)=>{e?j.oR.error("Error!"):j.oR.success("Success!"),f()})));var s},className:"float-right mx-1",size:"sm",color:"danger",children:(0,v.jsx)("i",{className:"fa fa-trash text-white"})}):null,g.form===k.Xd||g.form===k.n7?(0,v.jsx)(E.Link,{title:"Edit",to:x.A.formBuilder+"?i="+h.A.getHash(e.id),className:"float-right mx-1 btn btn-sm btn-primary",children:(0,v.jsx)("i",{className:"fa fa-edit text-white"})}):null,e.isActive?(0,v.jsx)(E.Link,{title:"View",to:x.A.memoNew+"?i="+h.A.getHash(e.id),className:"float-right mx-1 btn btn-sm btn-success",children:(0,v.jsx)("i",{className:"fa fa-upload text-white"})}):null]})]})},e.id):null))})]})}},48201:(e,s,t)=>{t.d(s,{Lc:()=>l,Rs:()=>c,Uq:()=>i,gG:()=>a,i6:()=>d});var r=t(76400);const n="/forms",i=e=>{r.E8.get(`${n}`).then((s=>{e(null,s.data)})).catch((s=>{e(s)}))},a=(e,s)=>{r.E8.post(`${n}`,e).then((e=>{s(null,e.data)})).catch((e=>{s(e)}))},l=(e,s)=>{r.E8.put(`${n}`,e).then((e=>s(null,e.data))).catch((e=>{s(e)}))},c=e=>r.E8.get(`${n}/${e}`).then((e=>e.data)),d=(e,s)=>{r.E8.delete(`${n}/${e}`).then((e=>s(null,e.data))).catch((e=>{s(e)}))}}}]);
//# sourceMappingURL=6818.34cd45a6.chunk.js.map