{"version":3,"file":"static/js/6105.0bd2ea41.chunk.js","mappings":"sQAkBA,MA2CA,EA3CiCA,IAC/B,MAAMC,EAAID,EAAME,aAAe,CAAC,EAC1BC,EAAQC,EAAAA,MAASJ,EAAMK,SAASC,OAAOC,UAAU,EAAGP,EAAMK,SAASC,OAAOE,SAC1EC,EAAQN,EAAMO,EACdC,EAAOR,EAAMQ,MAEZC,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,CAAC,IAC3CC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,KACxCG,EAAsBC,IAA2BJ,EAAAA,EAAAA,UAAS,MAejE,OAbAK,EAAAA,EAAAA,YAAU,KAjBVC,SAASC,eAAe,WAAWC,MAAMC,QAAU,SAmBjDC,EAAAA,EAAAA,IAAgBf,EAAOE,GAAM,CAACc,EAAKC,MAC5BD,GAAOC,EAAKC,SACfd,EAAgBa,EAAKE,MACrBZ,EAAeU,EAAKE,KAAKb,YAAcW,EAAKE,KAAKb,YAAc,MAE/Dc,EAAAA,GAAMC,MAAM,iDACZ9B,EAAM+B,QAAQC,KAAKC,EAAAA,EAAWC,gBArBpCd,SAASC,eAAe,WAAWC,MAAMC,QAAU,MAuBhC,GACf,GACD,KAEDY,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAAAC,SAAA,EACFC,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,GAAI,EAAEH,UACTC,EAAAA,EAAAA,KAACG,EAAAA,EAAmB,CAAC7B,aAAcA,EAAcV,YAAaD,OAEhEqC,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,GAAI,EAAEH,UACTC,EAAAA,EAAAA,KAACI,EAAAA,EAAkB,CAAC3B,YAAaA,EAAaG,wBAAyBA,EAAyBhB,YAAaD,OAE/GqC,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,GAAI,OAQL,C","sources":["admin/views/DocumentManagement/ViewDocumentInformation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col } from \"reactstrap\";\r\nimport qs from \"querystring\";\r\nimport PreviewAttachments from \"./components/PreviewAttachments\";\r\nimport DocumentInformation from \"./components/DocumentInformation\";\r\nimport AttachmentListTable from \"./components/AttachmentListTable\";\r\nimport { previewDocument } from \"./api\";\r\nimport { toast } from \"react-toastify\";\r\nimport metaRoutes from \"config/meta_routes\";\r\n\r\nfunction startLoading() {\r\n  document.getElementById(\"loading\").style.display = \"unset\";\r\n}\r\n\r\nfunction finishLoading() {\r\n  document.getElementById(\"loading\").style.display = \"none\";\r\n}\r\n\r\nconst ViewDocumentInformation = (props) => {\r\n  const p = props.permissions || {};\r\n  const query = qs.parse(props.location.search.substring(1, props.location.search.length));\r\n  const token = query.i;\r\n  const type = query.type;\r\n  // console.log(type);\r\n  const [documentData, setDocumentData] = useState({});\r\n  const [attachments, setAttachments] = useState([]);\r\n  const [selectedAttachmentId, setSelectedAttachmentId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    startLoading();\r\n    previewDocument(token, type, (err, json) => {\r\n      if (!err && json.success) {\r\n        setDocumentData(json.data);\r\n        setAttachments(json.data.attachments ? json.data.attachments : []);\r\n      } else {\r\n        toast.error(\"Could not access this document at the moment!\");\r\n        props.history.push(metaRoutes.documentsList);\r\n      }\r\n      finishLoading();\r\n    });\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n  return (\r\n    <Row>\r\n      <Col md={4}>\r\n        <DocumentInformation documentData={documentData} permissions={p} />\r\n      </Col>\r\n      <Col md={8}>\r\n        <PreviewAttachments attachments={attachments} setSelectedAttachmentId={setSelectedAttachmentId} permissions={p} />\r\n      </Col>\r\n      <Col md={12}>\r\n        {/* <AttachmentListTable\r\n          hourlyAccessForUser\r\n          attachments={attachments}\r\n          permissions={p}\r\n          documentId={documentData.id}\r\n        /> */}\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default ViewDocumentInformation;\r\n"],"names":["props","p","permissions","query","qs","location","search","substring","length","token","i","type","documentData","setDocumentData","useState","attachments","setAttachments","selectedAttachmentId","setSelectedAttachmentId","useEffect","document","getElementById","style","display","previewDocument","err","json","success","data","toast","error","history","push","metaRoutes","documentsList","_jsxs","Row","children","_jsx","Col","md","DocumentInformation","PreviewAttachments"],"sourceRoot":""}