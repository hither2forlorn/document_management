"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[1293],{64480:(e,t,n)=>{n.d(t,{A:()=>i});n(65043);var a=n(17392),s=n(70579);const r={position:"fixed",top:"50%",height:"80%",width:"70%",left:"50%",transform:"translate(-50%,-50%)",backgroundColor:"#fff",zIndex:1e3},o={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(244,244,244,.7)",zIndex:1e3};function i(e){let{open:t,close:n,children:i,name:c}=e;return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:o,onClick:n}),(0,s.jsxs)("div",{className:"custom_modal",style:r,children:[(0,s.jsxs)("div",{className:"modal__header",children:[(0,s.jsx)("div",{}),(0,s.jsx)("h1",{children:c}),(0,s.jsx)(a.A,{onClick:n,children:(0,s.jsx)("i",{className:"fa fa-times"})})]}),(0,s.jsx)("div",{className:"modal__body",children:i})]})]}):null}},41304:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(65043),s=n(64480);const r={Tags:"Tags can be used for creating custom search field  and identifying a document.",Identifier:"Symbolize the document uniquely.","Document Name":"Determines the name of a document.","Expiry Date":"Denotes the expiry date of a created document.",Language:"Denotes on which language is the document.","Document Condition":"Denotes the overall condition on a document.",Status:"Denotes the status of the wholle document.","Location Map":"Identifies to which location the document belongs physically.",Department:"Denotes the department of a document.","Security Level":"Determines the level of the security given to the document.","Security Level None":"If selected, Document is will be created according to the security hierarchy of the logged-in user.","Security Level Low":"If selected, Document is can be accessed by everyone outside and inside the hierarchy.","Security Level Medium":"If selected, Document is can be accessed by the specified departments only. i.e. works if the department user logs-in.","Security Level High":"If selected, Document is accessed by the selected users only for the user access field.",Checker:"Denotes the checker required to approve the document.","Security Hierarchy":"Please seslect this for accessing the unit feature only.","Encryption Files":"If checked, Files in the document will be self encrypted.","Quick OCR":"If checked, Document will be enabled OCR feature.","OTP Verification":"If checked, OTP is required each time to access this document.","Archive Now":"If checked, The application will directly place it to archive section.","Document Type":"Denotes the type on a document.","Important Points":"* Determines the required fields."},o={},i={},c={},l={},d={},h={},u={},m={},p={},g={};var f=n(70579);function b(e){let{children:t,type:n,ModalTitle:b}=e;const[x,A]=(0,a.useState)(!1);function v(){A(!x)}let y={};switch(n){case"document":y=r;break;case"branch":y=o;break;case"department":y=i;break;case"security_hierarchy":y=c;break;case"users":y=l;break;case"document_types":y=d;break;case"document_index":y=h;break;case"location_types":y=u;break;case"location_map":y=m;break;case"language":y=p;break;case"document_condition":y=g}return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{style:{cursor:"pointer"},onClick:v,children:(0,f.jsx)("i",{className:"fa fa-info"})}),(0,f.jsx)(s.A,{open:x,close:v,name:b,children:Object.entries(y).map(((e,t)=>{let[n,a]=e;return(0,f.jsx)("div",{children:(0,f.jsx)("div",{className:"container",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-4",children:(0,f.jsxs)("b",{children:[" ",n,":"]})}),(0,f.jsx)("div",{className:"col-8 border-left text-muted",children:a})]})})})}))})]})}},51293:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var a=n(65043),s=n(58441);const r={header:s.A.header,headerAuth:s.A.headerAuth,getFormData:function(e){const t={},n=e.target;for(let a=0;a<n.length;a++){const e=n.elements[a].name,s=n.elements[a].value;s&&(t[e]=s)}return t}};var o=n(30358),i=n(28096),c=n(80231),l=n(97956),d=n(10810),h=n(19423),u=n(75304),m=n(38477),p=n(25852),g=n(13718),f=n(94576),b=n(44864),x=n(45413),A=n(8586),v=n(64412),y=n(83407),j=n(64854),k=n(15421),N=n(97508),C=n(41304),I=n(28344),D=n(70579);class S extends a.Component{constructor(e){super(e),this.state={capitalName:"",isDisabled:!1,districts:[],value:""},this.handleNumChange=e=>{this.setState({value:e.target.value.slice(0,3)}),e.target.value.length>=4&&i.oR.error("Branch Code can only be 3 digits")},this.handleSubmit=e=>{e.preventDefault();const t=e.target;if(!t.checkValidity())return void i.oR.error("Please fill in all required fields correctly.");const n=t.mailId;if(!/^[a-zA-Z0-9._%+-]+@epf\.org\.np$/.test(n.value))return void i.oR.error("Please enter a valid email address with @epf.org.np domain");const a=r.getFormData(e);this.parseBranchLogo((e=>{e&&(a.branchLogo=e),(0,o.ys)(a,((e,t)=>{t.success?(i.oR.success(t.message),this.props.history.push(c.A.adminBranches),this.setState({isDisabled:!0})):i.oR.error(t.message)}))}))},this.mandatory=(0,D.jsx)("span",{className:"text-danger h6 ml-1",children:(0,D.jsx)("b",{children:"*"})})}parseBranchLogo(e){var t=document.getElementById("branchLogo").files;if(t.length>0){var n=t[0],a=new FileReader;a.onload=function(t){var n=t.target.result;e(n)},a.readAsDataURL(n)}else e("NULL")}render(){var e,t;return(0,D.jsxs)(u.A,{className:"shadow",children:[(0,D.jsx)(m.A,{children:(0,D.jsxs)(p.A,{children:[(0,D.jsx)(g.A,{sm:11,children:(0,D.jsx)("p",{className:"h5 ",children:"Add Branch"})}),(0,D.jsx)(g.A,{sm:1,className:"d-flex justify-content-end",children:(0,D.jsx)(C.A,{type:"branch",ModalTitle:"Branch Field Information"})})]})}),(0,D.jsxs)(f.A,{onSubmit:this.handleSubmit,children:[(0,D.jsx)(b.A,{children:(0,D.jsxs)(p.A,{children:[(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsxs)(A.A,{children:["Name:",this.mandatory]}),(0,D.jsx)(v.A,{required:!0,name:"name",className:"rounded",id:"name",onInput:e=>(0,I.P)(e.target),value:this.state.capitalName,onChange:e=>this.setState({capitalName:(0,h.A)(e.target.value)})})]})}),(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsxs)(A.A,{children:["Address: ",this.mandatory]}),(0,D.jsx)(v.A,{required:!0,className:"rounded",name:"street",id:"street",onInput:e=>(0,I.P)(e.target)})]})}),(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsx)(A.A,{children:"District:"}),(0,D.jsx)(j.default,{required:!0,name:"city",options:null===(e=this.props.districts)||void 0===e?void 0:e.map((e=>({value:e.id,label:e.name})))})]})}),(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsxs)(A.A,{children:["Branch Code: ",this.mandatory]}),(0,D.jsx)(v.A,{required:!0,className:"rounded",name:"branchCode",type:"number",onInput:e=>(0,I.P)(e.target),id:"branchCode",value:(0,k.onlyForThisVendor)(k.banks.citizen.name)?this.state.value:null,onChange:(0,k.onlyForThisVendor)(k.banks.citizen.name)?this.handleNumChange:null})]})}),(0,k.excludeThisVendor)([k.banks.rbb.name,k.banks.citizen.name,k.banks.epf.name])&&(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsxs)(A.A,{children:["SOL branch id: ",this.mandatory]}),(0,D.jsx)(v.A,{type:"number",required:!0,className:"rounded",name:"branchNumber",id:"branchNumber"})]})}),(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsx)(A.A,{children:"Province:"}),(0,D.jsx)(j.default,{required:!0,name:"province",options:null===(t=this.props.provinces)||void 0===t?void 0:t.map((e=>({value:e.id,label:e.name})))})]})}),(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsx)(A.A,{children:"Country: "}),(0,D.jsx)(v.A,{className:"rounded",name:"country",id:"country",value:"Nepal",disabled:!0})]})}),(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsx)(A.A,{children:"Contact: "}),(0,D.jsx)(v.A,{className:"rounded",name:"phoneNumber",id:"phoneNumber",onInput:e=>(0,I.P)(e.target)})]})}),(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsx)(A.A,{for:"mailId",children:"Mail Id: "}),(0,D.jsx)(v.A,{className:"rounded",name:"mailId",id:"mailId",type:"email",pattern:"^[a-zA-Z0-9._%+-]+@epf\\.org\\.np$",onInput:e=>(0,I.P)(e.target),title:"Please enter a valid email address with @epf.org.np domain"})]})}),(0,D.jsx)(g.A,{md:3,children:(0,D.jsxs)(x.A,{children:[(0,D.jsx)(A.A,{children:"Branch Logo: "}),(0,D.jsx)(v.A,{type:"file",name:"branchLogo",id:"branchLogo"})]})})]})}),(0,D.jsxs)(y.A,{className:"d-flex justify-content-end",children:[(0,D.jsx)(l.A,{onClick:()=>window.history.back()}),(0,D.jsx)(d.A,{isDisabled:this.state.isDisabled})]})]})]})}}const w=(0,N.Ng)((e=>({...e.allFields})))(S)},30358:(e,t,n)=>{n.d(t,{MR:()=>d,SN:()=>h,cM:()=>u,d7:()=>l,p9:()=>i,t0:()=>c,ys:()=>o});var a=n(76400);const s="/branches",r="/district";function o(e,t){a.E8.post(`${s}`,e).then((e=>e.data)).then((e=>{t(null,e)})).catch((e=>{console.log(e),t(e)}))}function i(e){a.E8.get(`${s}`).then((e=>e.data)).then((t=>{e(null,t)})).catch((t=>{console.log(t),e(t)}))}function c(e,t){a.E8.put(`${s}`,e).then((e=>e.data)).then((e=>{t(null,e)})).catch((e=>{console.log(e),t(e)}))}function l(e,t){a.E8.get(`${s}/${e}`).then((e=>e.data)).then((e=>{t(null,e)})).catch((e=>{console.log(e),t(e)}))}function d(e,t){a.E8.get(`${s}/logo/${e}`).then((e=>e.data)).then((e=>{t(null,e)})).catch((e=>{console.log(e),t(e)}))}function h(e,t){a.E8.delete(`${s}/${e}`).then((e=>e.data)).then((e=>{t(null,e)})).catch((e=>{console.log(e),t(e)}))}function u(e){a.E8.get(`${r}`).then((e=>e.data)).then((t=>{e(null,t)})).catch((t=>{console.log(t),e(t)}))}},28344:(e,t,n)=>{n.d(t,{P:()=>a});const a=e=>{/^\s/.test(e.value)&&(e.value="")}},19423:(e,t,n)=>{function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.d(t,{A:()=>a})},17392:(e,t,n)=>{n.d(t,{A:()=>v});var a=n(98587),s=n(58168),r=n(65043),o=n(69292),i=n(98610),c=n(67266),l=n(34535),d=n(98206),h=n(18284),u=n(6803),m=n(92532),p=n(72372);function g(e){return(0,p.Ay)("MuiIconButton",e)}const f=(0,m.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var b=n(70579);const x=["edge","children","className","color","disabled","disableFocusRipple","size"],A=(0,l.Ay)(h.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,u.A)(n.color)}`],n.edge&&t[`edge${(0,u.A)(n.edge)}`],t[`size${(0,u.A)(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,c.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var a;const r=null==(a=(t.vars||t).palette)?void 0:a[n.color];return(0,s.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,s.A)({color:null==r?void 0:r.main},!n.disableRipple&&{"&:hover":(0,s.A)({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,c.X4)(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${f.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),v=r.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:c,className:l,color:h="default",disabled:m=!1,disableFocusRipple:p=!1,size:f="medium"}=n,v=(0,a.A)(n,x),y=(0,s.A)({},n,{edge:r,color:h,disabled:m,disableFocusRipple:p,size:f}),j=(e=>{const{classes:t,disabled:n,color:a,edge:s,size:r}=e,o={root:["root",n&&"disabled","default"!==a&&`color${(0,u.A)(a)}`,s&&`edge${(0,u.A)(s)}`,`size${(0,u.A)(r)}`]};return(0,i.A)(o,g,t)})(y);return(0,b.jsx)(A,(0,s.A)({className:(0,o.A)(j.root,l),centerRipple:!0,focusRipple:!p,disabled:m,ref:t},v,{ownerState:y,children:c}))}))}}]);
//# sourceMappingURL=1293.84c684ea.chunk.js.map