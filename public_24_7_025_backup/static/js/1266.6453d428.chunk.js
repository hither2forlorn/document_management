"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[1266],{68491:(e,s,t)=>{t.d(s,{A:()=>l});t(65043);var n=t(97508),i=t(70579);const l=(0,n.Ng)((e=>({userProfile:e.userProfile})))((function(e){let{children:s,userProfile:t}=e;return(0,i.jsx)(i.Fragment,{children:1===t.id||"Super-001"===t.hierarchy?s:null})}))},41266:(e,s,t)=>{t.r(s),t.d(s,{default:()=>T});var n=t(65043),i=t(91656),l=t(86453),a=t(97508),d=t(37519),r=t(28096),c=t(80231),h=t(97956),o=t(10810),u=t(75304),m=t(38477),p=t(25852),A=t(13718),x=t(94576),j=t(44864),f=t(45413),v=t(8586),N=t(64412),y=t(83407),g=t(15421),D=t(19368),b=t(19423),S=t(51080),C=t(68491),I=t(28344),E=t(70579);class P extends n.Component{constructor(){super(...arguments),this.state={documentTypes:[],isDisabled:!1,capitalName:""},this.handleSubmit=e=>{var s,t;e.preventDefault();const n=(0,l.tg)(e),a=null===this||void 0===this||null===(s=this.state)||void 0===s||null===(t=s.documentTypes)||void 0===t?void 0:t.filter((e=>e.id===Number(n.parentId)?1:0))[0];n.level=a?a.level+1:0,(0,i.NO)(n,((e,s)=>{if(e)return r.oR.error(e.response.data.data.name[0]);s.success?(r.oR.success(s.message),this.props.history.push(c.A.adminDocumentTypes),this.props.dispatch((0,d.Ni)()),this.setState({isDisabled:!0})):r.oR.warn(s.message)}))}}componentDidMount(){this.setState(this.props.allFields)}render(){var e;const s=this.props.allFields.hierarchy,t=null===s||void 0===s?void 0:s.filter((e=>"Branch"!==e.name));return(0,E.jsxs)(u.A,{className:"shadow",children:[(0,E.jsx)(m.A,{children:(0,E.jsx)(p.A,{children:(0,E.jsxs)(A.A,{children:[(0,E.jsx)("i",{className:"fa fa-file mr-1"})," Add Document Type"]})})}),(0,E.jsxs)(x.A,{onSubmit:this.handleSubmit,children:[(0,E.jsxs)(j.A,{children:[(0,E.jsx)(f.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsxs)(A.A,{md:4,children:[(0,E.jsx)(v.A,{children:"Name:"}),(0,E.jsx)(S.A,{})]}),(0,E.jsx)(A.A,{md:8,children:(0,E.jsx)(N.A,{className:"rounded ",name:"name",onInput:e=>(0,I.P)(e.target),id:"name",required:!0,value:this.state.capitalName,onChange:e=>this.setState({capitalName:(0,b.A)(e.target.value)})})})]})}),(0,E.jsx)(f.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(A.A,{md:4,children:(0,E.jsx)(v.A,{children:"Parent Category"})}),(0,E.jsx)(A.A,{md:8,children:(0,E.jsxs)(N.A,{className:"rounded",type:"select",name:"parentId",id:"parentId",children:[(0,E.jsx)("option",{value:"",children:"--- NONE ---"}),null===(e=this.state.documentTypes)||void 0===e?void 0:e.map((e=>{let s="",t=e.level;for(;t-- >0;)s+="---";return(0,E.jsx)("option",{value:e.id,children:s+" "+e.name},e.id)}))]})})]})}),(0,g.includeThisFeature)(g.dms_features.ASSOCIATED_IDS)&&(0,E.jsx)(f.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(A.A,{md:4,children:(0,E.jsx)(v.A,{children:"Associate ID"})}),(0,E.jsx)(A.A,{md:8,children:(0,E.jsxs)(N.A,{className:"rounded",type:"select",name:"isAssociatedIDReq",id:"isAssociatedIDReq",children:[(0,E.jsx)("option",{value:"",children:"--- NONE ---"}),(0,E.jsx)("option",{value:!0,children:"Required"}),(0,E.jsx)("option",{value:!1,children:"Optional"})]})})]})}),(0,E.jsx)(C.A,{children:(0,E.jsx)(f.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(A.A,{md:4,children:(0,E.jsx)(v.A,{children:"Hierarchy"})}),(0,E.jsx)(A.A,{md:8,children:(0,E.jsx)(D.Ae,{name:"hierarchy",options:t})})]})})})]}),(0,E.jsxs)(y.A,{className:"d-flex justify-content-end",children:[(0,E.jsx)(h.A,{onClick:()=>window.history.back()}),(0,E.jsx)(o.A,{isDisabled:this.state.isDisabled})]})]})]})}}const T=(0,a.Ng)((e=>({allFields:e.allFields,userProfile:e.userProfile})))(P)},91656:(e,s,t)=>{t.d(s,{K7:()=>r,LC:()=>c,Mp:()=>d,NO:()=>l,ph:()=>a});var n=t(76400);const i="/document-type";function l(e,s){n.E8.post(`${i}`,e).then((e=>{s(null,e.data)})).catch((e=>{s(e)}))}function a(e){n.E8.get(`${i}`).then((s=>{e(null,s.data)})).catch((s=>{e(s)}))}function d(e,s){n.E8.put(`${i}`,e).then((e=>{s(null,e.data)})).catch((e=>{s(e)}))}function r(e,s){n.E8.get(`${i}/${e}`).then((e=>{s(null,e.data)})).catch((e=>{s(e)}))}function c(e,s){n.E8.delete(`${i}/${e}`).then((e=>{s(null,e.data)})).catch((e=>{s(e)}))}},28344:(e,s,t)=>{t.d(s,{P:()=>n});const n=e=>{/^\s/.test(e.value)&&(e.value="")}},19423:(e,s,t)=>{function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}t.d(s,{A:()=>n})}}]);
//# sourceMappingURL=1266.6453d428.chunk.js.map