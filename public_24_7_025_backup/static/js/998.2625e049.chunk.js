(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[998],{50998:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>S});var i=n(86453),s=n(80231),l=n(65043),t=n(97508),o=n(37519),r=n(28096),c=n(58441),d=n(83565),h=n(77746),u=n(75304),m=n(38477),x=n(94576),v=n(44864),p=n(25852),j=n(13718),g=n(45413),A=n(8586),b=n(64412),y=n(83407),f=n(87382),w=n(19423),T=n(63122),k=n(15421),C=n(70579);const S=(0,t.Ng)((e=>({allFields:e.allFields,userProfile:e.userProfile})))((e=>{const[a,n]=(0,l.useState)(),[t,S]=(0,l.useState)([{}]),[R,N]=(0,l.useState)(!1),[I,D]=(0,l.useState)(!1),[F,q]=(0,l.useState)({}),V=(e,a)=>{let{name:n,value:i}=e.target;switch(n){case"string":console.log("string.");break;case"number":console.log("number.");break;case"alphaNum":console.log("alphaNum.");break;case"province":console.log("province.");break;case"district":console.log("district.");break;case"branch":console.log("branch.");break;case"tag":console.log("tag.");break;case"dynamicCombox":console.log("dynamicCombox.");break;default:console.log("Sorry, we are out")}console.log("Is there anything else you'd like?"),"dataType"!=n&&(i=(0,w.A)(i));const s=[...t];s[a][n]=i,"type"===n&&("1"===s[a].type?s[a].type="0":s[a].type="1"),"isRequired"===n&&("1"===s[a].isRequired?s[a].isRequired="0":s[a].isRequired="1"),"isShownInAttachment"===n&&("1"===s[a].isShownInAttachment?s[a].isShownInAttachment="0":s[a].isShownInAttachment="1"),S(s)};return(0,l.useEffect)((()=>{const a=d.parse(e.location.search),i=c.A.getId(a["?i"]);i||(e.history.push(s.A.adminIndexType),r.oR.warning("Please select document type!!")),n(i),(0,h.Xv)(i,((e,a)=>{e||a.success&&S(a.data)}))}),[]),(0,C.jsxs)(u.A,{className:"shadow",children:[(0,C.jsx)(m.A,{children:(0,C.jsx)("p",{className:"h5",children:"Edit Index Type"})}),(0,C.jsxs)(x.A,{onSubmit:a=>{a.preventDefault();const n=(0,i.lm)(a);(0,h.Uv)(n,((a,n)=>{a?r.oR.error("Error!"):n.success&&(r.oR.success(n.message),e.history.push(s.A.adminIndexType),e.dispatch((0,o.Ni)()))}))},children:[(0,C.jsx)(v.A,{children:t.map(((n,i)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(p.A,{children:[(0,C.jsx)(j.A,{md:4,children:(0,C.jsxs)(g.A,{children:[(0,C.jsx)(A.A,{for:"dataTypeSelect",children:"Data Type"}),(0,C.jsxs)(b.A,{type:"select",value:t?n.dataType:"",name:"dataType",elementId:a,onChange:e=>V(e,i),required:!0,children:[(0,C.jsx)("option",{value:"",children:"--NONE--"}),(0,C.jsx)("option",{value:"string",children:"String"}),(0,C.jsx)("option",{value:"number",children:"Number"}),(0,C.jsx)("option",{value:"alphaNum",children:"Alpha Numeric"}),(0,C.jsx)("option",{value:"date",children:"Date"}),(0,C.jsx)("option",{value:"province",children:"Province"}),(0,C.jsx)("option",{value:"district",children:"District"}),(0,C.jsx)("option",{value:"tag",children:"Tag"}),(0,C.jsx)("option",{value:"dynamicCombox",disabled:!0,children:"Dynamic Combox"}),1===e.userProfile.id?(0,C.jsx)("option",{value:"branch",children:"Branch"}):(0,C.jsx)("option",{value:"branch",disabled:!0,children:"Branch"})]})]})}),(0,C.jsx)(j.A,{md:4,children:(0,C.jsxs)(g.A,{children:[(0,C.jsx)(A.A,{children:"Index Name"}),(0,C.jsx)(b.A,{name:"label",placeholder:"Enter New Index Type",value:n.label,onChange:e=>V(e,i),required:!0})]})}),(0,C.jsxs)(j.A,{md:4,children:[(0,C.jsxs)(g.A,{style:{display:"flex",justifyContent:"flex-end",position:"relative",top:"3px"},children:[(0,C.jsx)(b.A,{type:"checkbox",value:n.isRequired,name:"isRequired",checked:"1"===n.isRequired||!0===n.isRequired,onChange:e=>V(e,i)}),(0,C.jsx)("label",{htmlFor:"Required",style:{marginRight:20},children:"Required field"})]}),(0,k.includeThisFeature)(k.dms_features.UPLOAD_ATTACHMENT_MODAL)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(g.A,{style:{display:"flex",justifyContent:"flex-end",position:"relative",top:"3px"},children:[(0,C.jsx)(b.A,{type:"checkbox",value:!(!n.validation||"0"===n.validation),checked:R||!(!n.validation||"0"===n.validation),name:"validation",onChange:e=>V(e,i)}),(0,C.jsx)("label",{htmlFor:"Required",style:{marginRight:20},children:"Validation Rule"})]}),(0,C.jsxs)(g.A,{style:{display:"flex",justifyContent:"flex-end",position:"relative",top:"3px"},children:[(0,C.jsx)(b.A,{type:"checkbox",value:t?n.isShownInAttachment:"",name:"isShownInAttachment",checked:"1"===n.isShownInAttachment||!0===n.isShownInAttachment,onChange:e=>V(e,i)}),(0,C.jsx)("label",{htmlFor:"showInAttachment",style:{marginRight:20},children:"Show in Table"})]})]})]}),(0,k.includeThisFeature)(k.dms_features.UPLOAD_ATTACHMENT_MODAL)&&(n.validation&&"0"!==n.validation?(0,C.jsx)(T.A,{validation:V,value:t?n.validation:""}):"")]}),(0,C.jsx)(b.A,{type:"hidden",name:"id",value:a}),(0,C.jsx)(b.A,{type:"hidden",name:"docId",value:n.docId})]})))}),(0,C.jsx)(y.A,{className:"d-flex justify-content-end",children:(0,C.jsx)(f.A,{type:"submit",color:"primary",className:"text-white",children:"Submit"})})]})]})}))},63122:(e,a,n)=>{"use strict";n.d(a,{A:()=>u});var i=n(65043),s=n(13718),l=n(45413),t=n(8586),o=n(25852),r=n(64412),c=n(87382),d=n(82435),h=n(70579);const u=e=>{const[a,n]=(0,i.useState)([{service:"",serviceTwo:""}]),[u,m]=(0,i.useState)(""),[x,v]=(0,i.useState)({}),[p,j]=(0,i.useState)(""),g=()=>{switch(console.log(null===e||void 0===e?void 0:e.validationRules,"asdf"),null===e||void 0===e?void 0:e.validationRules){case"string":default:return d.ValidationRuleString&&d.ValidationRuleString.map((e=>(0,h.jsx)("option",{value:e.value,children:e.name})));case"number":console.log("This is  a number.");break;case"alphaNum":console.log("alphaNum.");break;case"date":console.log("date.");break;case"autoComplete":console.log("autoComplete.");break;case"province":console.log("province.");break;case"district":console.log("district.");break;case"tag":console.log("tag.");break;case"nepaliDate":console.log("nepaliDate.");break;case"dynamicCombox":return d.ValidationRuleComboBox&&d.ValidationRuleComboBox.map((e=>(0,h.jsx)("option",{value:e.value,children:e.name})));case"branch":console.log("branch.")}},A=(e,i)=>{const{name:s,value:l}=e.target,t=[...a];t[i][s]=l,n(t),m(":"),v(a?"{"+a.map(((e,a)=>e.service?'\n"'+e.service+'"'+u+'"'+e.serviceTwo+'"':"\n"))+"}":"")},b=()=>{n([...a,{service:"",serviceTwo:""}]),e.validation({validation:x},e.i)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"dropdown-divider"}),(0,h.jsx)(s.A,{md:4,children:(0,h.jsxs)(l.A,{children:[(0,h.jsx)(t.A,{for:"dataTypeSelect",children:"Validation Field"}),a.map(((i,t)=>(0,h.jsxs)(o.A,{children:[(0,h.jsx)(s.A,{md:5,children:(0,h.jsx)(l.A,{children:(0,h.jsxs)(r.A,{type:"select",name:"service",id:"service",onChange:e=>A(e,t),children:[(0,h.jsx)("option",{value:"",children:"Please Select Option"}),g()]})})}),(0,h.jsx)(s.A,{md:1,children:":"}),(0,h.jsx)(s.A,{md:3,children:(0,h.jsx)(l.A,{children:(0,h.jsx)(r.A,{type:"text",name:"serviceTwo",id:"serviceTwo",value:i.serviceTwo,onChange:e=>A(e,t)})})}),a.length-1===t&&a.length<20&&(0,h.jsx)(s.A,{md:1,children:(0,h.jsx)(l.A,{children:(0,h.jsx)(c.A,{onClick:b,className:"btn btn-brand btn-info  mr-1",children:(0,h.jsx)("i",{className:"fa fa-plus text-white","aria-hidden":"true"})})})}),1!==a.length&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.A,{md:1,children:(0,h.jsx)(l.A,{children:(0,h.jsx)(c.A,{style:{marginLeft:"5px"},onClick:()=>(i=>{const s=[...a];s.splice(i,1),n(s),v(a?"{"+a.map(((e,a)=>e.service?'\n"'+e.service+'"'+u+'"'+e.serviceTwo+'"':"\n"))+"}":""),e.validation({validation:x},e.i)})(t),className:"btn btn-brand btn-danger mr-1",children:(0,h.jsx)("i",{className:"fa fa-minus text-white ","aria-hidden":"true"})})})})})]})))]})}),(0,h.jsxs)(s.A,{md:8,children:[(0,h.jsx)(t.A,{children:"JSON Data"}),(0,h.jsx)("div",{className:"output",children:(0,h.jsx)("textarea",{placeholder:"{}",id:"data",name:"validation",onChange:e=>(e=>{console.log(e.target.value,"eben"),e.target.value&&j("{")})(e),rows:"8",cols:"62",disabled:!0,value:"dynamicCombox"===(null===e||void 0===e?void 0:e.validationRules)?"{option:["+a.map(((e,a)=>e.service?'\n"'+e.service+'"'+u+'"'+e.serviceTwo+'"':"\n"))+"]}":"{"+a.map(((e,a)=>e.service?'\n"'+p+e.service+'"'+u+'"'+e.serviceTwo+'"':"\n"))+"}"})})]})]})}},82435:e=>{e.exports={ValidationRuleString:[{name:"Max Length",value:"maxlength"},{name:"Min Length",value:"minlength"},{name:"Disable Future date",value:"noFutureDate"}],ValidationRuleComboBox:[{name:"Label",value:"label"},{name:"Value",value:"value"}]}},19423:(e,a,n)=>{"use strict";function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.d(a,{A:()=>i})}}]);
//# sourceMappingURL=998.2625e049.chunk.js.map