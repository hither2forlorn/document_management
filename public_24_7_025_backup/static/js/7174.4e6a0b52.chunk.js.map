{"version":3,"file":"static/js/7174.4e6a0b52.chunk.js","mappings":"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","sources":["admin/views/DocumentManagement/components/CustomTable.js","admin/views/Roles/Roles.js","admin/views/Roles/api.js","admin/views/Roles/util.js","admin/views/Util/getSecurityHierarchyPath.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useTable, useFilters, useSortBy, usePagination } from \"react-table\";\r\nimport { Table, Row, Col } from \"reactstrap\";\r\nimport { useSelector, connect } from \"react-redux\";\r\nimport { Pagination } from \"@mui/material\";\r\n\r\nimport { FormControl, MenuItem, Select } from \"@mui/material\";\r\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\r\nimport { banks, dms_features, includeThisFeature, onlyForThisVendor } from \"config/bank\";\r\n\r\nfunction CustomTable(props) {\r\n  const { columns, data, allData } = props;\r\n  const [filterInput, setFilterInput] = useState(\"\");\r\n\r\n  // Use the state and functions returned from useTable to build your UI\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    page,\r\n    gotoPage,\r\n    setPageSize,\r\n    prepareRow,\r\n    setFilter,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data: filterInput && (props.LocationMapBata || props.securityHierarchyBata) ? allData : data, // used for search in locationMap\r\n    },\r\n    useFilters,\r\n    useSortBy,\r\n    usePagination\r\n  );\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    gotoPage(newPage - 1);\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const value = e.target.value || undefined;\r\n    const name = e.target.name;\r\n\r\n    switch (name) {\r\n      case \"DocumentName\":\r\n        setFilter(\"DocumentName\", value);\r\n        setFilterInput(value);\r\n        break;\r\n\r\n      default:\r\n        setFilter(\"name\", value);\r\n        setFilterInput(value);\r\n        break;\r\n    }\r\n  };\r\n  // Render the UI for your table\r\n\r\n  const style = {\r\n    backgroundColor: \"red\",\r\n    fontSize: 200,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"form-group rounded\">\r\n        <div className=\"input-group mb-2\">\r\n          <div className=\"input-group-prepend rounded\">\r\n            <div className=\"input-group-text rounded\">\r\n              <i className=\"fas fa-search\"></i>\r\n            </div>\r\n          </div>\r\n          <input\r\n            name={props.name || \"name\"}\r\n            value={filterInput}\r\n            className=\"form-control rounded\"\r\n            onChange={handleFilterChange}\r\n            placeholder={\"Search by name column\"}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Table responsive bordered hover {...getTableProps()} id=\"toExcelData\">\r\n        <thead className=\"table-active\">\r\n          {headerGroups.map((headerGroup) => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map((column) => (\r\n                <th\r\n                  {...column.getHeaderProps(column.getSortByToggleProps())}\r\n                  className={column.isSorted ? (column.isSortedDesc ? \"sort-desc\" : \"sort-asc\") : \"\"}\r\n                >\r\n                  {column.render(\"Header\")}\r\n                  <span>\r\n                    {column.isSorted ? (\r\n                      column.isSortedDesc ? (\r\n                        <span>\r\n                          {\"  \"}\r\n                          <i className=\"fas fa-caret-square-down text-info ml-2\"></i>\r\n                        </span>\r\n                      ) : (\r\n                        <span>\r\n                          {\"  \"}\r\n                          <i className=\"fas fa-caret-square-up text-info pl-1\"></i>\r\n                        </span>\r\n                      )\r\n                    ) : (\r\n                      <span>\r\n                        {\" \"}\r\n                        <i className=\"fas fa-sort text-info pl-1\"></i>\r\n                      </span>\r\n                    )}\r\n                  </span>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row);\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map((cell) => {\r\n                  return <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>;\r\n                })}\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n\r\n      <Row>\r\n        <Col>\r\n          <Pagination\r\n            count={parseInt(Math.ceil(data.length / pageSize))}\r\n            onChange={handleChangePage}\r\n            shape=\"rounded\"\r\n            page={pageIndex + 1}\r\n          />\r\n        </Col>\r\n        <Col>\r\n          <div className=\"float-right mt-2 d-flex align-items-center\">\r\n            <p className=\"mb-0 mr-2\">Items Per Page</p>\r\n            <FormControl>\r\n              <Select\r\n                labelId=\"demo-customized-select-label\"\r\n                id=\"demo-customized-select\"\r\n                value={pageSize}\r\n                onChange={(e) => {\r\n                  setPageSize(Number(e.target.value));\r\n                }}\r\n                className=\"form-control rounded\"\r\n              >\r\n                <MenuItem value={5}>5</MenuItem>\r\n                <MenuItem value={10}>10</MenuItem>\r\n                <MenuItem value={20}>20</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <p className=\"mb-0 ml-2\">\r\n              Total Documents :<b className=\"mr-2\">{data.length}</b> Page :<b> {pageIndex + 1}</b>\r\n            </p>\r\n            <ReactHTMLTableToExcel\r\n              id=\"toExcel-button\"\r\n              className=\"btn btn-sm ml-2 btn-primary text-white float-right\"\r\n              table=\"toExcelData\"\r\n              filename=\"attachmentstable\"\r\n              sheet=\"tablexls\"\r\n              buttonText=\"Download Report\"\r\n            />\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect((state) => ({\r\n  allFields: state.allFields,\r\n  searchData: state.docSearchData,\r\n}))(CustomTable);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getRoles, deleteRole } from \"./api\";\r\nimport { VIEW_EDIT, VIEW_EDIT_DELETE } from \"./util\";\r\nimport A from \"config/url\";\r\nimport moment from \"moment\";\r\nimport metaRoutes from \"config/meta_routes\";\r\nimport { Card, CardHeader, CardBody } from \"reactstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport CustomTable from \"../DocumentManagement/components/CustomTable\";\r\nimport CustomTableAction from \"admin/components/CustomTableAction\";\r\nimport getSecurityHierarchyPath from \"../Util/getSecurityHierarchyPath\";\r\nimport { banks, onlyForThisVendor } from \"config/bank\";\r\n\r\nclass Roles extends Component {\r\n  state = {\r\n    roles: [],\r\n    currentPageNumber: 1,\r\n    startOffset: 0,\r\n  };\r\n\r\n  handleSelect = (number) => {\r\n    if (number > 0 && number - 1 < this.state.roles.length / 10) {\r\n      this.setState({\r\n        currentPageNumber: number,\r\n        startOffset: (number - 1) * 10,\r\n      });\r\n    }\r\n  };\r\n\r\n  updateData() {\r\n    getRoles((err, roles) => {\r\n      if (err) return;\r\n      if (roles) {\r\n        roles.forEach((branch, index) => {\r\n          branch.serial = index + 1;\r\n        });\r\n        this.setState({\r\n          roles: roles,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateData();\r\n  }\r\n\r\n  handleDelete = (id) => {\r\n    if (window.confirm(\"Do you want to delete the Roles? The action is irreversible!\")) {\r\n      deleteRole(id, (err, data) => {\r\n        if (err) this.history.push(metaRoutes.adminRoles);\r\n        toast.info(data.message);\r\n        this.updateData();\r\n      });\r\n    }\r\n  };\r\n\r\n  columnData = [\r\n    {\r\n      Header: \"S.N\",\r\n      accessor: \"serial\",\r\n    },\r\n    {\r\n      Header: \"Name\",\r\n      accessor: \"name\",\r\n      Cell: (row) => {\r\n        return `${row.value} `;\r\n      },\r\n    },\r\n    {\r\n      Header: \"hierarchy\",\r\n      accessor: \"hierarchy\",\r\n      Cell: (row) => {\r\n        return `${this.props.userProfile.id == 1 && row.row.original.hierarchy\r\n            ? getSecurityHierarchyPath(this.props.allFields.hierarchy, row.row.original.hierarchy)\r\n            : \"\"\r\n          }`;\r\n      },\r\n    },\r\n    {\r\n      Header: \"Date Registered\",\r\n      accessor: \"createdAt\",\r\n      Cell: (row) => moment(row.value).format(\"dddd, MMMM Do YYYY\"),\r\n    },\r\n    {\r\n      Header: \"Date Modified\",\r\n      accessor: \"updatedAt\",\r\n      Cell: (row) => moment(row.value).format(\"dddd, MMMM Do YYYY\"),\r\n    },\r\n\r\n    {\r\n      Header: \"Actions\",\r\n      accessor: \"action\",\r\n      disableSortBy: true,\r\n\r\n      Cell: ({ row }) => {\r\n        const p = this.props.permissions || {};\r\n\r\n        if (this.props.userProfile.roleId != 1 && (row.original.id == 4 || row.original.id == 3)) return null;\r\n        return (\r\n          <div style={{ cursor: \"pointer\" }}>\r\n            <CustomTableAction\r\n              to={\r\n                metaRoutes.adminRolesEdit + \"?i=\" + A.getHash(row.original.id)\r\n                // metaRoutes.adminRolesEdit + \"?i=\" + A.getHash(row.original.id)\r\n              }\r\n              buttonType=\"edit\"\r\n              permission={p.role}\r\n            />\r\n            <CustomTableAction onClick={() => this.handleDelete(row.original.id)} buttonType=\"delete\" permission={p.role} />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  render() {\r\n    if (onlyForThisVendor(banks.bok.name) && this.props.userProfile.id == 1)\r\n      this.columnData = this.columnData?.filter((row) => row.Header != \"hierarchy\");\r\n\r\n    const p = this.props.permissions ? this.props.permissions : {};\r\n    return (\r\n      <Card className=\"shadow\">\r\n        <CardHeader>\r\n          <p className=\"h5\">Roles</p>\r\n          {p.role === VIEW_EDIT || p.role === VIEW_EDIT_DELETE || p.isAdmin ? (\r\n            <Link to={metaRoutes.adminRolesAdd} className=\"btn-header btn btn-outline-dark btn-sm border-dark border\">\r\n              <i className=\"fa fa-plus\" /> Add Role\r\n            </Link>\r\n          ) : null}\r\n        </CardHeader>\r\n        <CardBody>\r\n          <CustomTable columns={this.columnData} data={this.state.roles} />\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({\r\n  allFields: state.allFields,\r\n  userProfile: state.userProfile,\r\n}))(Roles);\r\n","import { server } from \"admin/config/server\";\r\n\r\nconst url = \"/roles\";\r\n\r\nfunction getRoles(callback) {\r\n  server\r\n    .get(`${url}`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getRole(id, callback) {\r\n  server\r\n    .get(`${url}/${id}`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction editRole(role, callback) {\r\n  server\r\n    .put(`${url}/${role.id}`, role)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction addRole(role, callback) {\r\n  server\r\n    .post(`${url}`, role)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getRoleTypes(callback) {\r\n  server\r\n    .get(`${url}/types`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction deleteRole(id, callback) {\r\n  server\r\n    .delete(`${url}/${id}`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nexport { getRoles, getRoleTypes, getRole, editRole, addRole, deleteRole };\r\n","import { NONE, VIEW, VIEW_EDIT, VIEW_EDIT_DELETE } from \"config/values\";\r\n\r\nconst optionsPage = [\r\n  {\r\n    value: NONE,\r\n    label: \"--- NONE ---\",\r\n  },\r\n  {\r\n    value: VIEW,\r\n    label: \"View\",\r\n  },\r\n  {\r\n    value: VIEW_EDIT,\r\n    label: \"Edit\",\r\n  },\r\n  {\r\n    value: VIEW_EDIT_DELETE,\r\n    label: \"Edit / Delete\",\r\n  },\r\n];\r\n\r\nconst optionsBoolean = [\r\n  {\r\n    value: false,\r\n    label: \"No\",\r\n  },\r\n  {\r\n    value: true,\r\n    label: \"Yes\",\r\n  },\r\n];\r\n\r\nexport { optionsPage, optionsBoolean, VIEW, VIEW_EDIT, VIEW_EDIT_DELETE };\r\n","/**\r\n *\r\n * @param {*} hierarchies\r\n * @param {*} hierarchyCode\r\n * @returns security hierarchy path\r\n */\r\n\r\nfunction getSecurityHierarchyPath(hierarchies, hierarchyCode) {\r\n  const tempPath = [];\r\n\r\n  if (!hierarchyCode) return;\r\n  //  find the security hierarchy\r\n  const itemIs = hierarchies.filter((item) => item.code === hierarchyCode);\r\n  if (itemIs.length > 0) {\r\n    if (itemIs[0]?.parentId !== null && itemIs[0] !== undefined) {\r\n      hierarchies.forEach((item) => {\r\n        if (item.id === itemIs[0].parentId) {\r\n          tempPath.push(item.name);\r\n        }\r\n      });\r\n    }\r\n    tempPath.push(itemIs[0].name);\r\n    return tempPath.toString().replace(\",\", \" --> \");\r\n  }\r\n}\r\n\r\nexport default getSecurityHierarchyPath;\r\n"],"names":["connect","state","allFields","searchData","docSearchData","props","columns","data","allData","filterInput","setFilterInput","useState","getTableProps","getTableBodyProps","headerGroups","page","gotoPage","setPageSize","prepareRow","setFilter","pageIndex","pageSize","useTable","LocationMapBata","securityHierarchyBata","useFilters","useSortBy","usePagination","_jsxs","_Fragment","children","_jsx","className","name","value","onChange","e","target","undefined","placeholder","Table","responsive","bordered","hover","id","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","isSorted","isSortedDesc","render","row","i","getRowProps","cells","cell","getCellProps","Row","Col","Pagination","count","parseInt","Math","ceil","length","handleChangePage","event","newPage","shape","FormControl","Select","labelId","Number","MenuItem","ReactHTMLTableToExcel","table","filename","sheet","buttonText","Roles","Component","constructor","arguments","roles","currentPageNumber","startOffset","handleSelect","number","this","setState","handleDelete","window","confirm","deleteRole","err","history","push","metaRoutes","adminRoles","toast","info","message","updateData","columnData","Header","accessor","Cell","userProfile","original","hierarchy","getSecurityHierarchyPath","moment","format","disableSortBy","_ref","p","permissions","roleId","style","cursor","CustomTableAction","to","adminRolesEdit","A","getHash","buttonType","permission","role","onClick","getRoles","forEach","branch","index","serial","componentDidMount","_this$columnData","onlyForThisVendor","banks","bok","filter","Card","CardHeader","VIEW_EDIT","VIEW_EDIT_DELETE","isAdmin","Link","adminRolesAdd","CardBody","CustomTable","url","callback","server","get","then","json","catch","getRole","editRole","put","addRole","post","getRoleTypes","delete","optionsPage","NONE","label","VIEW","optionsBoolean","hierarchies","hierarchyCode","tempPath","itemIs","item","code","_itemIs$","parentId","toString","replace"],"sourceRoot":""}