{"version":3,"file":"static/js/1184.6be7a71f.chunk.js","mappings":"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","sources":["admin/views/Branches/api.js","admin/views/UsersLdap/EditUser.js","admin/views/UsersLdap/api.js"],"sourcesContent":["import { responsiveProperty } from \"@mui/material/styles/cssUtils\";\r\nimport { server } from \"admin/config/server\";\r\nconst url = \"/branches\";\r\nconst urlDis = \"/district\";\r\n\r\nfunction addBranch(body, callback) {\r\n  server\r\n    .post(`${url}`, body)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n\r\n      console.log(err);\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getBranches(callback) {\r\n  server\r\n    .get(`${url}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      callback(err);\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\nfunction editBranch(body, callback) {\r\n  server\r\n    .put(`${url}`, body)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getBranch(id, callback) {\r\n  server\r\n    .get(`${url}/${id}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      callback(err);\r\n    });\r\n}\r\n\r\n\r\nfunction getBranchLogo(id, callback) {\r\n  server\r\n    .get(`${url}/logo/${id}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction deleteBranch(id, callback) {\r\n  server\r\n    .delete(`${url}/${id}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getDistricts(callback) {\r\n  server\r\n    .get(`${urlDis}`)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      callback(err);\r\n    });\r\n}\r\n\r\nexport { addBranch, getBranches, editBranch, getBranch, deleteBranch, getBranchLogo, getDistricts };\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardHeader, CardFooter, Form, Button, Col, Row, FormGroup, Input, Label } from \"reactstrap\";\r\nimport { editUser, getUser, loadAllFields } from \"./api\";\r\nimport A from \"config/url\";\r\nimport query from \"querystring\";\r\nimport Select from \"react-select\";\r\nimport metaRoutes from \"config/meta_routes\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { CustomSelect } from \"admin/components\";\r\nimport { getBranches } from \"../Branches/api\";\r\nclass EditUser extends Component {\r\n  state = {\r\n    user: {},\r\n    roles: [],\r\n    selectedBranch: null,\r\n    security_hierarchy: [],\r\n    branches: [],\r\n    departments: [],\r\n    departmentId: null\r\n  };\r\n\r\n  handleBranchChange = (selectedBranch) => {\r\n    const branchId = selectedBranch.value;\r\n    if (branchId) {\r\n      this.setState({ selectedBranch });\r\n    }\r\n  };\r\n\r\n\r\n  // handleChange = (event) => {\r\n  //   let { user } = this.state;\r\n  //   const { name, value, type } = event.target;\r\n\r\n  //   switch (name) {\r\n  //     case \"hierarchy\":\r\n  //       let departmentId = null;\r\n  //       let branchId = null;\r\n\r\n  //       if (value.startsWith(\"Dept_\")) {\r\n  //         // Extract departmentId from the hierarchy\r\n  //         const match = value.match(/\\d+$/);\r\n  //         if (match) departmentId = match[0];\r\n\r\n  //         // Reset branch when department changes\r\n  //         this.setState({\r\n  //           departmentId,   // Set departmentId from hierarchy\r\n  //           branchId: null, // Reset branchId\r\n  //           selectedBranch: null, // Reset selected branch\r\n  //         });\r\n\r\n  //         user[\"departmentId\"] = departmentId;\r\n  //         user[\"branchId\"] = null; // Ensure branchId is reset when switching to Dept_\r\n  //       } else if (value.startsWith(\"Branch_\")) {\r\n  //         // Extract branchId from the hierarchy\r\n  //         const match = value.match(/\\d+$/);\r\n  //         if (match) branchId = match[0];\r\n\r\n  //         // Reset department when branch changes\r\n  //         this.setState({\r\n  //           branchId, // Set branchId from hierarchy\r\n  //           departmentId: null, // Reset departmentId\r\n  //         });\r\n\r\n  //         user[\"branchId\"] = branchId;\r\n  //         user[\"departmentId\"] = null; // Ensure departmentId is reset when switching to Branch_\r\n  //       }\r\n\r\n  //       this.setState({ security_hierarchy: value });\r\n  //       break;\r\n\r\n  //     case \"departmentId\": // Selecting a department branch\r\n  //       if (this.state.security_hierarchy.startsWith(\"Dept_\")) {\r\n  //         // Only update the branchId if the hierarchy is Dept_\r\n  //         this.setState({\r\n  //           branchId: value, // Update branchId\r\n  //         });\r\n  //         user[\"branchId\"] = value;\r\n  //       }\r\n  //       break;\r\n  //   }\r\n\r\n  //   switch (type) {\r\n  //     case \"checkbox\":\r\n  //       user[name] = event.checked;\r\n  //       break;\r\n  //     case \"textarea\":\r\n  //       user.notes = value;\r\n  //       break;\r\n  //     default:\r\n  //       user[name] = value;\r\n  //       break;\r\n  //   }\r\n  //   this.setState({ user });\r\n  // };\r\n\r\n  // handleSubmit = (e) => {\r\n  //   e.preventDefault();\r\n  //   const formData = { ...this.state.user };\r\n\r\n  //   if (this.state.departmentId) {\r\n  //     formData.departmentId = this.state.departmentId; // Keep departmentId extracted from hierarchy\r\n  //   }\r\n\r\n  //   if (this.state.branchId) {\r\n  //     formData.branchId = this.state.branchId; // Update branchId\r\n  //   }\r\n\r\n  //   // Ensure departmentId and branchId are set correctly before submitting\r\n  //   if (formData.hierarchy.startsWith(\"Dept_\")) {\r\n  //     const match = formData.hierarchy.match(/\\d+$/);\r\n  //     if (match) {\r\n  //       formData.departmentId = match[0]; // Extract departmentId if hierarchy is Dept_\r\n  //     }\r\n  //   }\r\n\r\n  //   if (formData.hierarchy.startsWith(\"Branch_\")) {\r\n  //     const match = formData.hierarchy.match(/\\d+$/);\r\n  //     if (match) {\r\n  //       formData.branchId = match[0]; // Extract branchId if hierarchy is Branch_\r\n  //     }\r\n  //   }\r\n\r\n  //   editUser(formData, (err, json) => {\r\n  //     if (err) return;\r\n  //     if (json) {\r\n  //       this.props.history.push(metaRoutes.adminLdapUsers);\r\n  //       toast.success(\"Successfully edited user details\");\r\n  //     }\r\n  //   });\r\n  // }; \r\n\r\n  handleChange = (event) => {\r\n    let { user } = this.state;\r\n    const { name, value, type } = event.target;\r\n\r\n    switch (name) {\r\n      case \"hierarchy\":\r\n        let departmentId = null;\r\n        let branchId = null;\r\n\r\n        if (value.startsWith(\"Dept_\")) {\r\n          // Extract departmentId from hierarchy and reset branchId\r\n          const match = value.match(/\\d+$/);\r\n          if (match) {\r\n            departmentId = match[0]; // Extract departmentId\r\n          }\r\n\r\n          this.setState({\r\n            departmentId,  // Set departmentId based on hierarchy\r\n            branchId: null, // Reset branchId when Dept_ is selected\r\n          });\r\n\r\n          user[\"departmentId\"] = departmentId;\r\n          user[\"branchId\"] = null; // Ensure branchId is null when Dept_ is selected\r\n        } else if (value.startsWith(\"Branch_\")) {\r\n          // Extract branchId from hierarchy and reset departmentId\r\n          const match = value.match(/\\d+$/);\r\n          if (match) {\r\n            branchId = match[0]; // Extract branchId\r\n          }\r\n\r\n          this.setState({\r\n            branchId,        // Set branchId based on hierarchy\r\n            departmentId: null, // Reset departmentId when Branch_ is selected\r\n          });\r\n\r\n          user[\"branchId\"] = branchId;\r\n          user[\"departmentId\"] = null; // Ensure departmentId is null when Branch_ is selected\r\n        }\r\n\r\n        this.setState({ security_hierarchy: value });\r\n        break;\r\n\r\n      // Other case handling if needed\r\n    }\r\n\r\n    switch (type) {\r\n      case \"checkbox\":\r\n        user[name] = event.checked;\r\n        break;\r\n      case \"textarea\":\r\n        user.notes = value;\r\n        break;\r\n      default:\r\n        user[name] = value;\r\n        break;\r\n    }\r\n\r\n    this.setState({ user });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = { ...this.state.user };\r\n    if (formData.hierarchy.startsWith(\"Dept_\")) {\r\n      const match = formData.hierarchy.match(/\\d+$/);\r\n      if (match) {\r\n        formData.departmentId = match[0];\r\n      }\r\n      formData.branchId = null;\r\n    }\r\n\r\n    if (formData.hierarchy.startsWith(\"Branch_\")) {\r\n      const match = formData.hierarchy.match(/\\d+$/);\r\n      if (match) {\r\n        formData.branchId = match[0];\r\n      }\r\n      formData.departmentId = null;\r\n    }\r\n    editUser(formData, (err, json) => {\r\n      if (err) return;\r\n      if (json) {\r\n        this.props.history.push(metaRoutes.adminLdapUsers);\r\n        toast.success(\"Successfully edited user details\");\r\n      }\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    const qs = query.parse(this.props.location.search);\r\n    const id = A.getId(qs[\"?i\"]);\r\n    if (!Number(id)) {\r\n      this.props.history.push(metaRoutes.adminLdapUsers);\r\n      return;\r\n    }\r\n    getBranches((err, branches) => {\r\n      if (err) return;\r\n      this.setState(\r\n        {\r\n          branches: branches.data\r\n        }\r\n      )\r\n    })\r\n    getUser(id, (err, user) => {\r\n      if (err) return;\r\n      const userBranch = this.state.branches?.find((b) => (b.value === user.branchId)) || null;\r\n      const selectedHierarchy = this.props.allFields?.hierarchy?.find((h) => h.code === user.hierarchy);\r\n      this.setState({ user: user, selectedBranch: userBranch, hierarchy: selectedHierarchy?.code || \"\" });\r\n    });\r\n  }\r\n  render() {\r\n    const isDepartment = this.state.user.hierarchy?.startsWith(\"Dept_\") ? true : false;\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col xl={12}>\r\n            <Form onSubmit={this.handleSubmit} onChange={this.handleChange}>\r\n              <Card className=\"shadow\">\r\n                <CardHeader>\r\n                  <p className=\"h5\">AD Users</p>\r\n                </CardHeader>\r\n                <CardBody>\r\n                  <Row>\r\n                    <Col xs=\"4\">\r\n                      <FormGroup>\r\n                        <Label htmlFor=\"isActive\">\r\n                          <strong>Status</strong>\r\n                        </Label>\r\n                        <Input\r\n                          className=\"rounded\"\r\n                          type=\"select\"\r\n                          id=\"isActive\"\r\n                          name=\"isActive\"\r\n                          onChange={this.handleChange}\r\n                          placeholder=\"Active\"\r\n                          value={this.state.user.isActive ? this.state.user.isActive : false}\r\n                        >\r\n                          <option value={true}>Active</option>\r\n                          <option value={false}>Inactive</option>\r\n                        </Input>\r\n                      </FormGroup>\r\n                    </Col>\r\n                    <Col xs=\"4\">\r\n                      <FormGroup>\r\n                        <Label htmlFor=\"email\">Email</Label>\r\n                        <Input\r\n                          className=\"rounded\"\r\n                          type=\"text\"\r\n                          id=\"email\"\r\n                          name=\"email\"\r\n                          placeholder=\"Email\"\r\n                          value={this.state.user.email ? this.state.user.email : \"\"}\r\n                          readOnly\r\n                        />\r\n                      </FormGroup>\r\n                    </Col>\r\n                    <Col xs=\"4\">\r\n                      <FormGroup>\r\n                        <Label htmlFor=\"phoneNumber\">Phone Number</Label>\r\n                        <Input\r\n                          className=\"rounded\"\r\n                          type=\"text\"\r\n                          id=\"phoneNumber\"\r\n                          name=\"phoneNumber\"\r\n                          placeholder=\"Phone Number\"\r\n                          value={this.state.user.phoneNumber ? this.state.user.phoneNumber : \"\"}\r\n                          readOnly\r\n                        />\r\n                      </FormGroup>\r\n                    </Col>\r\n                    <Col xs=\"4\">\r\n                      <FormGroup>\r\n                        <Label htmlFor=\"username\">Username</Label>\r\n                        <Input\r\n                          className=\"rounded\"\r\n                          type=\"text\"\r\n                          id=\"username\"\r\n                          name=\"username\"\r\n                          placeholder=\"User Name\"\r\n                          value={this.state.user.username ? this.state.user.username : \"\"}\r\n                          readOnly\r\n                        />\r\n                      </FormGroup>\r\n                    </Col>\r\n                    <Col xs=\"4\">\r\n                      <FormGroup>\r\n                        <Label htmlFor=\"name\">Name</Label>\r\n                        <Input\r\n                          className=\"rounded\"\r\n                          type=\"text\"\r\n                          id=\"name\"\r\n                          name=\"name\"\r\n                          placeholder=\"Name\"\r\n                          value={this.state.user.name ? this.state.user.name : \"\"}\r\n                          readOnly\r\n                        />\r\n                      </FormGroup>\r\n                    </Col>\r\n                    <Col xs=\"4\">\r\n                      <FormGroup>\r\n                        <Label htmlFor=\"roleId\">Role</Label>\r\n                        <Input\r\n                          className=\"rounded\"\r\n                          type=\"select\"\r\n                          id=\"roleId\"\r\n                          name=\"roleId\"\r\n                          required\r\n                          value={this.state.user.roleId}\r\n                        >\r\n                          <option value=\"\">Select Role for the user</option>\r\n                          {this.props.roles?.map((role, index) => (\r\n                            <option key={index} value={role.id}>\r\n                              {role.name}\r\n                            </option>\r\n                          ))}\r\n                        </Input>\r\n                      </FormGroup>\r\n                    </Col>\r\n                    <Col xs=\"4\">\r\n                      <CustomSelect\r\n                        required\r\n                        label=\"Security Hierarchy\"\r\n                        name=\"hierarchy\"\r\n                        options={this.props.allFields.hierarchy}\r\n                        onChange={this.handleChange}\r\n                        object={this.state.user}\r\n                        value={this.state.hierarchy}\r\n                        isEdit={true}\r\n                      />\r\n                    </Col>\r\n                    {/* {isDepartment &&\r\n                      <Col xs=\"4\">\r\n                        <CustomSelect\r\n                          onChange={this.handleChange}\r\n                          label=\"Department Branches\"\r\n                          name=\"departmentId\"\r\n                          object={this.state.user}\r\n                          options={this.state?.branches}\r\n                          isEdit={true}\r\n                          value={this.state?.selectedBranch}\r\n                        />\r\n                      </Col>} */}\r\n                    {/* <Col xs=\"4\">\r\n                      <FormGroup>\r\n                        <Label htmlFor=\"departmentId\">Department</Label>\r\n                        <Input\r\n                          className=\"rounded\"\r\n                          type=\"select\"\r\n                          id=\"departmentId\"\r\n                          name=\"departmentId\"\r\n                          value={this.state.user.departmentId}\r\n                        >\r\n                          <option value=\"\">Select Department</option>\r\n                          {this.props.departments?.map((department, index) => {\r\n                            let padding = \"- \";\r\n                            let level = department.level;\r\n                            while (level-- > 0) {\r\n                              padding += \"--> \";\r\n                            }\r\n                            return (\r\n                              <option key={index} value={department.id}>\r\n                                {padding + department.name}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </Input>\r\n                      </FormGroup>\r\n                    </Col> */}\r\n                    <Col xs=\"4\">\r\n                      <FormGroup>\r\n                        <Label htmlFor=\"loginAttempts\">Login Attempts</Label>\r\n                        <Input\r\n                          className=\"rounded\"\r\n                          type=\"select\"\r\n                          id=\"loginAttempts\"\r\n                          name=\"loginAttempts\"\r\n                          required\r\n                          value={this.state.user.loginAttempts}\r\n                        >\r\n                          <option value={3}>3</option>\r\n                          <option value={5}>5</option>\r\n                          <option value={10}>10</option>\r\n                        </Input>\r\n                      </FormGroup>\r\n                    </Col>\r\n                  </Row>\r\n                </CardBody>\r\n                <CardFooter className=\"d-flex justify-content-end\">\r\n                  <Button onClick={() => window.history.back()} type=\"button\" color=\"danger\" className=\"mx-2 text-white\">\r\n                    Cancel\r\n                  </Button>\r\n                  <Button type=\"submit\" color=\"primary\">\r\n                    Update\r\n                  </Button>\r\n                </CardFooter>\r\n              </Card>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({\r\n  users: state.allFields.users,\r\n  roles: state.allFields.roles,\r\n  branches: state.allFields.branches,\r\n  departments: state.allFields.departments,\r\n  allFields: state.allFields,\r\n}))(EditUser);\r\n","import { server } from \"admin/config/server\";\r\n\r\nconst url = \"/ad-users\";\r\n\r\n/**\r\n *\r\n * @param {Function} callback\r\n */\r\nfunction getUsers(callback) {\r\n  server\r\n    .get(`${url}`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getLdapUsers(callback) {\r\n  server\r\n    .get(`${url}/ldap`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getUser(id, callback) {\r\n  server\r\n    .get(`${url}/${id}`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction addUser(user, callback) {\r\n  server\r\n    .post(`${url}`, JSON.stringify(user))\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction editUser(user, callback) {\r\n  server\r\n    .put(`${url}/${user.id}`, JSON.stringify(user))\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction deleteUser(id, callback) {\r\n  server\r\n    .delete(`${url}/${id}`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nexport { getUsers, getLdapUsers, getUser, addUser, editUser, deleteUser };\r\n"],"names":["url","urlDis","addBranch","body","callback","server","post","then","res","data","catch","err","console","log","getBranches","get","editBranch","put","getBranch","id","getBranchLogo","deleteBranch","delete","getDistricts","EditUser","Component","constructor","arguments","state","user","roles","selectedBranch","security_hierarchy","branches","departments","departmentId","handleBranchChange","value","this","setState","handleChange","event","name","type","target","branchId","startsWith","match","checked","notes","handleSubmit","e","preventDefault","formData","hierarchy","editUser","json","props","history","push","metaRoutes","adminLdapUsers","toast","success","componentDidMount","qs","query","location","search","A","getId","Number","getUser","_this$state$branches","_this$props$allFields","_this$props$allFields2","userBranch","find","b","selectedHierarchy","allFields","h","code","render","_this$state$user$hier","_this$props$roles","_jsx","className","children","Row","Col","xl","Form","onSubmit","onChange","_jsxs","Card","CardHeader","CardBody","xs","FormGroup","Label","htmlFor","Input","placeholder","isActive","email","readOnly","phoneNumber","username","required","roleId","map","role","index","CustomSelect","label","options","object","isEdit","loginAttempts","CardFooter","Button","onClick","window","back","color","connect","users","getUsers","getLdapUsers","addUser","JSON","stringify","deleteUser"],"sourceRoot":""}