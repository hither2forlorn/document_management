{"version":3,"file":"static/js/4521.c961b6d3.chunk.js","mappings":"0SAOA,MAmFA,EAnFkBA,KAChB,MAAOC,EAAgBC,IAAqBC,EAAAA,EAAAA,UAAS,CAAC,IAC/CC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,MAE7CG,EAAgBC,IACpB,MAAMC,EAAOD,EAAEE,OAAOD,KAChBE,EAAQH,EAAEE,OAAOC,MACvB,IAAIC,EAAYV,EAChBU,EAAUH,GAAQE,EAClBE,QAAQC,IAAIF,GACZT,EAAkB,IAAKS,GAAY,EAyBrC,OACEG,EAAAA,EAAAA,MAACC,EAAAA,EAAI,CAACC,UAAU,SAASC,MAAO,CAAEC,MAAO,OAAQC,SAAA,EAC/CL,EAAAA,EAAAA,MAACM,EAAAA,EAAU,CAAAD,SAAA,EACTE,EAAAA,EAAAA,KAAA,KAAGL,UAAU,iBAAiB,gBAGhCF,EAAAA,EAAAA,MAACQ,EAAAA,EAAI,CAACC,SAzBYhB,IACpBA,EAAEiB,iBACFZ,QAAQC,IAAIZ,GACZ,MAAMwB,EAAO,IAAIC,SACjBD,EAAKE,OAAO,OAAQ1B,EAAe2B,MACnCH,EAAKE,OAAO,WAAY1B,EAAe4B,UACvCJ,EAAKE,OAAO,OAAQvB,GCEF0B,EAACL,EAAMM,KAC3BnB,QAAQC,IAAIY,GACZO,EAAAA,GACGC,KAAK,aAAcR,GACnBS,MAAMC,GACEA,EAAIV,OAEZS,MAAMT,IACLM,EAAS,KAAMN,EAAK,IAErBW,OAAOC,IACNN,EAASM,EAAI,GACb,EDbFP,CAAcL,GAAM,CAACY,EAAKZ,KACpBY,IACAZ,EAAKa,SACPpC,EAAkB,CAAC,GACnBG,EAAiB,MACjBkC,EAAAA,GAAMD,QAAQ,gBAEdC,EAAAA,GAAMC,MAAM,UACd,GACA,EAS6BrB,SAAA,EAC3BL,EAAAA,EAAAA,MAAC2B,EAAAA,EAAQ,CAAAtB,SAAA,EACPL,EAAAA,EAAAA,MAAC4B,EAAAA,EAAS,CAAAvB,SAAA,EACRE,EAAAA,EAAAA,KAACsB,EAAAA,EAAK,CAAAxB,SAAC,YACPL,EAAAA,EAAAA,MAAC8B,EAAAA,EAAK,CACJ5B,UAAU,UACV6B,KAAK,SACLrC,KAAK,WACLsC,UAAQ,EAERC,SAAUzC,EAAaa,SAAA,EAEvBE,EAAAA,EAAAA,KAAA,UAAQX,MAAM,GAAES,SAAC,oBACjBE,EAAAA,EAAAA,KAAA,UAAQX,MAAM,IAAGS,SAAC,SAClBE,EAAAA,EAAAA,KAAA,UAAQX,MAAM,IAAGS,SAAC,cAGtBL,EAAAA,EAAAA,MAAC4B,EAAAA,EAAS,CAAAvB,SAAA,EACRE,EAAAA,EAAAA,KAACsB,EAAAA,EAAK,CAAAxB,SAAC,UACPE,EAAAA,EAAAA,KAACuB,EAAAA,EAAK,CACJ5B,UAAU,UACV6B,KAAK,OACLrC,KAAK,OACLsC,UAAQ,EAERC,SAAUzC,QAGdQ,EAAAA,EAAAA,MAAC4B,EAAAA,EAAS,CAAAvB,SAAA,EACRE,EAAAA,EAAAA,KAACsB,EAAAA,EAAK,CAAAxB,SAAC,WACPE,EAAAA,EAAAA,KAACuB,EAAAA,EAAK,CAAC5B,UAAU,UAAU6B,KAAK,OAAOC,UAAQ,EAACtC,KAAK,OAAOwC,OAAO,kBAAkBD,SA3DxExC,IACrBF,EAAiBE,EAAEE,OAAOwC,MAAM,GAAG,WA6D/BnC,EAAAA,EAAAA,MAACoC,EAAAA,EAAU,CAAClC,UAAU,6BAA4BG,SAAA,EAChDE,EAAAA,EAAAA,KAAC8B,EAAAA,EAAY,CAACC,QAASA,IAAMC,OAAOC,QAAQC,UAC5ClC,EAAAA,EAAAA,KAACmC,EAAAA,EAAY,YAGZ,C","sources":["admin/views/Watermark/index.js","admin/views/Watermark/api.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Form, FormGroup, Label, Card, CardHeader, Button, Input, CardBody, CardFooter } from \"reactstrap\";\r\nimport { getWatermark, postWatermark } from \"./api\";\r\nimport { toast } from \"react-toastify\";\r\nimport CustomCancel from \"admin/components/CustomCancel\";\r\nimport CustomSubmit from \"admin/components/CustomSubmit\";\r\n\r\nconst Watermark = () => {\r\n  const [watermarkValue, setWatermarkValue] = useState({});\r\n  const [selectedFiles, setSelectedFiles] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    let watermark = watermarkValue;\r\n    watermark[name] = value;\r\n    console.log(watermark);\r\n    setWatermarkValue({ ...watermark });\r\n  };\r\n  const uploadHandler = (e) => {\r\n    setSelectedFiles(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(watermarkValue);\r\n    const data = new FormData();\r\n    data.append(\"text\", watermarkValue.text);\r\n    data.append(\"isActive\", watermarkValue.isActive);\r\n    data.append(\"file\", selectedFiles);\r\n    postWatermark(data, (err, data) => {\r\n      if (err) return;\r\n      if (data.success) {\r\n        setWatermarkValue({});\r\n        setSelectedFiles(null);\r\n        toast.success(\"Successful!\");\r\n      } else {\r\n        toast.error(\"Error!\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"shadow\" style={{ width: \"40%\" }}>\r\n      <CardHeader>\r\n        <i className=\"fa fa-adjust\" />\r\n        Watermark\r\n      </CardHeader>\r\n      <Form onSubmit={handleSubmit}>\r\n        <CardBody>\r\n          <FormGroup>\r\n            <Label>Active</Label>\r\n            <Input\r\n              className=\"rounded\"\r\n              type=\"select\"\r\n              name=\"isActive\"\r\n              required\r\n              // value={watermarkValue && watermarkValue.isActive}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"\">--SELECT ONE--</option>\r\n              <option value=\"1\">Yes</option>\r\n              <option value=\"0\">No</option>\r\n            </Input>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Text</Label>\r\n            <Input\r\n              className=\"rounded\"\r\n              type=\"text\"\r\n              name=\"text\"\r\n              required\r\n              // value={watermarkValue && watermarkValue.text}\r\n              onChange={handleChange}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Image</Label>\r\n            <Input className=\"rounded\" type=\"file\" required name=\"file\" accept=\".jpg,.jpeg,.png\" onChange={uploadHandler} />\r\n          </FormGroup>\r\n        </CardBody>\r\n        <CardFooter className=\"d-flex justify-content-end\">\r\n          <CustomCancel onClick={() => window.history.back()} />\r\n          <CustomSubmit />\r\n        </CardFooter>\r\n      </Form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Watermark;\r\n","import { server } from \"admin/config/server\";\r\n\r\nconst getWatermark = (callback) => {\r\n  server\r\n    .get(\"/watermark\")\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n\r\nconst setWatermark = (data, callback) => {\r\n  console.log(data);\r\n  server\r\n    .put(\"/watermark\", data)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n\r\nconst postWatermark = (data, callback) => {\r\n  console.log(data);\r\n  server\r\n    .post(\"/watermark\", data)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .then((data) => {\r\n      callback(null, data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n\r\nexport { getWatermark, setWatermark, postWatermark };\r\n"],"names":["Watermark","watermarkValue","setWatermarkValue","useState","selectedFiles","setSelectedFiles","handleChange","e","name","target","value","watermark","console","log","_jsxs","Card","className","style","width","children","CardHeader","_jsx","Form","onSubmit","preventDefault","data","FormData","append","text","isActive","postWatermark","callback","server","post","then","res","catch","err","success","toast","error","CardBody","FormGroup","Label","Input","type","required","onChange","accept","files","CardFooter","CustomCancel","onClick","window","history","back","CustomSubmit"],"sourceRoot":""}