"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[128],{10128:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var r=t(65043),i=t(62582),n=t(75304),o=t(38477),a=t(44864),l=t(58472),d=t(58441),c=t(18039),h=t(97508),u=t(80231),m=t(84134),p=t(28096),b=t(10577),x=t(11594),j=t(70579);class g extends r.Component{constructor(){super(...arguments),this.state={userList:[],roles:[],branches:[],userStatuses:[],departments:[],searchData:{userType:"customer"}},this.updateData=()=>{(0,m.lo)(this.state.searchData,((e,s)=>{console.log(s),e||this.setState({userList:s})}))}}componentDidMount(){this.updateData(),this.setState(this.props.allFields)}deleteUser(e){(0,m.hG)(e,((e,s)=>{e||(s.success?(p.oR.success("Customer deleted successfully."),this.updateData()):p.oR.error(s.message))}))}render(){const e=this.props.permissions||{};return(0,j.jsxs)(n.A,{className:"shadow",children:[(0,j.jsxs)(o.A,{children:[(0,j.jsx)("i",{className:"fa fa-user"}),(0,j.jsx)("strong",{children:"Customer Users"}),e.customerUser===c.Xd||e.customerUser===c.n7?(0,j.jsx)(i.Link,{className:"float-right btn btn-sm btn-success",to:u.A.adminCustomerAdd,children:"Add Customer"}):null]}),(0,j.jsx)(a.A,{children:(0,j.jsxs)(l.A,{responsive:!0,bordered:!0,children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{onClick:()=>{this.sortBy("identityNo")},children:"Identity No"}),(0,j.jsx)("th",{onClick:()=>{this.sortBy("name")},children:"Name"}),(0,j.jsx)("th",{onClick:()=>{this.sortBy("email")},children:"Email"}),(0,j.jsx)("th",{onClick:()=>{this.sortBy("phoneNumber")},children:"Phone"}),(0,j.jsx)("th",{style:{width:"150px"},children:"Actions"})]})}),(0,j.jsx)("tbody",{children:this.state.userList.map(((s,t)=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:s.identityNo}),(0,j.jsx)("td",{children:(0,j.jsx)(i.Link,{to:u.A.adminCustomerView+"?i="+d.A.getHash(s.id),children:s.name})}),(0,j.jsx)("td",{children:s.email}),(0,j.jsx)("td",{children:s.phoneNumber}),(0,j.jsxs)("td",{children:[e.customerUser===c.Xd||e.customerUser===c.n7?(0,j.jsx)(x.A,{to:u.A.adminCustomerEdit+"?i="+d.A.getHash(s.id)}):null,e.customerUser===c.n7?(0,j.jsx)(b.A,{onClick:()=>this.deleteUser(s.id)}):null]})]},t)))})]})})]})}}const v=(0,h.Ng)((e=>({allFields:e.allFields})))(g)},58472:(e,s,t)=>{t.d(s,{A:()=>p});var r=t(58168),i=t(98587),n=t(65043),o=t(65173),a=t.n(o),l=t(98139),d=t.n(l),c=t(62373),h=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],u={className:a().string,cssModule:a().object,size:a().string,bordered:a().bool,borderless:a().bool,striped:a().bool,dark:a().bool,hover:a().bool,responsive:a().oneOfType([a().bool,a().string]),tag:c.Wx,responsiveTag:c.Wx,innerRef:a().oneOfType([a().func,a().string,a().object])},m=function(e){var s=e.className,t=e.cssModule,o=e.size,a=e.bordered,l=e.borderless,u=e.striped,m=e.dark,p=e.hover,b=e.responsive,x=e.tag,j=e.responsiveTag,g=e.innerRef,v=(0,i.A)(e,h),f=(0,c.qO)(d()(s,"table",!!o&&"table-"+o,!!a&&"table-bordered",!!l&&"table-borderless",!!u&&"table-striped",!!m&&"table-dark",!!p&&"table-hover"),t),A=n.createElement(x,(0,r.A)({},v,{ref:g,className:f}));if(b){var k=(0,c.qO)(!0===b?"table-responsive":"table-responsive-"+b,t);return n.createElement(j,{className:k},A)}return A};m.propTypes=u,m.defaultProps={tag:"table",responsiveTag:"div"};const p=m}}]);
//# sourceMappingURL=128.bc843654.chunk.js.map