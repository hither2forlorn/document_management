(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[7747],{80128:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>F});i(86453);var a=i(80231),l=i(65043),t=i(97508),s=i(37519),o=i(28096),d=i(58441),c=i(83565),r=i(77746),h=i(75304),u=i(38477),x=i(94576),m=i(44864),j=i(25852),v=i(13718),p=i(45413),A=i(8586),g=i(64412),b=i(87382),f=i(83407),y=i(15421),C=i(10810),N=i(63122),S=i(88202),T=i(70579);const w=e=>{const[n,i]=(0,l.useState)([{conditionIn:"",condition:"",documentConditionsField:""}]),[a,t]=(0,l.useState)(!1),[s,o]=(0,l.useState)([{}]),d=(a,l)=>{const{name:s,value:d}=a.target;"condition"===s&&"3"===d?(t(!0),o(S.DocumentConditionsField)):"condition"===s&&"4"===d?(console.log(S.AutoCompleteField),t(!0),o(S.AutoCompleteField)):t(!1);const c=[...n];c[l][s]=d,i(c);const r=JSON.stringify(n);e.condition({condition:r},e.i)},c=()=>{i([...n,{conditionIn:"",condition:"",documentConditionsField:""}]);const a=JSON.stringify(n);e.condition({condition:a},e.i)};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(j.A,{children:[(0,T.jsx)(v.A,{md:4,children:(0,T.jsx)(A.A,{for:"dataTypeSelect",children:"Use Condition In(For Index Name)"})}),(0,T.jsx)(v.A,{md:4,children:(0,T.jsx)(A.A,{for:"dataTypeSelect",children:"Condition"})}),a?(0,T.jsx)(v.A,{md:4,children:(0,T.jsx)(A.A,{for:"dataTypeSelect",children:"Result In"})}):""]}),n.map(((l,t)=>(0,T.jsxs)(j.A,{children:[(0,T.jsx)(v.A,{md:4,children:(0,T.jsx)(p.A,{children:(0,T.jsxs)(g.A,{type:"select",name:"conditionIn",onChange:e=>d(e,t),required:!0,children:[(0,T.jsx)("option",{value:"",children:"--please Select--"}),null===e||void 0===e?void 0:e.data.map((e=>(0,T.jsx)("option",{value:e.label,children:e.label})))]})})}),(0,T.jsx)(v.A,{md:4,children:(0,T.jsx)(p.A,{children:(0,T.jsx)(g.A,{type:"select",name:"condition",onChange:e=>d(e,t),required:!0,children:S.conditionsType&&S.conditionsType.map(((e,n)=>(0,T.jsx)("option",{value:e.value,children:e.name})))})})}),a?(0,T.jsx)(v.A,{md:4,children:(0,T.jsx)(p.A,{children:(0,T.jsx)(g.A,{type:"select",name:"documentConditionsField",onChange:e=>d(e,t),required:!0,children:s&&s.map(((e,n)=>(0,T.jsx)("option",{value:e.value,children:e.name})))})})}):"",n.length-1===t&&n.length<20&&(0,T.jsx)(v.A,{md:1,children:(0,T.jsx)(p.A,{children:(0,T.jsx)(b.A,{onClick:c,className:"btn btn-brand btn-info  mr-1",children:(0,T.jsx)("i",{className:"fa fa-plus text-white","aria-hidden":"true"})})})}),1!==n.length&&(0,T.jsx)(v.A,{md:1,children:(0,T.jsx)(p.A,{children:(0,T.jsx)(b.A,{onClick:()=>(e=>{const a=[...n];a.splice(e,1),i(a)})(t),className:"btn btn-brand btn-danger mr-1",children:(0,T.jsx)("i",{className:"fa fa-minus text-white","aria-hidden":"true"})})})})]})))]})},F=(0,t.Ng)((e=>({allFields:e.allFields,userProfile:e.userProfile})))((e=>{const[n,i]=(0,l.useState)(),[t,S]=(0,l.useState)([{}]),[F,k]=(0,l.useState)(!1),[R,I]=(0,l.useState)(),[D,V]=(0,l.useState)(!1),[P,q]=(0,l.useState)(),[L,O]=(0,l.useState)(),[E,_]=(0,l.useState)(),[B,M]=(0,l.useState)(!1),[U,J]=(0,l.useState)(!1),G=(e,i)=>{if(null!==e&&void 0!==e&&e.target){var a,l;let{name:s,value:o}=e.target;"autoComplete"===e.target.value?V(!0):"dataType"===e.target.name&&V(!1),"dataType"===(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.name)&&null!==e&&void 0!==e&&null!==(l=e.target)&&void 0!==l&&l.value&&q(e.target.value);const d=[...t];d[i][s]=o,d[i].docId=n,S(d)}else if(null!==e&&void 0!==e&&e.validation){const a=[...t];a[i].validation=null===e||void 0===e?void 0:e.validation,a[i].docId=n,O(e)}else if(null!==e&&void 0!==e&&e.condition){const a=[...t];a[i].condition=null===e||void 0===e?void 0:e.condition,a[i].docId=n,_(e)}},H=()=>{S([...t,{}])};return(0,l.useEffect)((()=>{const n=c.parse(e.location.search),l=d.A.getId(n["?i"]);I(n.index),l||(e.history.push(a.A.adminIndexType),o.oR.warning("Please select document type!!")),i(l)}),[e.location.search]),(0,T.jsxs)(h.A,{className:"shadow",children:[(0,T.jsxs)(u.A,{children:[(0,T.jsxs)("h5",{children:["Add new index type ",(0,T.jsx)("span",{className:"badge badge-info font-weight-bold text-white",children:R})," "]})," "]}),(0,T.jsxs)(x.A,{onSubmit:n=>{n.preventDefault();const i=t;(0,r.UV)(i,((n,i)=>{n?o.oR.error("Error!"):i.success&&(o.oR.success(i.message),k(!0),e.history.push(a.A.adminIndexType),e.dispatch((0,s.Ni)()))}))},children:[(0,T.jsx)(m.A,{children:t.map(((e,i)=>(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(j.A,{children:[(0,T.jsx)(v.A,{md:4,children:(0,T.jsxs)(p.A,{children:[(0,T.jsx)(A.A,{for:"dataTypeSelect",children:"Data Type"}),(0,T.jsxs)(g.A,{type:"select",name:"dataType",elementId:n,onChange:e=>G(e,i),children:[(0,T.jsx)("option",{value:"",children:"--NONE--"}),(0,T.jsx)("option",{value:"string",children:"String"}),(0,T.jsx)("option",{value:"number",children:"Number"}),(0,T.jsx)("option",{value:"alphaNum",children:"Alpha Numeric"}),(0,T.jsx)("option",{value:"date",children:"Date"}),(0,T.jsx)("option",{value:"autoComplete",disabled:!0,children:"Auto Complete"}),(0,T.jsx)("option",{value:"province",children:"Province"}),(0,T.jsx)("option",{value:"district",children:"District"}),(0,T.jsx)("option",{value:"tag",children:"Tag"}),(0,T.jsx)("option",{value:"nepaliDate",children:"NepaliDate"}),(0,T.jsx)("option",{value:"dynamicCombox",disabled:!0,children:"Static Combox"}),(0,T.jsx)("option",{value:"branch",children:"Branch"})]})]})}),(0,T.jsx)(v.A,{md:D?3:4,children:(0,T.jsxs)(p.A,{children:[(0,T.jsx)(A.A,{children:"Index Name"}),(0,T.jsx)(g.A,{name:"label",placeholder:"Enter New Index Type",value:e.label,onChange:e=>G(e,i)})]})}),D?(0,T.jsx)(v.A,{md:3,children:(0,T.jsxs)(p.A,{children:[(0,T.jsx)(A.A,{children:"API"}),(0,T.jsx)(g.A,{name:"api",placeholder:"Enter API Url",value:e.api,onChange:e=>G(e,i)})]})}):"",(0,T.jsxs)(v.A,{md:D?2:4,children:[(0,T.jsxs)(p.A,{style:{display:"flex",justifyContent:"flex-end",position:"relative",top:"3px"},children:[(0,T.jsx)(g.A,{type:"checkbox",value:!0,name:"isRequired",onChange:e=>G(e,i)}),(0,T.jsx)("label",{htmlFor:"Required",style:{marginRight:20},children:"Required field"})]}),(0,y.includeThisFeature)(y.dms_features.UPLOAD_ATTACHMENT_MODAL)&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(p.A,{style:{display:"flex",justifyContent:"flex-end",position:"relative",top:"3px"},children:[(0,T.jsx)(g.A,{type:"checkbox",name:"validation",onChange:e=>((e,n)=>{const{name:i,checked:a}=e.target;if("validation"===i&&1==a){const e=[...t];e[n][i]=a,S(e),M(!0)}else{const e=[...t];e[n][i]=a,S(e),M(!1)}})(e,i)}),(0,T.jsx)("label",{htmlFor:"Required",style:{marginRight:20},children:"Validation Rule"})]}),(0,T.jsxs)(p.A,{style:{display:"flex",justifyContent:"flex-end",position:"relative",top:"3px"},children:[(0,T.jsx)(g.A,{type:"checkbox",name:"condition",onChange:e=>((e,n)=>{const{name:i,checked:a}=e.target;if("condition"===i&&1==a){const e=[...t];e[n][i]=a,S(e),J(!0)}else{const e=[...t];e[n][i]=a,S(e),J(!1)}})(e,i)}),(0,T.jsx)("label",{htmlFor:"Required",style:{marginRight:20},children:"Conditional Rule"})]}),(0,T.jsxs)(p.A,{style:{display:"flex",justifyContent:"flex-end",position:"relative",top:"3px"},children:[(0,T.jsx)(g.A,{type:"checkbox",value:!0,checked:!0,name:"isShownInAttachment",onChange:e=>G(e,i)}),(0,T.jsx)("label",{htmlFor:"showInAttachment",style:{marginRight:20},children:"Show in Table"})]})]})]})]}),(0,T.jsxs)(j.A,{children:[e.condition&&e.label?(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(v.A,{md:12,children:(0,T.jsx)(w,{condition:G,data:t,i:i})})}):"",(0,y.excludeThisVendor)([y.banks.rbb.name])&&(e.validation?(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(N.A,{validationRules:P,validation:G,i:i})}):""),(0,T.jsxs)(v.A,{md:12,children:[(0,T.jsx)("div",{className:"dropdown-divider"}),(0,T.jsx)(g.A,{type:"hidden",name:"docId",value:n}),(0,T.jsxs)("div",{className:"d-flex justify-content-end",children:[t.length-1===i&&(0,T.jsx)(p.A,{children:(0,T.jsx)(b.A,{onClick:H,className:"btn btn-brand btn-info  mr-1",children:(0,T.jsx)("i",{className:"fa fa-plus text-white","aria-hidden":"true"})})}),1!==t.length&&(0,T.jsx)(p.A,{children:(0,T.jsx)(b.A,{onClick:()=>(e=>{const n=[...t];n.splice(e,1),S(n)})(i),className:"btn btn-brand btn-danger mr-1",children:(0,T.jsx)("i",{className:"fa fa-minus text-white","aria-hidden":"true"})})})]})]})]})]})))}),(0,T.jsx)(f.A,{className:"d-flex justify-content-end",children:(0,T.jsx)(C.A,{isDisabled:F})})]})]})}))},63122:(e,n,i)=>{"use strict";i.d(n,{A:()=>u});var a=i(65043),l=i(13718),t=i(45413),s=i(8586),o=i(25852),d=i(64412),c=i(87382),r=i(82435),h=i(70579);const u=e=>{const[n,i]=(0,a.useState)([{service:"",serviceTwo:""}]),[u,x]=(0,a.useState)(""),[m,j]=(0,a.useState)({}),[v,p]=(0,a.useState)(""),A=()=>{switch(console.log(null===e||void 0===e?void 0:e.validationRules,"asdf"),null===e||void 0===e?void 0:e.validationRules){case"string":default:return r.ValidationRuleString&&r.ValidationRuleString.map((e=>(0,h.jsx)("option",{value:e.value,children:e.name})));case"number":console.log("This is  a number.");break;case"alphaNum":console.log("alphaNum.");break;case"date":console.log("date.");break;case"autoComplete":console.log("autoComplete.");break;case"province":console.log("province.");break;case"district":console.log("district.");break;case"tag":console.log("tag.");break;case"nepaliDate":console.log("nepaliDate.");break;case"dynamicCombox":return r.ValidationRuleComboBox&&r.ValidationRuleComboBox.map((e=>(0,h.jsx)("option",{value:e.value,children:e.name})));case"branch":console.log("branch.")}},g=(e,a)=>{const{name:l,value:t}=e.target,s=[...n];s[a][l]=t,i(s),x(":"),j(n?"{"+n.map(((e,n)=>e.service?'\n"'+e.service+'"'+u+'"'+e.serviceTwo+'"':"\n"))+"}":"")},b=()=>{i([...n,{service:"",serviceTwo:""}]),e.validation({validation:m},e.i)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"dropdown-divider"}),(0,h.jsx)(l.A,{md:4,children:(0,h.jsxs)(t.A,{children:[(0,h.jsx)(s.A,{for:"dataTypeSelect",children:"Validation Field"}),n.map(((a,s)=>(0,h.jsxs)(o.A,{children:[(0,h.jsx)(l.A,{md:5,children:(0,h.jsx)(t.A,{children:(0,h.jsxs)(d.A,{type:"select",name:"service",id:"service",onChange:e=>g(e,s),children:[(0,h.jsx)("option",{value:"",children:"Please Select Option"}),A()]})})}),(0,h.jsx)(l.A,{md:1,children:":"}),(0,h.jsx)(l.A,{md:3,children:(0,h.jsx)(t.A,{children:(0,h.jsx)(d.A,{type:"text",name:"serviceTwo",id:"serviceTwo",value:a.serviceTwo,onChange:e=>g(e,s)})})}),n.length-1===s&&n.length<20&&(0,h.jsx)(l.A,{md:1,children:(0,h.jsx)(t.A,{children:(0,h.jsx)(c.A,{onClick:b,className:"btn btn-brand btn-info  mr-1",children:(0,h.jsx)("i",{className:"fa fa-plus text-white","aria-hidden":"true"})})})}),1!==n.length&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.A,{md:1,children:(0,h.jsx)(t.A,{children:(0,h.jsx)(c.A,{style:{marginLeft:"5px"},onClick:()=>(a=>{const l=[...n];l.splice(a,1),i(l),j(n?"{"+n.map(((e,n)=>e.service?'\n"'+e.service+'"'+u+'"'+e.serviceTwo+'"':"\n"))+"}":""),e.validation({validation:m},e.i)})(s),className:"btn btn-brand btn-danger mr-1",children:(0,h.jsx)("i",{className:"fa fa-minus text-white ","aria-hidden":"true"})})})})})]})))]})}),(0,h.jsxs)(l.A,{md:8,children:[(0,h.jsx)(s.A,{children:"JSON Data"}),(0,h.jsx)("div",{className:"output",children:(0,h.jsx)("textarea",{placeholder:"{}",id:"data",name:"validation",onChange:e=>(e=>{console.log(e.target.value,"eben"),e.target.value&&p("{")})(e),rows:"8",cols:"62",disabled:!0,value:"dynamicCombox"===(null===e||void 0===e?void 0:e.validationRules)?"{option:["+n.map(((e,n)=>e.service?'\n"'+e.service+'"'+u+'"'+e.serviceTwo+'"':"\n"))+"]}":"{"+n.map(((e,n)=>e.service?'\n"'+v+e.service+'"'+u+'"'+e.serviceTwo+'"':"\n"))+"}"})})]})]})}},88202:e=>{e.exports={conditions:{LessThen:1,GreaterThen:2,Concate:3,AutoFill:4},conditionsType:[{value:null,name:"None"},{value:1,name:"Is lessThen"},{value:2,name:"Is greaterThen"},{value:3,name:"Concate"},{value:4,name:"AutoFill"}],DocumentConditionsField:[{value:null,name:"---Please Select---"},{value:1,name:"Document Name"}],AutoCompleteField:[{value:null,name:"---Please Select---"},{value:1,name:"Account Name"},{value:2,name:"CIF"}]}},82435:e=>{e.exports={ValidationRuleString:[{name:"Max Length",value:"maxlength"},{name:"Min Length",value:"minlength"},{name:"Disable Future date",value:"noFutureDate"}],ValidationRuleComboBox:[{name:"Label",value:"label"},{name:"Value",value:"value"}]}}}]);
//# sourceMappingURL=7747.03a5da36.chunk.js.map