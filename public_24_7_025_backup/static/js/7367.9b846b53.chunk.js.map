{"version":3,"file":"static/js/7367.9b846b53.chunk.js","mappings":"qQAYA,MAAMA,UAAiBC,EAAAA,UAAUC,WAAAA,GAAA,SAAAC,WAAA,KAC/BC,MAAQ,CACNC,GAAI,KACJC,KAAM,CAAC,EACPC,UAAW,GACXC,cAAe,IACf,KAmBFC,aAAgBC,IACdA,EAAEC,iBACF,MAAML,EAAOM,KAAKR,MAAME,MACxBO,EAAAA,EAAAA,IAASP,GAAM,CAACQ,EAAKC,KACfD,EACFE,EAAAA,GAAMC,MAAMH,EAAII,SAASH,KAAKI,UAGhCP,KAAKQ,MAAMC,QAAQC,KAAKC,EAAAA,EAAWC,YACnCZ,KAAKQ,MAAMK,UAASC,EAAAA,EAAAA,OACpBV,EAAAA,GAAMW,QAAQZ,EAAKI,SAAQ,GAC3B,EACF,KAEFS,aAAgBlB,IACd,MAAMmB,EAAOnB,EAAEoB,OAAOD,KACtB,IAAIE,EAAQrB,EAAEoB,OAAOC,MACrB,MAAOC,EAAMC,GAAcvB,EAAEoB,OAAOD,KAAKK,MAAM,KACzC5B,EAAOM,KAAKR,MAAME,KAKxB,GAJa,SAATuB,IACFE,GAAQI,EAAAA,EAAAA,GAAUJ,IAGP,YAATC,EAAoB,CACtB,IAAII,GAAY,EAChB9B,EAAKE,cAAgBF,EAAKE,cACtBF,EAAKE,cAAc6B,KAAKC,IAClBA,EAAGL,aAAeM,OAAON,KAC3BG,GAAY,EACZE,EAAGP,MAAQA,GAENO,KAET,GACCF,GACH9B,EAAKE,cAAcc,KAAK,CACtBkB,OAAQlC,EAAKD,GACb4B,WAAYM,OAAON,GACnBF,MAAOA,GAGb,MACE,OAAQrB,EAAEoB,OAAOE,MACf,IAAK,QAGL,IAAK,WACH1B,EAAKI,EAAEoB,OAAOD,MAAQnB,EAAEoB,OAAOW,QAE/B,MACF,QACEnC,EAAKI,EAAEoB,OAAOD,MAAQE,EAI5BnB,KAAK8B,SAAS,CACZpC,KAAM,IAAKA,IACX,CACF,CA3EFqC,iBAAAA,GACE,MAAMC,EAAKC,EAAAA,MAAYjC,KAAKQ,MAAM0B,SAASC,QACrC1C,EAAK2C,EAAAA,EAAEC,MAAML,EAAG,OACtBI,EAAAA,EAAEC,MAAMrC,KAAKQ,MAAM8B,MAAMC,OAAO9C,KAChC+C,EAAAA,EAAAA,IAAQ/C,GAAI,CAACS,EAAKuC,KACZvC,GACJF,KAAK8B,SAAS,CACZpC,KAAM+C,EAAKtC,KACXP,cAAe6C,EAAKtC,KAAKP,eACzB,KAEJ8C,EAAAA,EAAAA,KAAa,CAACxC,EAAKP,KACbO,GACJF,KAAK8B,SAAS,CAAEnC,UAAWA,GAAY,GAE3C,CA8DAgD,MAAAA,GACE,OACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAQ,CACPC,MAAM,YACNC,OA1FO,iBA2FPrD,KAAMM,KAAKR,MAAME,KACjBC,UAAWK,KAAKR,MAAMG,UACtBE,aAAcG,KAAKH,aACnBmB,aAAchB,KAAKgB,aACnBpB,cAAeI,KAAKR,MAAMI,cAC1BoD,MAAOhD,KAAKR,MAAMwD,MAClBC,QAAQ,KACJjD,KAAKQ,OAGf,EAEF,SAAe0C,EAAAA,EAAAA,KAAS1D,IAAK,CAAQ2D,UAAW3D,EAAM2D,aAAtD,CAAoE/D,E,6QCxGpE,MAwQA,GAAe8D,EAAAA,EAAAA,KAAS1D,IAAK,CAC3B2D,UAAW3D,EAAM2D,UACjBC,YAAa5D,EAAM4D,eAFrB,EAxQkB5C,IAChB,MAAMyC,IAAWzC,EAAMyC,OACjBvD,EAAOc,EAAMd,KAAOc,EAAMd,KAAO,CAAC,GACjC2D,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,CAAC,IACvCC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,KAC/CG,EAAAA,EAAAA,YAAU,KACRC,EAAAA,GACGC,IAAI,gBACJC,MAAMpB,IACLa,EAAcb,EAAKtC,KAAK,IAEzB2D,OAAO5D,IACNE,EAAAA,GAAMC,MAAM,mBAAmB,GAC/B,GACH,IAGH,MAAM0D,EAAevD,EAAMZ,cAAgBY,EAAMZ,cAAgB,GAE3DO,EAAO4D,EAAaC,QAAQtE,GAAyB,WAAZ,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMyB,SAK3C8C,GAFe9D,EAAK+D,OAA8B,IAAhB/D,EAAK+D,OAEzBD,CAACE,EAAIC,EAAWC,KAClC,OAAQF,EAAG/C,MAET,IAAK,OACH,OAAOkD,EAAAA,GAAY7C,KAAI,CAAC8C,EAAGC,KAEzB,KAAe,GAAXD,EAAEpD,OAAckD,EAAkB,GACtC,OAAIE,EAAEpD,QAAUsD,SAASL,IAGrBM,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACE/B,EAAAA,EAAAA,KAACgC,EAAAA,EAAK,CACJC,UAAU,UACVzD,KAAK,QACL3B,GAAI+E,EACJvD,KAAM,WAAakD,EAAG1E,GACtB0B,MAAOoD,EAAEpD,MACTU,SAAO,EACPiD,SAAUtE,EAAMQ,gBAElB4B,EAAAA,EAAAA,KAAA,SAAOmC,IAAKP,EAAEG,SAAa,gBAAXJ,EAAES,MAA0B,OAAST,EAAES,SACvDpC,EAAAA,EAAAA,KAAA,YAKe,iBAAZ2B,EAAES,OACPN,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACE/B,EAAAA,EAAAA,KAACgC,EAAAA,EAAK,CACJC,UAAU,UACVzD,KAAK,QACL3B,GAAI+E,EACJvD,KAAM,WAAakD,EAAG1E,GACtB0B,MAAOoD,EAAEpD,MACT2D,SAAUtE,EAAMQ,gBAElB4B,EAAAA,EAAAA,KAAA,SAAOmC,IAAKP,EAAEG,SAAEJ,EAAES,YAGpBN,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACE/B,EAAAA,EAAAA,KAACgC,EAAAA,EAAK,CACJC,UAAU,UACVzD,KAAK,QACL3B,GAAI+E,EACJvD,KAAM,WAAakD,EAAG1E,GACtB0B,MAAOoD,EAAEpD,MACT2D,SAAUtE,EAAMQ,gBAElB4B,EAAAA,EAAAA,KAAA,SAAOmC,IAAKP,EAAEG,SAAC,WAGrB,IAGJ,IAAK,UACH,OAAOM,EAAAA,GAAexD,KAAI,CAAC8C,EAAGC,IACxBU,KAAKC,UAAUZ,EAAEpD,SAAWiD,GAE5BM,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACE/B,EAAAA,EAAAA,KAACgC,EAAAA,EAAK,CACJC,UAAU,UACVzD,KAAK,QACL3B,GAAI+E,EACJvD,KAAM,WAAakD,EAAG1E,GACtB0B,MAAOoD,EAAEpD,MACTU,SAAO,EACPiD,SAAUtE,EAAMQ,gBAElB4B,EAAAA,EAAAA,KAAA,SAAOmC,IAAKP,EAAEG,SAAEJ,EAAES,YAKpBN,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACE/B,EAAAA,EAAAA,KAACgC,EAAAA,EAAK,CACJC,UAAU,UACVzD,KAAK,QACL3B,GAAI+E,EACJvD,KAAM,WAAakD,EAAG1E,GACtB0B,MAAOoD,EAAEpD,MACT2D,SAAUtE,EAAMQ,gBAElB4B,EAAAA,EAAAA,KAAA,SAAOmC,IAAKP,EAAEG,SAAEJ,EAAES,aAK5B,QACE,OAAO,KACX,GAGF,OACEpC,EAAAA,EAAAA,KAACwC,EAAAA,EAAI,CAACP,UAAU,SAAQF,UACtBD,EAAAA,EAAAA,MAACW,EAAAA,EAAI,CAAC5F,GAAIe,EAAMuC,OAAQuC,SAAU9E,EAAMX,aAAa8E,SAAA,EACnD/B,EAAAA,EAAAA,KAAC2C,EAAAA,EAAU,CAAAZ,UACT/B,EAAAA,EAAAA,KAAA,KAAGiC,UAAU,KAAIF,SAAEnE,EAAMsC,WAE3B4B,EAAAA,EAAAA,MAACc,EAAAA,EAAQ,CAAAb,SAAA,EACPD,EAAAA,EAAAA,MAACe,EAAAA,EAAS,CAAAd,SAAA,EACR/B,EAAAA,EAAAA,KAAC8C,EAAAA,EAAK,CAACC,QAAQ,OAAMhB,SAAC,UAEtB/B,EAAAA,EAAAA,KAACgC,EAAAA,EAAK,CACJC,UAAU,UACVzD,KAAK,OACLH,KAAK,OACL2E,QAAU9F,IAAM+F,EAAAA,EAAAA,GAAyB/F,EAAEoB,QAC3CzB,GAAG,OACHqG,YAAY,kBACZC,UAAQ,EACR5E,MAAOzB,EAAKuB,KAAOvB,EAAKuB,KAAO,GAC/B6D,SAAUtE,EAAMQ,mBAIpB4B,EAAAA,EAAAA,KAACoD,EAAAA,EAAG,CAAArB,UACFD,EAAAA,EAAAA,MAACuB,EAAAA,EAAG,CAAAtB,SAAA,EACF/B,EAAAA,EAAAA,KAAA,OAAKiC,UAAU,mBAAmBnF,KAAK,QAAOiF,SAAC,wEAG/CD,EAAAA,EAAAA,MAACwB,EAAAA,EAAK,CAACC,YAAU,EAACC,UAAQ,EAACC,OAAK,EAAA1B,SAAA,EAC9B/B,EAAAA,EAAAA,KAAA,SAAOiC,UAAU,eAAcF,UAC7BD,EAAAA,EAAAA,MAAA,MAAAC,SAAA,EACE/B,EAAAA,EAAAA,KAAA,MAAI0D,MAAM,MAAK3B,SAAC,gBAChB/B,EAAAA,EAAAA,KAAA,MAAI0D,MAAM,MAAMzB,UAAU,cAAaF,SAAC,iBAK5C/B,EAAAA,EAAAA,KAAA,SAAA+B,SACGnE,EAAMb,WACLa,EAAMb,UAAU8B,KAAI,CAAC0C,EAAIK,IAChB+B,OAAOC,QAAQnD,GAAY5B,KAAI,CAAAgF,EAAeC,KAAW,IAAxBC,EAAKxF,GAAMsF,EAE7CG,EAAc7C,EAAa8C,MAAMnF,GAAOA,EAAGL,YAAc8C,EAAG1E,KAMhE,GAAIkH,GAAOxC,EAAGwC,KAAiB,IAAVxF,GAAyB,IAAVA,GAAwB,GAATA,EAsDnD,OApDAyF,EAAcA,GAAe,CAAC,GAqD5BlC,EAAAA,EAAAA,MAAA,MAAAC,SAAA,EACE/B,EAAAA,EAAAA,KAAA,MAAIkE,MAAO,CAAEC,MAAO,OAAQpC,UAC1B/B,EAAAA,EAAAA,KAAC8C,EAAAA,EAAK,CAACC,QAASnB,EAAG1B,MAAOqB,EAAG6C,YAAc7C,EAAG6C,YAAc,GAAGrC,UArDrE,WACE,OAAQR,EAAGlD,MACT,IAAK,OACHkD,EAAGlD,MAAQ,2CACX,MACF,IAAK,YACHkD,EAAGlD,MAAQ,8CACX,MACF,IAAK,OACHkD,EAAGlD,MAAQ,yDACX,MACF,IAAK,SACHkD,EAAGlD,MAAQ,0DACX,MACF,IAAK,WACHkD,EAAGlD,MAAQ,2DACX,MACF,IAAK,WACHkD,EAAGlD,MAAQ,mDACX,MACF,IAAK,WACHkD,EAAGlD,MAAQ,4DACX,MACF,IAAK,aACHkD,EAAGlD,MAAQ,+DACX,MACF,IAAK,qBACHkD,EAAGlD,MAAQ,sEACX,MACF,IAAK,gBACHkD,EAAGlD,MAAQ,iEACX,MACF,IAAK,eACHkD,EAAGlD,MAAQ,gEACX,MACF,IAAK,gBACHkD,EAAGlD,MAAQ,iEACX,MACF,IAAK,WACHkD,EAAGlD,MAAQ,4DACX,MACF,IAAK,YACHkD,EAAGlD,MAAQ,0EACX,MACF,QACEkD,EAAGlD,MAAQ,GAGjB,CAMUgG,GAAY9C,EAAGlD,WAKrB2B,EAAAA,EAAAA,KAAA,MAAA+B,UACE/B,EAAAA,EAAAA,KAAA,QAAMiC,UAAU,gCAA+BF,SAC5CV,EAAYE,EAAIyC,EAAYzF,MAAOA,SAVjCuF,EAaJ,iBASrB9D,EAAAA,EAAAA,KAAA,OAAKiC,UAAU,SAEjBjC,EAAAA,EAAAA,KAACsE,EAAAA,EAAU,CAACrC,UAAU,6BAA4BF,SAC/C1B,GACCyB,EAAAA,EAAAA,MAAAyC,EAAAA,SAAA,CAAAxC,SAAA,EACE/B,EAAAA,EAAAA,KAACwE,EAAAA,EAAM,CAACC,QAASA,IAAMC,OAAO7G,QAAQ8G,OAAQnG,KAAK,SAASoG,MAAM,SAAS3C,UAAU,kBAAiBF,SAAC,YAGvG/B,EAAAA,EAAAA,KAACwE,EAAAA,EAAM,CAAChG,KAAK,SAASoG,MAAM,UAAS7C,SAAC,eAKxCD,EAAAA,EAAAA,MAAAyC,EAAAA,SAAA,CAAAxC,SAAA,EACE/B,EAAAA,EAAAA,KAAC6E,EAAAA,EAAY,CAACJ,QAASA,IAAMC,OAAO7G,QAAQ8G,UAC5C3E,EAAAA,EAAAA,KAAC8E,EAAAA,EAAY,CAACC,WAAYnH,EAAMmH,sBAKnC,G,+FC7QX,MAAMC,EAAM,SAEZ,SAASC,EAASC,GAChBnE,EAAAA,GACGC,IAAI,GAAGgE,KACP/D,MAAK,SAAUpB,GACdqF,EAAS,KAAMrF,EAAKtC,KACtB,IACC2D,OAAM,SAAU5D,GACf4H,EAAS5H,EACX,GACJ,CAEA,SAASsC,EAAQ/C,EAAIqI,GACnBnE,EAAAA,GACGC,IAAI,GAAGgE,KAAOnI,KACdoE,MAAK,SAAUpB,GACdqF,EAAS,KAAMrF,EAAKtC,KACtB,IACC2D,OAAM,SAAU5D,GACf4H,EAAS5H,EACX,GACJ,CAEA,SAASD,EAASP,EAAMoI,GACtBnE,EAAAA,GACGoE,IAAI,GAAGH,KAAOlI,EAAKD,KAAMC,GACzBmE,MAAK,SAAUpB,GACdqF,EAAS,KAAMrF,EAAKtC,KACtB,IACC2D,OAAM,SAAU5D,GACf4H,EAAS5H,EACX,GACJ,CAEA,SAAS8H,EAAQtI,EAAMoI,GACrBnE,EAAAA,GACGsE,KAAK,GAAGL,IAAOlI,GACfmE,MAAK,SAAUpB,GACdqF,EAAS,KAAMrF,EAAKtC,KACtB,IACC2D,OAAM,SAAU5D,GACf4H,EAAS5H,EACX,GACJ,CAEA,SAASwC,EAAaoF,GACpBnE,EAAAA,GACGC,IAAI,GAAGgE,WACP/D,MAAK,SAAUpB,GACdqF,EAAS,KAAMrF,EAAKtC,KACtB,IACC2D,OAAM,SAAU5D,GACf4H,EAAS5H,EACX,GACJ,CAEA,SAASgI,EAAWzI,EAAIqI,GACtBnE,EAAAA,GACGwE,OAAO,GAAGP,KAAOnI,KACjBoE,MAAK,SAAUpB,GACdqF,EAAS,KAAMrF,EAAKtC,KACtB,IACC2D,OAAM,SAAU5D,GACf4H,EAAS5H,EACX,GACJ,C,oFClEA,MAAMoE,EAAc,CAClB,CACEnD,MAAOiH,EAAAA,GACPpD,MAAO,gBAET,CACE7D,MAAOkH,EAAAA,GACPrD,MAAO,QAET,CACE7D,MAAOmH,EAAAA,GACPtD,MAAO,QAET,CACE7D,MAAOoH,EAAAA,GACPvD,MAAO,kBAILC,EAAiB,CACrB,CACE9D,OAAO,EACP6D,MAAO,MAET,CACE7D,OAAO,EACP6D,MAAO,O,mCC5BJ,MAAMa,EAA4B2C,IACnC,MAAMC,KAAKD,EAAIrH,SAAQqH,EAAIrH,MAAQ,GAAE,C,kBCD5B,SAASI,EAAUmH,GAChC,OAAOA,EAAKC,OAAO,GAAGC,cAAgBF,EAAKG,MAAM,EACnD,C,2ICAIC,EAAY,CAAC,YAAa,YAAa,OAAQ,WAAY,aAAc,UAAW,OAAQ,QAAS,aAAc,MAAO,gBAAiB,YAK3IC,EAAY,CACdlE,UAAWmE,IAAAA,OACXC,UAAWD,IAAAA,OACXE,KAAMF,IAAAA,OACN5C,SAAU4C,IAAAA,KACVG,WAAYH,IAAAA,KACZI,QAASJ,IAAAA,KACTK,KAAML,IAAAA,KACN3C,MAAO2C,IAAAA,KACP7C,WAAY6C,IAAAA,UAAoB,CAACA,IAAAA,KAAgBA,IAAAA,SACjDM,IAAKC,EAAAA,GACLC,cAAeD,EAAAA,GACfE,SAAUT,IAAAA,UAAoB,CAACA,IAAAA,KAAgBA,IAAAA,OAAkBA,IAAAA,UAO/D9C,EAAQ,SAAe1F,GACzB,IAAIqE,EAAYrE,EAAMqE,UAClBoE,EAAYzI,EAAMyI,UAClBC,EAAO1I,EAAM0I,KACb9C,EAAW5F,EAAM4F,SACjB+C,EAAa3I,EAAM2I,WACnBC,EAAU5I,EAAM4I,QAChBC,EAAO7I,EAAM6I,KACbhD,EAAQ7F,EAAM6F,MACdF,EAAa3F,EAAM2F,WACnBuD,EAAMlJ,EAAM8I,IACZK,EAAgBnJ,EAAMgJ,cACtBC,EAAWjJ,EAAMiJ,SACjBG,GAAaC,EAAAA,EAAAA,GAA8BrJ,EAAOsI,GAElDgB,GAAUC,EAAAA,EAAAA,IAAgBC,IAAWnF,EAAW,UAASqE,GAAO,SAAWA,IAAc9C,GAAW,mBAA0B+C,GAAa,qBAA4BC,GAAU,kBAAyBC,GAAO,eAAsBhD,GAAQ,eAAwB4C,GACvQgB,EAAqBC,EAAAA,cAAoBR,GAAKS,EAAAA,EAAAA,GAAS,CAAC,EAAGP,EAAY,CACzEQ,IAAKX,EACL5E,UAAWiF,KAGb,GAAI3D,EAAY,CACd,IAAIkE,GAAsBN,EAAAA,EAAAA,KAA+B,IAAf5D,EAAsB,mBAAqB,oBAAsBA,EAAY8C,GACvH,OAAoBiB,EAAAA,cAAoBP,EAAe,CACrD9E,UAAWwF,GACVJ,EACL,CAEA,OAAOA,CACT,EAEA/D,EAAM6C,UAAYA,EAClB7C,EAAMoE,aArCa,CACjBhB,IAAK,QACLE,cAAe,OAoCjB,S","sources":["admin/views/Roles/EditRole.js","admin/views/Roles/RoleForm.js","admin/views/Roles/api.js","admin/views/Roles/util.js","admin/views/Util/preventWhitespaceAtFirst.js","utils/textCapital.js","../node_modules/reactstrap/es/Table.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { getRole, editRole, getRoleTypes } from \"./api\";\r\nimport A from \"config/url\";\r\nimport RoleForm from \"./RoleForm\";\r\nimport metaRoutes from \"config/meta_routes\";\r\nimport query from \"querystring\";\r\nimport { toast } from \"react-toastify\";\r\nimport { loadAllFields } from \"redux/actions/apiAction\";\r\nimport { connect } from \"react-redux\";\r\nimport titleCase from \"utils/textCapital\";\r\n\r\nconst formId = \"edit-role-form\";\r\nclass EditRole extends Component {\r\n  state = {\r\n    id: null,\r\n    role: {},\r\n    roleTypes: [],\r\n    role_controls: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const qs = query.parse(this.props.location.search);\r\n    const id = A.getId(qs[\"?i\"]);\r\n    A.getId(this.props.match.params.id);\r\n    getRole(id, (err, json) => {\r\n      if (err) return;\r\n      this.setState({\r\n        role: json.data,\r\n        role_controls: json.data.role_controls,\r\n      });\r\n    });\r\n    getRoleTypes((err, roleTypes) => {\r\n      if (err) return;\r\n      this.setState({ roleTypes: roleTypes });\r\n    });\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const role = this.state.role;\r\n    editRole(role, (err, data) => {\r\n      if (err) {\r\n        toast.error(err.response.data.message);\r\n        return;\r\n      }\r\n      this.props.history.push(metaRoutes.adminRoles);\r\n      this.props.dispatch(loadAllFields());\r\n      toast.success(data.message);\r\n    });\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const name = e.target.name;\r\n    let value = e.target.value;\r\n    const [type, roleTypeId] = e.target.name.split(\"-\");\r\n    const role = this.state.role;\r\n    if (name === \"name\") {\r\n      value = titleCase(value);\r\n    }\r\n\r\n    if (type === \"control\") {\r\n      let flagFound = false;\r\n      role.role_controls = role.role_controls\r\n        ? role.role_controls.map((rC) => {\r\n            if (rC.roleTypeId === Number(roleTypeId)) {\r\n              flagFound = true;\r\n              rC.value = value;\r\n            }\r\n            return rC;\r\n          })\r\n        : [];\r\n      if (!flagFound) {\r\n        role.role_controls.push({\r\n          roleId: role.id,\r\n          roleTypeId: Number(roleTypeId),\r\n          value: value,\r\n        });\r\n      }\r\n    } else {\r\n      switch (e.target.type) {\r\n        case \"radio\":\r\n          role[e.target.name] = e.target.checked;\r\n          break;\r\n        case \"checkbox\":\r\n          role[e.target.name] = e.target.checked;\r\n\r\n          break;\r\n        default:\r\n          role[e.target.name] = value;\r\n          break;\r\n      }\r\n    }\r\n    this.setState({\r\n      role: { ...role },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <RoleForm\r\n        title=\"Edit Role\"\r\n        formId={formId}\r\n        role={this.state.role}\r\n        roleTypes={this.state.roleTypes}\r\n        handleSubmit={this.handleSubmit}\r\n        handleChange={this.handleChange}\r\n        role_controls={this.state.role_controls}\r\n        roles={this.state.roles}\r\n        isEdit={true}\r\n        {...this.props}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default connect((state) => ({ allFields: state.allFields }))(EditRole);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Card, CardBody, CardHeader, CardFooter, Button, Col, Row, Input, Form, FormGroup, Label, Table } from \"reactstrap\";\r\nimport { optionsPage, optionsBoolean } from \"./util\";\r\nimport CustomSubmit from \"admin/components/CustomSubmit\";\r\nimport CustomCancel from \"admin/components/CustomCancel\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { server } from \"admin/config/server\";\r\nimport { preventWhitespaceAtFirst } from \"../Util/preventWhitespaceAtFirst\";\r\n\r\nconst RoleForm = (props) => {\r\n  const isEdit = !!props.isEdit;\r\n  const role = props.role ? props.role : {};\r\n  const [permission, setPermission] = useState({});\r\n  const [capitalCase, setcapitalCase] = useState(\"\");\r\n  useEffect(() => {\r\n    server\r\n      .get(\"/permissions\")\r\n      .then((json) => {\r\n        setPermission(json.data);\r\n      })\r\n      .catch((err) => {\r\n        toast.error(\"Permission error\");\r\n      });\r\n  }, []);\r\n\r\n\r\n  const roleControls = props.role_controls ? props.role_controls : [];\r\n\r\n  const data = roleControls.filter((role) => role?.value === \"false\");\r\n\r\n  // hide when isFirstTime is false\r\n  const isFirstTime = (data.length = 0 || data.length === 4 ? true : false);\r\n\r\n  const renderRadio = (rT, roleValue, user_permission) => {\r\n    switch (rT.type) {\r\n      // Pages like document, Roles, and others.\r\n      case \"page\":\r\n        return optionsPage.map((o, i) => {\r\n          // For Edit => change after selected.\r\n          if (o.value == 3 && user_permission < 3) return;\r\n          if (o.value === parseInt(roleValue)) {\r\n            // if (o.value == 2 && user_permission < 2) return;\r\n            return (\r\n              <div>\r\n                <Input\r\n                  className=\"rounded\"\r\n                  type=\"radio\"\r\n                  id={i}\r\n                  name={\"control-\" + rT.id}\r\n                  value={o.value}\r\n                  checked\r\n                  onChange={props.handleChange}\r\n                />\r\n                <label for={i}>{o.label == \"--- NONE ---\" ? \"None\" : o.label}</label>\r\n                <br />\r\n              </div>\r\n            );\r\n          } else {\r\n            // preview before selected\r\n            return o.label !== \"--- NONE ---\" ? (\r\n              <div>\r\n                <Input\r\n                  className=\"rounded\"\r\n                  type=\"radio\"\r\n                  id={i}\r\n                  name={\"control-\" + rT.id}\r\n                  value={o.value}\r\n                  onChange={props.handleChange}\r\n                />\r\n                <label for={i}>{o.label}</label>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <Input\r\n                  className=\"rounded\"\r\n                  type=\"radio\"\r\n                  id={i}\r\n                  name={\"control-\" + rT.id}\r\n                  value={o.value}\r\n                  onChange={props.handleChange}\r\n                />\r\n                <label for={i}>None</label>\r\n              </div>\r\n            );\r\n          }\r\n        });\r\n      // For Yes / No radio Buttion\r\n      case \"boolean\":\r\n        return optionsBoolean.map((o, i) => {\r\n          if (JSON.stringify(o.value) === roleValue) {\r\n            return (\r\n              <div>\r\n                <Input\r\n                  className=\"rounded\"\r\n                  type=\"radio\"\r\n                  id={i}\r\n                  name={\"control-\" + rT.id}\r\n                  value={o.value}\r\n                  checked\r\n                  onChange={props.handleChange}\r\n                ></Input>\r\n                <label for={i}>{o.label}</label>\r\n              </div>\r\n            );\r\n          } else {\r\n            return (\r\n              <div>\r\n                <Input\r\n                  className=\"rounded\"\r\n                  type=\"radio\"\r\n                  id={i}\r\n                  name={\"control-\" + rT.id}\r\n                  value={o.value}\r\n                  onChange={props.handleChange}\r\n                ></Input>\r\n                <label for={i}>{o.label}</label>\r\n              </div>\r\n            );\r\n          }\r\n        });\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"shadow\">\r\n      <Form id={props.formId} onSubmit={props.handleSubmit}>\r\n        <CardHeader>\r\n          <p className=\"h5\">{props.title}</p>\r\n        </CardHeader>\r\n        <CardBody>\r\n          <FormGroup>\r\n            <Label htmlFor=\"name\">Name</Label>\r\n\r\n            <Input\r\n              className=\"rounded\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              onInput={(e) => preventWhitespaceAtFirst(e.target)}\r\n              id=\"name\"\r\n              placeholder=\"Enter role name\"\r\n              required\r\n              value={role.name ? role.name : \"\"}\r\n              onChange={props.handleChange}\r\n            />\r\n          </FormGroup>\r\n          {/* {isEdit && ( */}\r\n          <Row>\r\n            <Col>\r\n              <div className=\"alert alert-dark\" role=\"alert\">\r\n                Note: Manage the roles of the user by modifying the given actions.\r\n              </div>\r\n              <Table responsive bordered hover>\r\n                <thead className=\"table-active\">\r\n                  <tr>\r\n                    <th scope=\"col\">Roles Type</th>\r\n                    <th scope=\"col\" className=\"text-center\">\r\n                      Action\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {props.roleTypes &&\r\n                    props.roleTypes.map((rT, i) => {\r\n                      return Object.entries(permission).map(([key, value], index) => {\r\n                        // props.allFields\r\n                        let roleControl = roleControls.find((rC) => rC.roleTypeId == rT.id);\r\n\r\n                        {\r\n                          /* remove reduntant roles */\r\n                        }\r\n\r\n                        if (key != rT.key || value === 0 || value === 1 || value == false) return;\r\n\r\n                        roleControl = roleControl || {};\r\n\r\n                        function roleName() {\r\n                          switch (rT.name) {\r\n                            case \"User\":\r\n                              rT.name += \" - logged user can control user section.\";\r\n                              break;\r\n                            case \"Ldap User\":\r\n                              rT.name += \" - logged user can control AD user section.\";\r\n                              break;\r\n                            case \"Role\":\r\n                              rT.name += \" - User will be able to access roles section and more.\";\r\n                              break;\r\n                            case \"Branch\":\r\n                              rT.name += \" - User will be able to access branch section and more.\";\r\n                              break;\r\n                            case \"Document\":\r\n                              rT.name += \" - User will be able to access document section and more\";\r\n                              break;\r\n                            case \"Download\":\r\n                              rT.name += \" - User may or may not download the attachments.\";\r\n                              break;\r\n                            case \"Archived\":\r\n                              rT.name += \" - User may or maynot access archive section of document.\";\r\n                              break;\r\n                            case \"Department\":\r\n                              rT.name += \" -  User will be able to access department section and more.\";\r\n                              break;\r\n                            case \"Document Condition\":\r\n                              rT.name += \" - User will be able to access document condition section and more.\";\r\n                              break;\r\n                            case \"Document Type\":\r\n                              rT.name += \" - User will be able to access document type section and more.\";\r\n                              break;\r\n                            case \"Location Map\":\r\n                              rT.name += \" - User will be able to access location map section and more.\";\r\n                              break;\r\n                            case \"Location Type\":\r\n                              rT.name += \" - User will be able to access location type section and more.\";\r\n                              break;\r\n                            case \"Language\":\r\n                              rT.name += \" - User will be able to access language section and more.\";\r\n                              break;\r\n                            case \"User role\":\r\n                              rT.name += \" - Select yes if the user is checker or select no if the user is maker.\";\r\n                              break;\r\n                            default:\r\n                              rT.name += \"\";\r\n                              break;\r\n                          }\r\n                        }\r\n\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td style={{ width: \"50%\" }}>\r\n                              <Label htmlFor={i} title={rT.description ? rT.description : \"\"}>\r\n                                {(roleName(), rT.name)}\r\n                              </Label>\r\n                            </td>\r\n\r\n                            {/*with radio buttons*/}\r\n                            <td>\r\n                              <span className=\"d-flex justify-content-around\">\r\n                                {renderRadio(rT, roleControl.value, value)}\r\n                              </span>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      });\r\n                    })}\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n          {/* )} */}\r\n          <div className=\"\"></div>\r\n        </CardBody>\r\n        <CardFooter className=\"d-flex justify-content-end\">\r\n          {isEdit ? (\r\n            <>\r\n              <Button onClick={() => window.history.back()} type=\"button\" color=\"danger\" className=\"mx-2 text-white\">\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" color=\"primary\">\r\n                Submit\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <CustomCancel onClick={() => window.history.back()} />\r\n              <CustomSubmit isDisabled={props.isDisabled} />\r\n            </>\r\n          )}\r\n        </CardFooter>\r\n      </Form>\r\n    </Card>\r\n  );\r\n};\r\nexport default connect((state) => ({\r\n  allFields: state.allFields,\r\n  userProfile: state.userProfile,\r\n}))(RoleForm);\r\n","import { server } from \"admin/config/server\";\r\n\r\nconst url = \"/roles\";\r\n\r\nfunction getRoles(callback) {\r\n  server\r\n    .get(`${url}`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getRole(id, callback) {\r\n  server\r\n    .get(`${url}/${id}`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction editRole(role, callback) {\r\n  server\r\n    .put(`${url}/${role.id}`, role)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction addRole(role, callback) {\r\n  server\r\n    .post(`${url}`, role)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getRoleTypes(callback) {\r\n  server\r\n    .get(`${url}/types`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction deleteRole(id, callback) {\r\n  server\r\n    .delete(`${url}/${id}`)\r\n    .then(function (json) {\r\n      callback(null, json.data);\r\n    })\r\n    .catch(function (err) {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nexport { getRoles, getRoleTypes, getRole, editRole, addRole, deleteRole };\r\n","import { NONE, VIEW, VIEW_EDIT, VIEW_EDIT_DELETE } from \"config/values\";\r\n\r\nconst optionsPage = [\r\n  {\r\n    value: NONE,\r\n    label: \"--- NONE ---\",\r\n  },\r\n  {\r\n    value: VIEW,\r\n    label: \"View\",\r\n  },\r\n  {\r\n    value: VIEW_EDIT,\r\n    label: \"Edit\",\r\n  },\r\n  {\r\n    value: VIEW_EDIT_DELETE,\r\n    label: \"Edit / Delete\",\r\n  },\r\n];\r\n\r\nconst optionsBoolean = [\r\n  {\r\n    value: false,\r\n    label: \"No\",\r\n  },\r\n  {\r\n    value: true,\r\n    label: \"Yes\",\r\n  },\r\n];\r\n\r\nexport { optionsPage, optionsBoolean, VIEW, VIEW_EDIT, VIEW_EDIT_DELETE };\r\n","export const preventWhitespaceAtFirst = (str) => {\r\n  if (/^\\s/.test(str.value)) str.value = \"\";\r\n};\r\n","export default function titleCase(text) {\r\n  return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"names":["EditRole","Component","constructor","arguments","state","id","role","roleTypes","role_controls","handleSubmit","e","preventDefault","this","editRole","err","data","toast","error","response","message","props","history","push","metaRoutes","adminRoles","dispatch","loadAllFields","success","handleChange","name","target","value","type","roleTypeId","split","titleCase","flagFound","map","rC","Number","roleId","checked","setState","componentDidMount","qs","query","location","search","A","getId","match","params","getRole","json","getRoleTypes","render","_jsx","RoleForm","title","formId","roles","isEdit","connect","allFields","userProfile","permission","setPermission","useState","capitalCase","setcapitalCase","useEffect","server","get","then","catch","roleControls","filter","renderRadio","length","rT","roleValue","user_permission","optionsPage","o","i","parseInt","_jsxs","children","Input","className","onChange","for","label","optionsBoolean","JSON","stringify","Card","Form","onSubmit","CardHeader","CardBody","FormGroup","Label","htmlFor","onInput","preventWhitespaceAtFirst","placeholder","required","Row","Col","Table","responsive","bordered","hover","scope","Object","entries","_ref","index","key","roleControl","find","style","width","description","roleName","CardFooter","_Fragment","Button","onClick","window","back","color","CustomCancel","CustomSubmit","isDisabled","url","getRoles","callback","put","addRole","post","deleteRole","delete","NONE","VIEW","VIEW_EDIT","VIEW_EDIT_DELETE","str","test","text","charAt","toUpperCase","slice","_excluded","propTypes","PropTypes","cssModule","size","borderless","striped","dark","tag","tagPropType","responsiveTag","innerRef","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","React","_extends","ref","responsiveClassName","defaultProps"],"sourceRoot":""}