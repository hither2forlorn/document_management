"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[2104],{22104:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var n=t(65043),d=t(25852),r=t(13718),a=t(75304),o=t(38477),l=t(44864),i=t(58472),c=t(62582),h=t(97508),p=t(80231),m=t(46759),u=t(8586),x=t(70579);class b extends n.Component{constructor(){super(...arguments),this.state={documentTypes:[],showInfo:!0},this.onChange=e=>{let{target:{name:s,value:t}}=e;this.props.handleIndexTypeChange({target:{name:"documentTypeId",value:t}}),this.setState({showInfo:!1}),this.props.handleSelectIndexType(t)}}componentDidMount(){this.setState(this.props.allFields)}renderItems(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.A,{children:(0,x.jsxs)("p",{className:"h5",children:[(0,x.jsx)("i",{className:" fas fa-solid fa-filter"}),"Filter Index Type"]})}),(0,x.jsxs)(l.A,{className:"pt-3",children:[(0,x.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(0,x.jsx)(u.A,{className:"mt-1",children:"Document Type"}),(0,x.jsxs)("select",{className:"form-control rounded",name:"documentTypeId",id:"documentTypeId",value:this.props.documentTypeId,onChange:this.onChange,style:{width:"100%"},required:!0,children:[(0,x.jsx)("option",{value:"",children:"-- NONE --"}),(0,m.$E)(this.state.documentTypes)]})]}),this.state.showInfo?(0,x.jsx)("img",{src:"/img/doctype.svg",alt:"doc type select icon",style:{width:"100%"},className:"mt-3"}):null]})]})}render(){return this.renderItems()}}const f=(0,h.Ng)((e=>({allFields:e.allFields,searchData:e.docSearchData})))(b);var j=t(58441),y=(t(46316),t(77746)),T=(t(19368),t(11594));let v=[];const g=(0,h.Ng)((e=>({...e.allFields,searchData:e.docSearchData})))((e=>{const[s,t]=(0,n.useState)([{}]),[h,u]=(0,n.useState)(),[b,g]=(0,n.useState)(),[I,A]=(0,n.useState)(),[N,k]=(0,n.useState)(null);const w=e.permissions||{},S=e.documentTypes?e.documentTypes:[];let D={};const C=()=>{(0,y.oe)(((e,s)=>{if(e)return;const n=s.data.map((e=>({...e})));t(function(e){return null===e||void 0===e?void 0:e.sort(((e,s)=>e.docId<s.docId?-1:e.docId>s.docId?1:0))}(n))}))};return(0,n.useEffect)((()=>{C()}),[]),(0,x.jsxs)(d.A,{children:[(0,x.jsx)(r.A,{md:3,children:(0,x.jsx)(a.A,{className:"shadow",children:(0,x.jsx)(f,{handleIndexTypeChange:s=>{let{target:t}=s;const{checked:n,name:d,value:r,type:a}=t;if(""==r)return A(r),C();if("checkbox"===a)D={[d]:n};else{D={[d]:r},"documentTypeId"===d&&A(r),u(D.documentTypeId);const s=e.documentTypes.find((e=>e.id==r));g(s.name)}},documentTypeId:I,handleSelectIndexType:function(e){k(e),v=s.filter((s=>s.docId==e&&s))}})})}),(0,x.jsx)(r.A,{md:9,className:"pl-3 pl-md-0",children:(0,x.jsxs)(a.A,{className:"shadow",children:[(0,x.jsxs)(o.A,{children:[(0,x.jsx)("p",{className:"h5",children:"Index Type"}),(0,x.jsxs)(c.Link,{to:p.A.adminIndexTypeAdd+"?i="+j.A.getHash(h)+"&index="+b,className:"btn-header btn btn-outline-dark btn-sm border-dark border",children:[(0,x.jsx)("i",{className:"fa fa-plus"})," Add Index"]})]}),(0,x.jsx)(l.A,{children:(0,x.jsxs)(i.A,{responsive:!0,bordered:!0,hover:!0,children:[(0,x.jsx)("thead",{className:"table-active",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Document Type"}),(0,x.jsx)("th",{children:"Index Type"}),(0,x.jsx)("th",{children:"Created At"}),(0,x.jsx)("th",{children:"Actions"})]})}),(0,x.jsx)("tbody",{children:function(e){return null===e||void 0===e?void 0:e.map((e=>{const s=(0,m._W)(S,e.docId);if(s)return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:s}),(0,x.jsx)("td",{children:e.label}),(0,x.jsx)("td",{children:new Date(e.createdAt).toDateString()}),(0,x.jsxs)("td",{children:[(0,x.jsx)(T.A,{to:p.A.adminIndexTypeEdit+"?i="+j.A.getHash(e.id),buttonType:"edit",permission:w.documentType}),(0,x.jsx)(T.A,{onClick:()=>(e=>{window.confirm("Do you want to delete this file?")&&(0,y.yB)(e,((e,s)=>{e||C()}))})(e.id),buttonType:"delete",permission:w.documentType})]})]},e.id)}))}(N?v:s)})]})})]})})]})}))},58472:(e,s,t)=>{t.d(s,{A:()=>u});var n=t(58168),d=t(98587),r=t(65043),a=t(65173),o=t.n(a),l=t(98139),i=t.n(l),c=t(62373),h=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],p={className:o().string,cssModule:o().object,size:o().string,bordered:o().bool,borderless:o().bool,striped:o().bool,dark:o().bool,hover:o().bool,responsive:o().oneOfType([o().bool,o().string]),tag:c.Wx,responsiveTag:c.Wx,innerRef:o().oneOfType([o().func,o().string,o().object])},m=function(e){var s=e.className,t=e.cssModule,a=e.size,o=e.bordered,l=e.borderless,p=e.striped,m=e.dark,u=e.hover,x=e.responsive,b=e.tag,f=e.responsiveTag,j=e.innerRef,y=(0,d.A)(e,h),T=(0,c.qO)(i()(s,"table",!!a&&"table-"+a,!!o&&"table-bordered",!!l&&"table-borderless",!!p&&"table-striped",!!m&&"table-dark",!!u&&"table-hover"),t),v=r.createElement(b,(0,n.A)({},y,{ref:j,className:T}));if(x){var g=(0,c.qO)(!0===x?"table-responsive":"table-responsive-"+x,t);return r.createElement(f,{className:g},v)}return v};m.propTypes=p,m.defaultProps={tag:"table",responsiveTag:"div"};const u=m}}]);
//# sourceMappingURL=2104.48f7ae1e.chunk.js.map