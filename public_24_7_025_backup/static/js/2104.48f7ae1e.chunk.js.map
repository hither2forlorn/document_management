{"version":3,"file":"static/js/2104.48f7ae1e.chunk.js","mappings":"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","sources":["admin/views/IndexType/SearchIndexType.js","admin/views/IndexType/IndexType.js","../node_modules/reactstrap/es/Table.js"],"sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getOptions } from \"config/util\";\r\nimport { CardBody, CardHeader, Label } from \"reactstrap\";\r\n\r\nconst logo = \"/img/doctype.svg\";\r\nclass SearchIndexType extends React.Component {\r\n  state = {\r\n    documentTypes: [],\r\n    showInfo: true,\r\n  };\r\n\r\n  onChange = ({ target: { name, value } }) => {\r\n    this.props.handleIndexTypeChange({\r\n      target: { name: \"documentTypeId\", value: value },\r\n    });\r\n    this.setState({\r\n      showInfo: false,\r\n    });\r\n    this.props.handleSelectIndexType(value);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState(this.props.allFields);\r\n  }\r\n\r\n  renderItems() {\r\n    return (\r\n      <>\r\n        <CardHeader>\r\n          <p className=\"h5\">\r\n            <i className=\" fas fa-solid fa-filter\"></i>\r\n            Filter Index Type\r\n          </p>\r\n        </CardHeader>\r\n        <CardBody className=\"pt-3\">\r\n          <form onSubmit={(e) => e.preventDefault()}>\r\n            <Label className=\"mt-1\">Document Type</Label>\r\n            <select\r\n              className=\"form-control rounded\"\r\n              name=\"documentTypeId\"\r\n              id=\"documentTypeId\"\r\n              value={this.props.documentTypeId}\r\n              onChange={this.onChange}\r\n              style={{ width: \"100%\" }}\r\n              required\r\n            >\r\n              <option value=\"\">-- NONE --</option>\r\n              {getOptions(this.state.documentTypes)}\r\n            </select>\r\n          </form>\r\n\r\n          {this.state.showInfo ? (\r\n            <img src={logo} alt=\"doc type select icon\" style={{ width: \"100%\" }} className=\"mt-3\" />\r\n          ) : null}\r\n        </CardBody>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return this.renderItems();\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({\r\n  allFields: state.allFields,\r\n  searchData: state.docSearchData,\r\n}))(SearchIndexType);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Card, CardBody, Table, CardHeader, Col, Row } from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport metaRoutes from \"config/meta_routes\";\r\nimport SearchIndexType from \"./SearchIndexType\";\r\nimport A from \"config/url\";\r\nimport { setDocumentSearchData } from \"redux/actions/documentAc\";\r\nimport { deleteIndexType, getIndexTypes } from \"./api\";\r\nimport { getValue } from \"config/util\";\r\nimport { CustomDelete, CustomEdit } from \"admin/components\";\r\nimport CustomTableAction from \"admin/components/CustomTableAction\";\r\n\r\nlet indexData = [];\r\nconst IndexType = (props) => {\r\n  const [indexList, setIndexList] = useState([{}]);\r\n  const [id, setId] = useState();\r\n  const [index, setIndex] = useState();\r\n  const [documentTypesId, setDocumentTypeId] = useState();\r\n  const [selectedDocType, setSelectedDocType] = useState(null);\r\n  function handleSelectIndexType(value) {\r\n    setSelectedDocType(value);\r\n    indexData = indexList.filter((row) => row.docId == value && row);\r\n  }\r\n  const p = props.permissions || {};\r\n\r\n  const documentTypes = props.documentTypes ? props.documentTypes : [];\r\n  let data = {};\r\n  const onChange = ({ target }) => {\r\n    const { checked, name, value, type } = target;\r\n    if (value == \"\") {\r\n      setDocumentTypeId(value);\r\n      return updateData();\r\n    }\r\n\r\n    switch (type) {\r\n      case \"checkbox\":\r\n        data = { [name]: checked };\r\n        break;\r\n      default:\r\n        data = { [name]: value };\r\n        if (name === \"documentTypeId\") {\r\n          setDocumentTypeId(value);\r\n        }\r\n        setId(data.documentTypeId);\r\n\r\n        const indexValue = props.documentTypes.find((row) => row.id == value);\r\n\r\n        setIndex(indexValue.name);\r\n    }\r\n    // props.dispatch(setDocPageNo(1));\r\n    // props.dispatch(setDocumentSearchData({ ...props.searchData, ...data }));\r\n  };\r\n\r\n  function sortArray(indexList) {\r\n    return indexList?.sort((a, b) => {\r\n      if (a.docId < b.docId) {\r\n        return -1;\r\n      }\r\n      if (a.docId > b.docId) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  const updateData = () => {\r\n    getIndexTypes((err, data) => {\r\n      if (err) return;\r\n\r\n      const result = data.data.map((item) => ({\r\n        ...item,\r\n      }));\r\n      setIndexList(sortArray(result));\r\n    });\r\n  };\r\n\r\n  const handleDeleteIndexType = (id) => {\r\n    if (!window.confirm(\"Do you want to delete this file?\")) {\r\n      return;\r\n    }\r\n    deleteIndexType(id, (err, json) => {\r\n      if (err) return;\r\n      updateData();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateData();\r\n  }, []);\r\n\r\n  function renderIndexType(data) {\r\n    return data?.map((row) => {\r\n      const documentType = getValue(documentTypes, row.docId);\r\n      if (documentType)\r\n        return (\r\n          <tr key={row.id}>\r\n            <td>{documentType}</td>\r\n            <td>{row.label}</td>\r\n            <td>{new Date(row.createdAt).toDateString()}</td>\r\n            <td>\r\n              <CustomTableAction\r\n                to={metaRoutes.adminIndexTypeEdit + \"?i=\" + A.getHash(row.id)}\r\n                buttonType=\"edit\"\r\n                permission={p.documentType}\r\n              />\r\n              <CustomTableAction\r\n                onClick={() => handleDeleteIndexType(row.id)}\r\n                buttonType=\"delete\"\r\n                permission={p.documentType}\r\n              />\r\n            </td>\r\n          </tr>\r\n        );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={3}>\r\n        <Card className=\"shadow\">\r\n          <SearchIndexType\r\n            handleIndexTypeChange={onChange}\r\n            documentTypeId={documentTypesId}\r\n            handleSelectIndexType={handleSelectIndexType}\r\n          />\r\n        </Card>\r\n      </Col>\r\n      <Col md={9} className=\"pl-3 pl-md-0\">\r\n        <Card className=\"shadow\">\r\n          <CardHeader>\r\n            <p className=\"h5\">Index Type</p>\r\n            <Link\r\n              to={metaRoutes.adminIndexTypeAdd + \"?i=\" + A.getHash(id) + \"&index=\" + index}\r\n              className=\"btn-header btn btn-outline-dark btn-sm border-dark border\"\r\n            >\r\n              <i className=\"fa fa-plus\" /> Add Index\r\n            </Link>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Table responsive bordered hover>\r\n              <thead className=\"table-active\">\r\n                <tr>\r\n                  <th>Document Type</th>\r\n                  <th>Index Type</th>\r\n                  <th>Created At</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>{renderIndexType(selectedDocType ? indexData : indexList)}</tbody>\r\n            </Table>\r\n          </CardBody>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({\r\n  ...state.allFields,\r\n  searchData: state.docSearchData,\r\n}))(IndexType);\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"names":["SearchIndexType","React","constructor","arguments","state","documentTypes","showInfo","onChange","_ref","target","name","value","this","props","handleIndexTypeChange","setState","handleSelectIndexType","componentDidMount","allFields","renderItems","_jsxs","_Fragment","children","_jsx","CardHeader","className","CardBody","onSubmit","e","preventDefault","Label","id","documentTypeId","style","width","required","getOptions","src","alt","render","connect","searchData","docSearchData","indexData","indexList","setIndexList","useState","setId","index","setIndex","documentTypesId","setDocumentTypeId","selectedDocType","setSelectedDocType","p","permissions","data","updateData","getIndexTypes","err","result","map","item","sort","a","b","docId","sortArray","useEffect","Row","Col","md","Card","checked","type","indexValue","find","row","filter","Link","to","metaRoutes","adminIndexTypeAdd","A","getHash","Table","responsive","bordered","hover","documentType","getValue","label","Date","createdAt","toDateString","CustomTableAction","adminIndexTypeEdit","buttonType","permission","onClick","window","confirm","deleteIndexType","json","handleDeleteIndexType","renderIndexType","_excluded","propTypes","PropTypes","cssModule","size","borderless","striped","dark","tag","tagPropType","responsiveTag","innerRef","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","_extends","ref","responsiveClassName","defaultProps"],"sourceRoot":""}