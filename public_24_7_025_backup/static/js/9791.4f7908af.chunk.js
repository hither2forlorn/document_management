"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[9791],{8325:(e,n,l)=>{l.d(n,{A:()=>A});var o=l(65043),a=l(64854),i=l(19368),r=l(28096),t=l(86453),s=l(97508),d=l(75711),c=l(45413),u=l(8586),h=l(25852),m=l(13718),v=l(81078),f=l(15421),p=l(16393),b=l(47366),g=l(51080),j=(l(53536),l(70579));var x=l(28344);l(3531);const A=(0,s.Ng)((e=>({allFields:e.allFields,userProfile:e.userProfile})))((e=>{var n,l,s,A,y,C;const S=e.allFields.defaultValues,E=(0,f.onlyForThisVendor)(f.banks.bok.name)&&"1"===e.documentTypeId,k=e.documentData?e.documentData:{},w=!!e.isEdit&&e.isEdit,I=e.securityLevels,V=1===e.userProfile.roleId,N=2===e.userProfile.roleId||7===e.userProfile.roleId,F=(e.userProfile.roleId,e.userProfile.roleId,e.locationMaps),[T,D]=(0,o.useState)([]);(0,o.useEffect)((()=>{(()=>{var e;const n=(e=(e,n)=>e.parentId===n.id,n=>n.filter(((l,o)=>n.find(((n,a)=>o!==a&&e(l,n))))))(F),l=null===n||void 0===n?void 0:n.map((e=>e.parentId));D(l)})()}),[F]);let z=[];null===(n=e.includedCheckers)||void 0===n||n.map((n=>e.includedCheckers.filter((e=>e.name===n.name)).length>=2?z.push({...n,name:n.name+" - "+n.email}):z.push(n)));const O=V?null===e||void 0===e||null===(l=e.allFields)||void 0===l?void 0:l.hierarchy:null===e||void 0===e||null===(s=e.allFields)||void 0===s||null===(A=s.hierarchy)||void 0===A?void 0:A.filter((n=>n.code!==e.userProfile.hierarchy)),P=e.validationErrors?e.validationErrors:null,[R,B]=o.useState({}),[M,L]=(0,o.useState)(!1),[$,q]=(0,o.useState)(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(h.A,{children:[E&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(v.A,{object:k,isEdit:w,disabled:!!w,label:"Account Number",defaultValue:"BOK",generateUserFromCBS:async(e,n)=>{"BOK"!==e&&B(n)},name:"name",errors:P?P.name:null,onChange:e.handleChange,documentFormBata:!0})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,required:!0,isEdit:w,label:"Customer Name",defaultValue:null===R||void 0===R?void 0:R.CustName,name:"customer_name",readOnly:!0})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,isEdit:w,type:"date",defaultValue:(0,p.i)(R.ApprovedDate),label:"Approved Date",name:"approved_date",readOnly:!0})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,isEdit:w,defaultValue:null===R||void 0===R?void 0:R.URL,label:"URL",name:"url",readOnly:!0})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,isEdit:w,defaultValue:null===R||void 0===R?void 0:R.CPRno,label:"TBOKID",name:"CPRno",readOnly:!0})})]}),(0,f.onlyForThisVendor)([f.banks.rbb.name])&&(0,j.jsx)(m.A,{md:12,children:(0,j.jsx)(b.A,{object:k,isEdit:w,AddDocumentBata:!0,onChange:e.handleChange,defaultValue:e.docTags,selectedTags:n=>{e.handleChangeTags(n)},label:"Tags"})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,isEdit:w,label:"Identifier",name:"identifier",defaultValue:(0,t.Cm)("DOC"),readOnly:!0})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{required:!0,object:k,isEdit:w,label:"Document Name",onInput:e=>(0,x.P)(e.target),name:"otherTitle",readOnly:E&&(0,f.onlyForThisVendor)(f.banks.bok.name),defaultValue:e.concatString?e.concatString:(null===R||void 0===R?void 0:R.BOKID)&&(null===R||void 0===R?void 0:R.CustName)&&(null===R||void 0===R?void 0:R.ApprovedDate)&&(null===R||void 0===R?void 0:R.CPRno)&&(null===R||void 0===R?void 0:R.BOKID)+"-"+(null===R||void 0===R?void 0:R.CustName)+"-"+(null===R||void 0===R?void 0:R.ApprovedDate)+"-"+(null===R||void 0===R?void 0:R.CPRno),errors:P?P.otherTitle:null,onChange:e.handleChange})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.Ae,{object:k,isEdit:w,label:"Language",name:"languageId",hasDefaultValue:!0,errors:P?P.languageId:null,options:e.languages,onChange:e.handleChange,defaultValue:!0})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.Ae,{object:k,isEdit:w,label:"Document Condition",hasDefaultValue:!0,name:"documentConditionId",options:e.documentConditions,onChange:e.handleChange,errors:P?P.documentConditionId:null,defaultValue:!0})}),(0,f.excludeThisVendor)(f.banks.bok.name)&&(0,j.jsx)(m.A,{md:3,children:(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"disposalDate",children:"Expiry Date"}),(0,j.jsx)(d.A,{object:k,isEdit:w,label:"",name:"disposalDate",id:"disposalDate",onChange:(n,l,o,a)=>{try{const n=new Date(a);console.log(a);const l=new Date;if(l.setHours(0,0,0,0),n<l)return r.oR.error("Past date cannot be selected."),void L((e=>!e));e.handleChange,q(!0)}catch(i){console.log(i)}},locale:"en",defaultFormat:!0},M)]})}),$&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,isEdit:w,label:"Notification",type:"number",minLength:0,onInput:e=>(0,x.P)(e.target),name:"notification",errors:P?P.notification:null,onChange:e.handleChange,defaultValue:1})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.Ae,{object:k,isEdit:w,label:"Notification Unit",name:"notificationUnit",hasDefaultValue:!0,errors:P?P.notificationUnit:null,options:[{id:"hr",name:"hour",value:"hr"},{id:"day",name:"day",value:"day"},{id:"week",name:"week",value:"week"}],onChange:e.handleChange})})]}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.Ae,{required:!0,defaultValue:!0,object:k,isEdit:w,hasDefaultValue:!0,label:"Status",name:"statusId",options:e.statuses,onChange:e.handleChange,errors:P?P.statusId:null})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.Ae,{object:k,isEdit:w,label:"Location Map",required:(0,f.onlyForThisVendor)([f.banks.rbb.name]),name:"locationMapId",filterParentId:T,options:e.locationMaps,disabled:!0,doNotSort:!0,..."object"==typeof S?{defaultValue:null===S||void 0===S?void 0:S.locationMapId}:{},onChange:e.handleChange,errors:P?P.locationMapId:null})}),null!==k&&void 0!==k&&k.branchId&&w?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m.A,{md:3,children:!k.isSaved&&(!(null!==k&&void 0!==k&&k.isApproved)||!w)&&(0,j.jsx)(i.Ae,{object:k,hasDefaultValue:!0,isEdit:w,label:"Branch",name:"branchId",options:e.branches,onChange:e.handleChange})})}):null,(!(null!==(y=e.document)&&void 0!==y&&y.hierarchy)||w)&&(0,j.jsx)(m.A,{md:3,children:!k.isSaved&&(!(null!==k&&void 0!==k&&k.isApproved)||!w)&&(0,j.jsx)(i.Ae,{object:k,hasDefaultValue:!0,isEdit:w,label:"Security Level",name:"securityLevel",..."object"===typeof S?{defaultValue:null===S||void 0===S?void 0:S.securityLevel}:{},options:I,onChange:e.handleChange,errors:P?P.securityLevel:null,required:!(0,f.onlyForThisVendor)([f.banks.rbb.name,f.banks.citizen.name])})}),V&&(0,j.jsx)(m.A,{md:3,children:!k.isSaved&&(!(null!==k&&void 0!==k&&k.isApproved)||!w)&&(0,j.jsx)(i.Ae,{object:k,label:"Security Hierarchy",name:"hierarchy",isEdit:w,options:O,onChange:e.handleChange})}),!w&&(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.Ae,{object:k,label:(0,j.jsxs)("span",{children:["Checker",(0,j.jsx)("span",{style:{color:"red"},children:" * "})]}),required:(0,f.onlyForThisVendor)(f.banks.rbb.name),name:"checker",options:z,onChange:e.handleChange})}),N&&(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,label:"Maker Name",name:"madeBy",onChange:e.handleChange,defaultValue:e.userProfile.name,errors:P?P.hasEncryption:null,readOnly:!0,required:!0,className:"text text-dark"})}),(!(null!==(C=e.document)&&void 0!==C&&C.securityLevel)&&(null===O||void 0===O?void 0:O.length)>0||w)&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)("div",{className:"alert alert-dark",role:"alert",children:(0,j.jsx)("p",{children:"Select security hierarchy for unit creation only."})})})}),3===e.securityLevelCheck&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m.A,{md:3,children:(0,j.jsxs)(c.A,{children:[(0,j.jsx)(u.A,{children:"User Access"}),(0,j.jsx)(g.A,{}),(0,j.jsx)(a.default,{isMulti:!0,onChange:e.handleSelectChange,value:e.userAccessSelectedOptions,name:"userAccess",required:!0,options:e.authorizedUsersSelect,className:"basic-multi-select react-select-style",classNamePrefix:"select"})]})})}),4===e.securityLevelCheck&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.Ae,{object:k,label:"User Group",name:"userGroupId",isEdit:w,required:!0,options:e.allFields.userGroup,onChange:e.handleChange})})})]}),(0,j.jsxs)(h.A,{style:{marginTop:25,marginLeft:10},children:[(0,f.onlyForThisVendor)([f.banks.epf.name])&&(0,j.jsx)(j.Fragment,{children:!w&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,isEdit:w,type:"checkbox",name:"hasEncryption",onChange:e.handleChange,errors:P?P.hasEncryption:null,children:"Encryption Files"})}),(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,type:"checkbox",isEdit:w,name:"hasQuickQcr",onChange:e.handleChange,errors:P?P.hasQuickQcr:null,children:"Quick OCR"})})]})}),w?(0,j.jsx)(m.A,{md:3,children:(0,j.jsx)(i.wi,{object:k,isEdit:w,type:"checkbox",name:"isArchived",onChange:e.handleChange,children:"Archive Now"})}):null]})]})}))},3531:(e,n,l)=>{l.d(n,{en:()=>r,gw:()=>d,hG:()=>c,lo:()=>i,nu:()=>s,wz:()=>t});var o=l(76400);const a="/ad-users";function i(e){o.E8.get(`${a}`).then((function(n){e(null,n.data)})).catch((function(n){e(n)}))}function r(e){o.E8.get(`${a}/ldap`).then((function(n){e(null,n.data)})).catch((function(n){e(n)}))}function t(e,n){o.E8.get(`${a}/${e}`).then((function(e){n(null,e.data)})).catch((function(e){n(e)}))}function s(e,n){o.E8.post(`${a}`,JSON.stringify(e)).then((function(e){n(null,e.data)})).catch((function(e){n(e)}))}function d(e,n){o.E8.put(`${a}/${e.id}`,JSON.stringify(e)).then((function(e){n(null,e.data)})).catch((function(e){n(e)}))}function c(e,n){o.E8.delete(`${a}/${e}`).then((function(e){n(null,e.data)})).catch((function(e){n(e)}))}},28344:(e,n,l)=>{l.d(n,{P:()=>o});const o=e=>{/^\s/.test(e.value)&&(e.value="")}},16393:(e,n,l)=>{function o(e){return e?e.split("/").reverse().join("-"):null}l.d(n,{i:()=>o})},59662:(e,n,l)=>{l.d(n,{A:()=>j});var o=l(58168),a=l(65043),i=l(98587),r=l(69292),t=l(98610),s=l(6803),d=l(98206),c=l(34535),u=l(92532),h=l(72372);function m(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var v=l(70579);const f=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],p=(0,c.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:l}=e;return[n.root,"inherit"!==l.color&&n[`color${(0,s.A)(l.color)}`],n[`fontSize${(0,s.A)(l.fontSize)}`]]}})((e=>{let{theme:n,ownerState:l}=e;var o,a,i,r,t,s,d,c,u,h,m,v,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:l.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(o=n.transitions)||null==(a=o.create)?void 0:a.call(o,"fill",{duration:null==(i=n.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(r=n.typography)||null==(t=r.pxToRem)?void 0:t.call(r,20))||"1.25rem",medium:(null==(s=n.typography)||null==(d=s.pxToRem)?void 0:d.call(s,24))||"1.5rem",large:(null==(c=n.typography)||null==(u=c.pxToRem)?void 0:u.call(c,35))||"2.1875rem"}[l.fontSize],color:null!=(h=null==(m=(n.vars||n).palette)||null==(m=m[l.color])?void 0:m.main)?h:{action:null==(v=(n.vars||n).palette)||null==(v=v.action)?void 0:v.active,disabled:null==(f=(n.vars||n).palette)||null==(f=f.action)?void 0:f.disabled,inherit:void 0}[l.color]}})),b=a.forwardRef((function(e,n){const l=(0,d.b)({props:e,name:"MuiSvgIcon"}),{children:c,className:u,color:h="inherit",component:b="svg",fontSize:g="medium",htmlColor:j,inheritViewBox:x=!1,titleAccess:A,viewBox:y="0 0 24 24"}=l,C=(0,i.A)(l,f),S=a.isValidElement(c)&&"svg"===c.type,E=(0,o.A)({},l,{color:h,component:b,fontSize:g,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:y,hasSvgAsChild:S}),k={};x||(k.viewBox=y);const w=(e=>{const{color:n,fontSize:l,classes:o}=e,a={root:["root","inherit"!==n&&`color${(0,s.A)(n)}`,`fontSize${(0,s.A)(l)}`]};return(0,t.A)(a,m,o)})(E);return(0,v.jsxs)(p,(0,o.A)({as:b,className:(0,r.A)(w.root,u),focusable:"false",color:j,"aria-hidden":!A||void 0,role:A?"img":void 0,ref:n},k,C,S&&c.props,{ownerState:E,children:[S?c.props.children:c,A?(0,v.jsx)("title",{children:A}):null]}))}));b.muiName="SvgIcon";const g=b;function j(e,n){function l(l,a){return(0,v.jsx)(g,(0,o.A)({"data-testid":`${n}Icon`,ref:a},l,{children:e}))}return l.muiName=g.muiName,a.memo(a.forwardRef(l))}},58472:(e,n,l)=>{l.d(n,{A:()=>v});var o=l(58168),a=l(98587),i=l(65043),r=l(65173),t=l.n(r),s=l(98139),d=l.n(s),c=l(62373),u=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],h={className:t().string,cssModule:t().object,size:t().string,bordered:t().bool,borderless:t().bool,striped:t().bool,dark:t().bool,hover:t().bool,responsive:t().oneOfType([t().bool,t().string]),tag:c.Wx,responsiveTag:c.Wx,innerRef:t().oneOfType([t().func,t().string,t().object])},m=function(e){var n=e.className,l=e.cssModule,r=e.size,t=e.bordered,s=e.borderless,h=e.striped,m=e.dark,v=e.hover,f=e.responsive,p=e.tag,b=e.responsiveTag,g=e.innerRef,j=(0,a.A)(e,u),x=(0,c.qO)(d()(n,"table",!!r&&"table-"+r,!!t&&"table-bordered",!!s&&"table-borderless",!!h&&"table-striped",!!m&&"table-dark",!!v&&"table-hover"),l),A=i.createElement(p,(0,o.A)({},j,{ref:g,className:x}));if(f){var y=(0,c.qO)(!0===f?"table-responsive":"table-responsive-"+f,l);return i.createElement(b,{className:y},A)}return A};m.propTypes=h,m.defaultProps={tag:"table",responsiveTag:"div"};const v=m}}]);
//# sourceMappingURL=9791.4f7908af.chunk.js.map