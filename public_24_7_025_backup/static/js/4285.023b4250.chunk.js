"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[4285],{54592:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(43845),n=(r(65043),r(70579));function a(e){let{...t}=e;return(0,n.jsx)(s.A,{...t,color:"primary",size:"small"})}},53606:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var s=r(65043),n=(r(46316),r(40575)),a=r(94342),o=r(97508),c=(r(92342),r(40854)),l=r.n(c),i=r(28096),d=r(58441),m=(r(76400),r(42536));d.A.header;m.c5;var u=r(70579);const h=(0,o.Ng)((e=>({allFields:e.allFields,searchData:e.docSearchData,docLimit:e.docLimitDocumentNumber,userProfile:e.userProfile})))((e=>{const[t,r]=(0,s.useState)([]),[c,d]=(0,s.useState)(1),[m,h]=(0,s.useState)(0),[p,x]=(0,s.useState)(""),j=(0,o.d4)((e=>e.docLimitDocumentNumber)),b=t=>{(0,n.c5)(((e,t)=>{e||(t.success?(r(t.paginationDocument),h(t.total),x(t.user)):(console.log(t),window.alert(t.message)))}),{page:c,limit:e.docLimit})};return(0,s.useEffect)((()=>{const e=l().CancelToken.source();return b(e),()=>{e.cancel()}}),[e.searchData,e.docPageNo,e.docLimit,c,j]),(0,u.jsx)(a.A,{title:"Pending Document List",fromPendingListTable:!0,documentList:t,showControl:!0,permissions:e.permissions,approveDocument:e=>{window.confirm("Do you want to approve this file?")&&(0,n.N1)(e,((e,t)=>{t.success?(i.oR.success("The document has been Approved"),b()):i.oR.error(t.message)}))},rejectDocument:e=>{let t=prompt("reason to reject");if(!window.confirm("Do you want to reject this file?"))return;const r={id:e,rejectReason:t};(0,n.A7)(r,((e,t)=>{t.success?(i.oR.success("The document has been rejected"),b()):i.oR.error(t.message)}))},setPageNumber:d,handleChangePage:(e,t)=>{d(t)},pageNumber:c,totalDocuments:m,initiaterUser:p})}))},94342:(e,t,r)=>{r.d(t,{A:()=>w});var s=r(65043),n=r(87382),a=r(25852),o=r(13718),c=r(90284),l=r(62582),i=r(97508),d=r(18039),m=r(46759),u=r(58441),h=r(80231),p=r(11594),x=(r(10577),r(75304)),j=r(38477),b=r(44864),g=r(58472),f=r(83407),A=r(46316),y=r(87561),v=r(7467),N=r(88988),k=r(15421),T=(r(54592),r(95702)),D=r(89967),L=r(70579);const w=(0,i.Ng)((e=>({...e.allFields,docLimit:e.docLimitDocumentNumber})))((e=>{var t;const[r,w]=(0,s.useState)(!1),C=e.docLimit,P=e.docPagination,[S,R]=(0,s.useState)(P),B=(e.totalPages,(0,i.d4)((e=>e.docLimitDocumentNumber))),E=t=>{e.documentList.sort(((e,r)=>{try{return e[t].toLowerCase()<r[t].toLowerCase()?-1:e[t].toLowerCase()>r[t].toLowerCase()?1:0}catch(s){return-1}}))};(0,s.useEffect)((()=>{R((e.docPagination-1)*C)}),[e.docPagination,e.dispatch,e.docLimitDocumentNumber]);const O=e.documentTypes?e.documentTypes:[],I=e.departments?e.departments:[],F=e.branches?e.branches:[],M=e.statuses?e.statuses:[],z=e.locationMaps?e.locationMaps:[],_=e.users?e.users:[],W=e.permissions?e.permissions:{};e.makerEmail&&e.makerEmail;function V(e){return(0,L.jsxs)("ul",{style:{listStyleType:"none",margin:0,padding:0,overflow:"hidden",display:"flex",justifyContent:"center"},children:[e.hasQuickQcr&&(0,L.jsx)("li",{style:{float:"left",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"top",title:"Quick OCR Enabled",children:(0,L.jsx)("i",{className:"fas fa-search text-dark bg-warning p-1 mr-1 rounded",placeholder:"Quick OCR"})}),e.hasEncryption&&(0,L.jsx)("li",{style:{float:"left",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"top",title:"Encryption Enabled",children:(0,L.jsx)("i",{className:"fas fa-lock text-dark bg-warning p-1 mr-1 rounded",placeholder:"Encryption"})}),e.hasOtp&&(0,L.jsx)("li",{style:{float:"left",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"top",title:"OTP Verification Enabled",children:(0,L.jsx)("i",{className:"fas fa-envelope text-dark bg-warning p-1 mr-1 rounded",placeholder:"OTP Verification"})})]})}return(0,L.jsxs)(x.A,{className:"shadow",children:[(0,L.jsxs)(j.A,{children:[(0,L.jsx)("p",{className:"h5",children:e.title}),null!==W&&void 0!==W&&W.maker?(0,L.jsxs)(l.Link,{to:h.A.documentsAdd,className:"btn-header btn btn-outline-dark btn-sm border-dark border",children:[(0,L.jsx)("i",{className:"fa fa-plus"})," Add Document"]}):null]}),(0,L.jsx)(b.A,{children:(0,L.jsxs)(g.A,{responsive:!0,bordered:!0,hover:!0,id:"toExcel",children:[(0,L.jsx)("thead",{className:"table-active",children:(0,L.jsxs)("tr",{children:[(0,L.jsx)("th",{scope:"col",children:"Doc Type"}),(0,L.jsx)("th",{scope:"col",children:"Department"}),(0,L.jsx)("th",{scope:"col",children:"Branch"}),(0,k.onlyForThisVendor)("bok")&&(0,L.jsx)("th",{scope:"col",onClick:()=>E("name"),children:"Account Number"}),(0,L.jsx)("th",{scope:"col",onClick:()=>E("otherTitle"),children:"Document Name"}),(0,L.jsx)("th",{scope:"col",children:"Status"}),e.fromRejectedListTable&&(0,L.jsx)("th",{scope:"col",children:"Message"}),(0,L.jsx)("th",{scope:"col",children:"Location"}),(0,L.jsx)("th",{scope:"col",children:"Created By"}),e.fromPendingListTable?(0,L.jsx)("th",{scope:"col",children:"Assigned To"}):e.fromRejectedListTable?(0,L.jsx)("th",{scope:"col",children:"Rejected By"}):(0,L.jsx)("th",{scope:"col",children:"Created At"}),e.fromPendingListTable||e.fromRejectedListTable?(0,L.jsx)("th",{scope:"col",children:"Created At"}):(0,L.jsx)("th",{scope:"col",children:"Approved At"}),e.fromRejectedListTable&&(0,L.jsx)("th",{scope:"col",children:" Rejected At"}),(e.showControl||e.restorePermission)&&(0,L.jsx)("th",{scope:"col",children:"Action"}),e.fromRejectedListTable&&(0,L.jsx)("th",{scope:"col",children:"Action"})]})}),(0,L.jsx)("tbody",{children:null===e||void 0===e||null===(t=e.documentList)||void 0===t?void 0:t.map(((t,r)=>{const s=(0,m._W)(O,t.documentTypeId),a=(0,m._W)(M,t.statusId),o=(0,m._W)(z,t.locationMapId),c=(0,m._W)(I,t.departmentId),i=(0,m._W)(F,t.branchId),x=(0,m._W)(_,t.createdBy),j=(0,m._W)(_,t.assignTo);return console.log(t,"row is here"),(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"text-break",children:s||t.DocumentType?s||t.DocumentType:(0,L.jsx)(D.A,{style:{fontSize:"1rem",textAlign:"center",color:"#ccc"}})}),(0,L.jsx)("td",{className:"text-break",style:{textAlign:"center"},children:c||t.Department?c||t.Department:(0,L.jsx)(D.A,{style:{fontSize:"1rem",textAlign:"center",color:"#ccc"}})}),(0,L.jsx)("td",{className:"text-break",style:{textAlign:"center"},children:i||t.Branch?i||t.Branch:(0,L.jsx)(D.A,{style:{fontSize:"1rem",textAlign:"center",color:"#ccc"}})})," ",(0,k.onlyForThisVendor)("bok")&&(0,L.jsx)("td",{className:"text-break",children:t.name||t.OrganizationName}),(0,L.jsx)("td",{onMouseOver:()=>w(!0),onMouseOut:()=>w(!1),children:(0,L.jsx)(l.Link,{className:"text-break",to:h.A.documentsView+"?i="+u.A.getHash(t.id),children:t.otherTitle||t.DocumentName})}),(0,L.jsxs)("td",{className:"text-break",style:{textAlign:"center",display:"flex",flexDirection:"column"},children:[V(t),(0,L.jsx)("span",{className:"mt-2",children:null!==t&&void 0!==t&&t.returnedByChecker?(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-danger rounded p-1",children:"Rejected"}):(0,L.jsx)(L.Fragment,{children:function(e){switch((null===e||void 0===e?void 0:e.DocumentStatus)||(null===e||void 0===e?void 0:e.statusId)){case"Active":case 1:return(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-success",children:a||e.DocumentStatus});case"Suspended":case 2:return(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-secondary",children:a||e.DocumentStatus});case"checked out":case 3:return(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-dark",children:a||e.DocumentStatus})}}(t)})})]}),e.fromRejectedListTable&&(0,L.jsx)("td",{children:(W.approver||W.checker)&&t.returnedByApprover&&!t.returnedByChecker?(0,L.jsx)("span",{className:"text-break text-center",children:null===t||void 0===t?void 0:t.rejectionMessageByApprover}):((W.approver||W.checker)&&t.returnedByApprover&&t.returnedByChecker,(0,L.jsx)("span",{className:"text-break text-center",children:null===t||void 0===t?void 0:t.rejectionMessageByChecker}))}),(0,L.jsx)("td",{className:"text-break",style:{textAlign:"center"},children:o||t.locationMap?o||t.locationMap:(0,L.jsx)(D.A,{style:{fontSize:"1rem",color:"#ccc"}})}),(0,L.jsxs)("td",{className:"text-break d-flex flex-column text-center",children:[x||t.username,e.fromPendingListTable?(0,L.jsx)(L.Fragment,{children:W.maker&&t.madeBy}):(t.returnedByApprover||t.returnedByChecker)&&W.maker?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("span",{children:t.madeBy?t.madeBy:"CONFIDENTIAL"})," "]}):null]}),e.fromRejectedListTable&&(0,L.jsx)("td",{className:"text-break text-center",children:(null===t||void 0===t?void 0:t.rejectedByEmail)||"Not Available"}),e.fromPendingListTable&&(0,L.jsx)("td",{style:{textAlign:"center"},children:(0,L.jsx)("span",{style:{textAlign:"center"},children:j||t.assignTo?(0,L.jsxs)(L.Fragment,{children:[j||t.assignTo.split("(")[0]," ",(0,L.jsx)("br",{}),(0,L.jsx)("span",{className:"rounded p-1 badge badge-pill badge-secondary",children:`(${j||t.assignTo.split("(")[1]}`})]}):(0,L.jsx)("p",{children:"Not Found"})})}),e.restorePermission&&t.isDeleted&&(0,L.jsx)("td",{children:(0,L.jsx)(p.A,{permission:W.restore,onClick:()=>e.restoreDocument(t.id),buttonType:"restore"})}),(0,L.jsx)("td",{className:"text-center",children:t.createdAt?new Date(t.createdAt).toLocaleString():""}),!e.fromPendingListTable&&(0,L.jsx)("td",{className:"text-center",children:t.updatedAt?new Date(t.updatedAt).toLocaleString():""}),e.fromRejectedListTable&&(0,L.jsx)("td",{children:W.checker||W.approver?(0,L.jsx)(p.A,{permission:W.checker||W.approver,buttonType:"view",to:`${h.A.documentsView}?i=${u.A.getHash(t.id)}`}):null!==t&&void 0!==t&&t.returnedByChecker?(0,L.jsx)(n.A,{className:"badge badge-primary p-2 bg-blue-200 text-blue-600",onClick:()=>e.resubmitDocumentHandler(t.id),children:"Resubmit"}):null}),e.showControl&&(0,L.jsxs)("td",{children:[e.fromPendingListTable&&t.isUserChecker?"Approval Pending":null,(W.document===d.Xd||W.document===d.gR||W.document===d.n7)&&!(null!==t&&void 0!==t&&t.isUserChecker)&&(0,L.jsxs)(L.Fragment,{children:[e.approveDocument&&(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(p.A,{permission:W.checker||W.approver,buttonType:"view",to:h.A.documentsView+"?i="+u.A.getHash(t.id)})}),!e.fromPendingListTable&&!t.isDeleted&&(0,L.jsx)(p.A,{to:h.A.documentsEdit+"?i="+u.A.getHash(t.id),permission:W.document,buttonType:"edit"})]}),e.deleteDocument&&W.document===d.n7&&!t.isDeleted&&(0,L.jsx)("div",{children:(0,L.jsx)(p.A,{permission:W.document,onClick:()=>e.deleteDocument(t.id),buttonType:"delete"})})]})]},r)}))})]})}),(0,L.jsx)(f.A,{className:"bg-white",children:(0,L.jsxs)(a.A,{children:[(0,L.jsx)(o.A,{children:(0,L.jsx)(c.A,{count:parseInt(Math.ceil(e.totalDocuments/B)),onChange:e.handleChangePage,shape:"rounded",page:e.pageNumber})}),(0,L.jsx)(o.A,{children:(0,L.jsxs)("div",{className:"float-right mt-2 d-flex align-items-center",children:[(0,L.jsx)("p",{className:"mb-0 mr-2",children:"Items Per Page"}),(0,L.jsx)(y.A,{children:(0,L.jsxs)(v.A,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:e.docLimit,onChange:t=>{e.dispatch((0,A.wU)(t.target.value))},className:"form-control rounded",children:[(0,L.jsx)(N.A,{value:5,children:"5"}),(0,L.jsx)(N.A,{value:10,children:"10"}),(0,L.jsx)(N.A,{value:20,children:"20"})]})}),(0,L.jsxs)("p",{className:"mb-0 ml-2",children:["Total Documents :",(0,L.jsx)("b",{className:"mr-2",children:e.totalDocuments})," Page :",(0,L.jsxs)("b",{children:[" ",e.pageNumber]})]}),(0,k.includeThisFeature)(k.dms_features.DOWNLOAD_REPORT)&&(0,L.jsx)(T.A,{id:"toExcel-button",className:"btn btn-sm ml-2 btn-primary text-white float-right",table:"toExcel",filename:"documents",sheet:"tablexls",buttonText:"Download Report"})]})})]})})]})}))},89967:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(89379),n=r(65043);const a={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var o=r(22172),c=function(e,t){return n.createElement(o.A,(0,s.A)((0,s.A)({},e),{},{ref:t,icon:a}))};const l=n.forwardRef(c)},90284:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(58168),n=r(65043),a=r(59135),o=r(70579);let c=!1;const l=n.forwardRef((function(e,t){return c||(console.warn(["MUI: The Pagination component was moved from the lab to the core.","","You should use `import { Pagination } from '@mui/material'`","or `import Pagination from '@mui/material/Pagination'`"].join("\n")),c=!0),(0,o.jsx)(a.A,(0,s.A)({ref:t},e))}))},96369:(e,t,r)=>{function s(e){if(Array.isArray(e))return e}r.d(t,{A:()=>s})},76562:(e,t,r)=>{function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{A:()=>s})},80045:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(98587);function n(e,t){if(null==e)return{};var r,n,a=(0,s.A)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}},5544:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(96369);var n=r(27800),a=r(76562);function o(e,t){return(0,s.A)(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,o,c=[],l=!0,i=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(s=a.call(r)).done)&&(c.push(s.value),c.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(i)throw n}}return c}}(e,t)||(0,n.A)(e,t)||(0,a.A)()}}}]);
//# sourceMappingURL=4285.023b4250.chunk.js.map