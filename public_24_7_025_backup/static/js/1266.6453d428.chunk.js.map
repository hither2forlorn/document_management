{"version":3,"file":"static/js/1266.6453d428.chunk.js","mappings":"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","sources":["admin/views/AdminComponent.js","admin/views/DocumentTypes/AddDocumentType.js","admin/views/DocumentTypes/api.js","admin/views/Util/preventWhitespaceAtFirst.js","utils/textCapital.js"],"sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction AdminComponent({ children, userProfile }) {\r\n  return <>{userProfile.id === 1 || userProfile.hierarchy === \"Super-001\" ? children : null}</>;\r\n}\r\n\r\nexport default connect((state) => ({\r\n  userProfile: state.userProfile,\r\n}))(AdminComponent);\r\n","import React from \"react\";\r\nimport { addDocumentType } from \"./api\";\r\nimport { getFormData } from \"config/form\";\r\nimport { connect } from \"react-redux\";\r\nimport { loadAllFields } from \"redux/actions/apiAction\";\r\nimport { toast } from \"react-toastify\";\r\nimport metaRoutes from \"config/meta_routes\";\r\nimport CustomCancel from \"admin/components/CustomCancel\";\r\nimport CustomSubmit from \"admin/components/CustomSubmit\";\r\nimport { Card, CardBody, CardHeader, Row, Col, CardFooter, Input, Label, Form, FormGroup } from \"reactstrap\";\r\nimport { banks, dms_features, includeThisFeature, onlyForThisVendor } from \"config/bank\";\r\nimport { CustomSelect } from \"admin/components\";\r\nimport titleCase from \"utils/textCapital\";\r\nimport Required from \"admin/components/Required\";\r\nimport { filter_hierarchies } from \"utils/arrayManipulation\";\r\nimport AdminComponent from \"../AdminComponent\";\r\nimport { preventWhitespaceAtFirst } from \"../Util/preventWhitespaceAtFirst\";\r\n\r\nclass AddDocumentType extends React.Component {\r\n  state = {\r\n    documentTypes: [],\r\n    isDisabled: false,\r\n    capitalName: \"\",\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const formData = getFormData(event);\r\n    const parent = this?.state?.documentTypes?.filter((item) => {\r\n      if (item.id === Number(formData.parentId)) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    })[0];\r\n    if (parent) {\r\n      formData[\"level\"] = parent.level + 1;\r\n    } else {\r\n      formData[\"level\"] = 0;\r\n    }\r\n    addDocumentType(formData, (err, data) => {\r\n      if (err) {\r\n        return toast.error(err.response.data.data.name[0]);\r\n      }\r\n\r\n      if (data.success) {\r\n        toast.success(data.message);\r\n        this.props.history.push(metaRoutes.adminDocumentTypes);\r\n        this.props.dispatch(loadAllFields());\r\n        this.setState({ isDisabled: true });\r\n      } else {\r\n        toast.warn(data.message);\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState(this.props.allFields);\r\n  }\r\n\r\n  render() {\r\n    const hierarchies = this.props.allFields.hierarchy;\r\n    const filteredHierarchies = hierarchies?.filter((h) => h.name !== \"Branch\");\r\n\r\n    return (\r\n      <Card className=\"shadow\">\r\n        <CardHeader>\r\n          <Row>\r\n            <Col>\r\n              <i className=\"fa fa-file mr-1\" /> Add Document Type\r\n            </Col>\r\n          </Row>\r\n        </CardHeader>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <CardBody>\r\n            <FormGroup>\r\n              <Row>\r\n                <Col md={4}>\r\n                  <Label>Name:</Label>\r\n                  <Required />\r\n                </Col>\r\n\r\n                <Col md={8}>\r\n                  <Input\r\n                    className=\"rounded \"\r\n                    name=\"name\"\r\n                    onInput={(e) => preventWhitespaceAtFirst(e.target)}\r\n                    id=\"name\"\r\n                    required\r\n                    value={this.state.capitalName}\r\n                    onChange={(e) => this.setState({ capitalName: titleCase(e.target.value) })}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Row>\r\n                <Col md={4}>\r\n                  <Label>Parent Category</Label>\r\n                </Col>\r\n                <Col md={8}>\r\n                  <Input className=\"rounded\" type=\"select\" name=\"parentId\" id=\"parentId\">\r\n                    <option value=\"\">--- NONE ---</option>\r\n                    {this.state.documentTypes?.map((row) => {\r\n                      let padding = \"\";\r\n                      let level = row.level;\r\n                      while (level-- > 0) {\r\n                        padding += \"---\";\r\n                      }\r\n                      return (\r\n                        <option key={row.id} value={row.id}>\r\n                          {padding + \" \" + row.name}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </Input>\r\n                </Col>\r\n              </Row>\r\n            </FormGroup>\r\n            {includeThisFeature(dms_features.ASSOCIATED_IDS) && (\r\n              <FormGroup>\r\n                <Row>\r\n                  <Col md={4}>\r\n                    <Label>Associate ID</Label>\r\n                  </Col>\r\n                  <Col md={8}>\r\n                    <Input className=\"rounded\" type=\"select\" name=\"isAssociatedIDReq\" id=\"isAssociatedIDReq\">\r\n                      <option value=\"\">--- NONE ---</option>\r\n                      <option value={true}>Required</option>\r\n                      <option value={false}>Optional</option>\r\n                    </Input>\r\n                  </Col>\r\n                </Row>\r\n              </FormGroup>\r\n            )}\r\n\r\n            {/* hierarchies admin */}\r\n            <AdminComponent>\r\n              <FormGroup>\r\n                <Row>\r\n                  <Col md={4}>\r\n                    <Label>Hierarchy</Label>\r\n                    {/* <Required /> */}\r\n                  </Col>\r\n                  <Col md={8}>\r\n                    <CustomSelect\r\n                      // label=\"Security Hierarchy\"\r\n                      name=\"hierarchy\"\r\n                      options={filteredHierarchies}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </FormGroup>\r\n            </AdminComponent>\r\n          </CardBody>\r\n          <CardFooter className=\"d-flex justify-content-end\">\r\n            <CustomCancel onClick={() => window.history.back()} />\r\n            <CustomSubmit isDisabled={this.state.isDisabled} />\r\n          </CardFooter>\r\n        </Form>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({\r\n  allFields: state.allFields,\r\n  userProfile: state.userProfile,\r\n}))(AddDocumentType);\r\n","// import A from \"./Util\";\r\nimport { server } from \"admin/config/server\";\r\nconst url = \"/document-type\";\r\n\r\nfunction addDocumentType(body, callback) {\r\n  server\r\n    .post(`${url}`, body)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getDocumentTypes(callback) {\r\n  server\r\n    .get(`${url}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction editDocumentType(body, callback) {\r\n  server\r\n    .put(`${url}`, body)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getDocumentType(id, callback) {\r\n  server\r\n    .get(`${url}/${id}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction deleteDocumentType(id, callback) {\r\n  server\r\n    .delete(`${url}/${id}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nexport { addDocumentType, getDocumentTypes, editDocumentType, getDocumentType, deleteDocumentType };\r\n","export const preventWhitespaceAtFirst = (str) => {\r\n  if (/^\\s/.test(str.value)) str.value = \"\";\r\n};\r\n","export default function titleCase(text) {\r\n  return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n"],"names":["connect","state","userProfile","_ref","children","_jsx","_Fragment","id","hierarchy","AddDocumentType","React","constructor","arguments","documentTypes","isDisabled","capitalName","handleSubmit","event","_this$state","_this$state$documentT","preventDefault","formData","getFormData","parent","this","filter","item","Number","parentId","level","addDocumentType","err","data","toast","error","response","name","success","message","props","history","push","metaRoutes","adminDocumentTypes","dispatch","loadAllFields","setState","warn","componentDidMount","allFields","render","_this$state$documentT2","hierarchies","filteredHierarchies","h","_jsxs","Card","className","CardHeader","Row","Col","Form","onSubmit","CardBody","FormGroup","md","Label","Required","Input","onInput","e","preventWhitespaceAtFirst","target","required","value","onChange","titleCase","type","map","row","padding","includeThisFeature","dms_features","ASSOCIATED_IDS","AdminComponent","CustomSelect","options","CardFooter","CustomCancel","onClick","window","back","CustomSubmit","url","body","callback","server","post","then","catch","getDocumentTypes","get","editDocumentType","put","getDocumentType","deleteDocumentType","delete","str","test","text","charAt","toUpperCase","slice"],"sourceRoot":""}