"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[1250],{35665:(e,t,o)=>{o.r(t),o.d(t,{default:()=>N});var n=o(65043),r=o(91656),s=o(75304),i=o(38477),a=o(25852),l=o(44864),c=o(62582),d=o(58441),p=o(80231),u=o(70579);class f extends n.Component{constructor(e){super(e),this.state={editButtonShow:!1},this.getDocumentTypeChildren=this.getDocumentTypeChildren.bind(this),this.toggleChildren=this.toggleChildren.bind(this)}toggleChildren(e){const t="cursor-pointer"+e,o=document.getElementsByClassName(t);for(let n=0;n<o.length;n++){const e=o[n];"none"===e.style.display?e.style.display="block":e.style.display="none"}}getDocumentTypeChildren(e){const t=this.props.documentTypes;let o=[];return(null===t||void 0===t?void 0:t.filter((t=>t.parentId===e?1:0))).forEach(((e,t)=>{o.push((0,u.jsxs)("div",{className:"cursor-pointer"+e.parentId,style:{marginLeft:20*e.level,cursor:"pointer",display:"none"},onMouseOver:()=>this.setState({editButtonShow:!0}),onMouseOut:()=>this.setState({editButtonShow:!1}),children:[(0,u.jsx)("i",{className:"fa fa-angle-down mr-2",onClick:()=>this.toggleChildren(e.id)}),(0,u.jsxs)("span",{onClick:()=>this.props.onFilter(e.id)&this.toggleChildren(e.id),children:[(0,u.jsx)("i",{className:"fa fa-folder-o mr-2"}),e.name+" ",(0,u.jsx)(c.Link,{to:p.A.adminDocumentTypesEdit+"?i="+d.A.getHash(e.id),style:{display:this.state.editButtonShow?"inline":"none",cursor:this.state.editButtonShow?"pointer":"none"},children:"[EDIT]"})]}),(0,u.jsx)("br",{}),this.getDocumentTypeChildren(e.id)]},t))})),o}render(){var e;return(0,u.jsxs)(s.A,{className:"shadow",children:[(0,u.jsx)(i.A,{children:(0,u.jsxs)(a.A,{children:[(0,u.jsxs)("p",{className:"h5",children:[(0,u.jsx)("i",{className:"fas fa-folder mr-1"}),"Document Type Tree"]}),(0,u.jsx)("span",{style:{cursor:"pointer"},onClick:()=>this.props.onFilter(null),className:"btn-header btn btn-outline-dark btn-sm border-dark border",children:(0,u.jsx)("i",{className:"fa fa-refresh"})})]})}),(0,u.jsx)(l.A,{children:null===(e=this.props.documentTypes)||void 0===e?void 0:e.map(((e,t)=>0===e.level?(0,u.jsxs)("div",{id:"cursor-pointer",className:"cursor-pointer",style:{marginLeft:20*e.level,cursor:"pointer"},onMouseOver:()=>this.setState({editButtonShow:!0}),onMouseOut:()=>this.setState({editButtonShow:!1}),children:[(0,u.jsx)("i",{className:"fa fa-caret-down mr-2",onClick:()=>this.toggleChildren(e.id)}),(0,u.jsxs)("span",{onClick:()=>this.props.onFilter(e.id)&this.toggleChildren(e.id),children:[(0,u.jsx)("i",{className:"fa fa-folder-o mr-2"}),e.name+" ",(0,u.jsx)(c.Link,{to:p.A.adminDocumentTypesEdit+"?i="+d.A.getHash(e.id),style:{display:this.state.editButtonShow?"inline":"none",cursor:this.state.editButtonShow?"pointer":"none"},children:"[EDIT]"})]}),(0,u.jsx)("br",{}),this.getDocumentTypeChildren(e.id)]},t):null))})]})}}var h=o(18039),m=o(97508),v=o(46759),y=(o(10577),o(11594)),b=o(58472),g=o(56332),A=o(16742);class w extends n.Component{constructor(){super(),this.state={showHierarchy:!1}}render(){var e,t;const o=this.props.permissions||{};return(0,u.jsxs)(s.A,{className:"shadow",children:[(0,u.jsxs)(i.A,{children:[(0,u.jsx)("p",{className:"h5",children:"Document Type List"}),o.documentType===h.Xd||o.documentType===h.n7?(0,u.jsxs)(c.Link,{to:p.A.adminDocumentTypesAdd,className:"btn-header btn btn-outline-dark btn-sm border-dark border",children:[(0,u.jsx)("i",{className:"fa fa-plus"}),"Document Type"]}):null]}),(0,u.jsx)(l.A,{children:(0,u.jsxs)(b.A,{responsive:!0,bordered:!0,hover:!0,children:[(0,u.jsx)("thead",{className:"table-active",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Id"}),(0,u.jsx)("th",{children:"Name"}),(0,u.jsx)("th",{children:"Created By"}),(0,u.jsx)("th",{children:"Created"}),(0,u.jsx)("th",{children:"Modified"}),(0,u.jsx)("th",{style:{width:"150px"},children:"Actions"})]})}),(0,u.jsx)("tbody",{children:null===(e=this.props)||void 0===e||null===(t=e.documentTypesOnTable)||void 0===t?void 0:t.map((e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:e.id}),(0,u.jsx)("td",{onMouseOver:()=>this.setState({showHierarchy:!0}),onMouseOut:()=>this.setState({showHierarchy:!1}),children:(0,u.jsx)(g.A,{placement:"right",title:(0,A.A)(this.props.allFields.hierarchy,e.hierarchy),children:e.name})}),(0,u.jsx)("td",{children:(0,v._W)(this.props.users,e.createdBy)}),(0,u.jsx)("td",{children:new Date(e.createdAt).toDateString()}),(0,u.jsx)("td",{children:new Date(e.updatedAt).toDateString()}),(0,u.jsxs)("td",{children:[o.documentType===h.Xd||o.documentType===h.n7?(0,u.jsx)(y.A,{to:p.A.adminDocumentTypesEdit+"?i="+d.A.getHash(e.id),buttonType:"edit",permission:o.documentType}):null,(0,u.jsx)(y.A,{onClick:()=>this.props.deleteDocumentType(e.id),permission:o.documentType,buttonType:"delete"})]})]},e.id)))})]})})]})}}const j=(0,m.Ng)((e=>({users:e.allFields.users,allFields:e.allFields})))(w);var x=o(37519),T=o(28096),C=o(13718);class O extends n.Component{constructor(e){super(e),this.state={documentTypes:[],documentTypesOnTable:[]},this.deleteDocumentType=e=>{window.confirm("Are you sure, you want to delete?")&&(0,r.LC)(e,((e,t)=>{e&&this.history.push(p.A.adminDocumentTypes),t.success?(this.updateData(),T.oR.success("Successful!"),this.props.dispatch((0,x.Ni)())):T.oR.error(t.message)}))},this.updateData=()=>{(0,r.ph)(((e,t)=>{e||t.success&&this.setState({documentTypes:t.data},(()=>{this.onFilter(null)}))}))},this.onFilter=this.onFilter.bind(this)}onFilter(e){var t;const o=null===(t=this.props.documentTypes)||void 0===t?void 0:t.filter((t=>t.parentId===e?1:0));this.setState({documentTypesOnTable:o})}componentDidMount(){this.updateData()}renderItems(){return(0,u.jsxs)(a.A,{children:[(0,u.jsx)(C.A,{md:4,children:(0,u.jsx)(f,{documentTypes:this.props.documentTypes,onFilter:this.onFilter,...this.props})}),(0,u.jsxs)(C.A,{md:8,className:"pl-3 pl-md-0",children:[" ",(0,u.jsx)(j,{documentTypesOnTable:this.state.documentTypesOnTable,deleteDocumentType:this.deleteDocumentType,...this.props})]})]})}render(){return this.renderItems()}}const N=(0,m.Ng)((e=>({users:e.allFields.users,documentTypes:e.allFields.documentTypes})))(O)},91656:(e,t,o)=>{o.d(t,{K7:()=>l,LC:()=>c,Mp:()=>a,NO:()=>s,ph:()=>i});var n=o(76400);const r="/document-type";function s(e,t){n.E8.post(`${r}`,e).then((e=>{t(null,e.data)})).catch((e=>{t(e)}))}function i(e){n.E8.get(`${r}`).then((t=>{e(null,t.data)})).catch((t=>{e(t)}))}function a(e,t){n.E8.put(`${r}`,e).then((e=>{t(null,e.data)})).catch((e=>{t(e)}))}function l(e,t){n.E8.get(`${r}/${e}`).then((e=>{t(null,e.data)})).catch((e=>{t(e)}))}function c(e,t){n.E8.delete(`${r}/${e}`).then((e=>{t(null,e.data)})).catch((e=>{t(e)}))}},16742:(e,t,o)=>{o.d(t,{A:()=>n});const n=function(e,t){const o=[];if(!t)return;const n=e.filter((e=>e.code===t));var r;return n.length>0?(null!==(null===(r=n[0])||void 0===r?void 0:r.parentId)&&void 0!==n[0]&&e.forEach((e=>{e.id===n[0].parentId&&o.push(e.name)})),o.push(n[0].name),o.toString().replace(","," --\x3e ")):void 0}},56332:(e,t,o)=>{o.d(t,{A:()=>P});var n=o(64467),r=o(5544),s=o(58168),i=o(98139),a=o.n(i),l=o(82284),c=o(89379),d=o(80045),p=o(65043),u=o(30175),f={adjustX:1,adjustY:1},h=[0,0],m={left:{points:["cr","cl"],overflow:f,offset:[-4,0],targetOffset:h},right:{points:["cl","cr"],overflow:f,offset:[4,0],targetOffset:h},top:{points:["bc","tc"],overflow:f,offset:[0,-4],targetOffset:h},bottom:{points:["tc","bc"],overflow:f,offset:[0,4],targetOffset:h},topLeft:{points:["bl","tl"],overflow:f,offset:[0,-4],targetOffset:h},leftTop:{points:["tr","tl"],overflow:f,offset:[-4,0],targetOffset:h},topRight:{points:["br","tr"],overflow:f,offset:[0,-4],targetOffset:h},rightTop:{points:["tl","tr"],overflow:f,offset:[4,0],targetOffset:h},bottomRight:{points:["tr","br"],overflow:f,offset:[0,4],targetOffset:h},rightBottom:{points:["bl","br"],overflow:f,offset:[4,0],targetOffset:h},bottomLeft:{points:["tl","bl"],overflow:f,offset:[0,4],targetOffset:h},leftBottom:{points:["br","bl"],overflow:f,offset:[-4,0],targetOffset:h}};function v(e){var t=e.showArrow,o=e.arrowContent,n=e.children,r=e.prefixCls,s=e.id,i=e.overlayInnerStyle,l=e.className,c=e.style;return p.createElement("div",{className:a()("".concat(r,"-content"),l),style:c},!1!==t&&p.createElement("div",{className:"".concat(r,"-arrow"),key:"arrow"},o),p.createElement("div",{className:"".concat(r,"-inner"),id:s,role:"tooltip",style:i},"function"===typeof n?n():n))}var y=function(e,t){var o=e.overlayClassName,n=e.trigger,r=void 0===n?["hover"]:n,i=e.mouseEnterDelay,a=void 0===i?0:i,f=e.mouseLeaveDelay,h=void 0===f?.1:f,y=e.overlayStyle,b=e.prefixCls,g=void 0===b?"rc-tooltip":b,A=e.children,w=e.onVisibleChange,j=e.afterVisibleChange,x=e.transitionName,T=e.animation,C=e.motion,O=e.placement,N=void 0===O?"right":O,S=e.align,D=void 0===S?{}:S,E=e.destroyTooltipOnHide,k=void 0!==E&&E,I=e.defaultVisible,P=e.getTooltipContainer,B=e.overlayInnerStyle,L=e.arrowContent,R=e.overlay,F=e.id,M=e.showArrow,V=(0,d.A)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),_=(0,p.useRef)(null);(0,p.useImperativeHandle)(t,(function(){return _.current}));var H=(0,c.A)({},V);"visible"in e&&(H.popupVisible=e.visible);var $=!1,z=!1;if("boolean"===typeof k)$=k;else if(k&&"object"===(0,l.A)(k)){var W=k.keepParent;$=!0===W,z=!1===W}return p.createElement(u.A,(0,s.A)({popupClassName:o,prefixCls:g,popup:function(){return p.createElement(v,{showArrow:M,arrowContent:L,key:"content",prefixCls:g,id:F,overlayInnerStyle:B},R)},action:r,builtinPlacements:m,popupPlacement:N,ref:_,popupAlign:D,getPopupContainer:P,onPopupVisibleChange:w,afterPopupVisibleChange:j,popupTransitionName:x,popupAnimation:T,popupMotion:C,defaultPopupVisible:I,destroyPopupOnHide:$,autoDestroy:z,mouseLeaveDelay:h,popupStyle:y,mouseEnterDelay:a},H),A)};const b=(0,p.forwardRef)(y);var g=o(28678),A=o(35296),w=o(29592),j=((0,w.P)("success","processing","error","default","warning"),(0,w.P)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),x=o(60909),T={adjustX:1,adjustY:1},C={adjustX:0,adjustY:0},O=[0,0];function N(e){return"boolean"===typeof e?e?T:C:(0,s.A)((0,s.A)({},C),e)}var S=o(12701),D=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o},E=new RegExp("^(".concat(j.join("|"),")(-inverse)?$"));function k(e,t){var o=e.type;if((!0===o.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===o.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===o.__ANT_RADIO&&e.props.disabled){var n=function(e,t){var o={},n=(0,s.A)({},e);return t.forEach((function(t){e&&t in e&&(o[t]=e[t],delete n[t])})),{picked:o,omitted:n}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),r=n.picked,i=n.omitted,l=(0,s.A)((0,s.A)({display:"inline-block"},r),{cursor:"not-allowed",width:e.props.block?"100%":void 0}),c=(0,s.A)((0,s.A)({},i),{pointerEvents:"none"}),d=(0,S.Ob)(e,{style:c,className:null});return p.createElement("span",{style:l,className:a()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},d)}return e}var I=p.forwardRef((function(e,t){var o=p.useContext(A.QO),i=o.getPopupContainer,l=o.getPrefixCls,c=o.direction;var d=(0,g.A)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),u=(0,r.A)(d,2),f=u[0],h=u[1],v=function(){var t=e.title,o=e.overlay;return!t&&!o&&0!==t},y=function(){var t=e.builtinPlacements,o=e.arrowPointAtCenter,n=void 0!==o&&o,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,o=void 0===t?4:t,n=e.horizontalArrowShift,r=void 0===n?16:n,i=e.verticalArrowShift,a=void 0===i?8:i,l=e.autoAdjustOverflow,c=e.arrowPointAtCenter,d={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(r+o),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+o)]},topRight:{points:["br","tc"],offset:[r+o,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+o)]},bottomRight:{points:["tr","bc"],offset:[r+o,4]},rightBottom:{points:["bl","cr"],offset:[4,a+o]},bottomLeft:{points:["tl","bc"],offset:[-(r+o),4]},leftBottom:{points:["br","cl"],offset:[-4,a+o]}};return Object.keys(d).forEach((function(e){d[e]=c?(0,s.A)((0,s.A)({},d[e]),{overflow:N(l),targetOffset:O}):(0,s.A)((0,s.A)({},m[e]),{overflow:N(l)}),d[e].ignoreShake=!0})),d}({arrowPointAtCenter:n,autoAdjustOverflow:void 0===r||r})},w=e.getPopupContainer,j=e.placement,T=void 0===j?"top":j,C=e.mouseEnterDelay,I=void 0===C?.1:C,P=e.mouseLeaveDelay,B=void 0===P?.1:P,L=D(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay"]),R=e.prefixCls,F=e.openClassName,M=e.getTooltipContainer,V=e.overlayClassName,_=e.color,H=e.overlayInnerStyle,$=e.children,z=l("tooltip",R),W=l(),X=f;"open"in e||"visible"in e||!v()||(X=!1);var Y=k((0,S.zO)($)&&!(0,S.zv)($)?$:p.createElement("span",null,$),z),q=Y.props,K=q.className&&"string"!==typeof q.className?q.className:a()(q.className,(0,n.A)({},F||"".concat(z,"-open"),!0)),Q=a()(V,(0,n.A)((0,n.A)({},"".concat(z,"-rtl"),"rtl"===c),"".concat(z,"-").concat(_),_&&E.test(_))),U=H,G={};return _&&!E.test(_)&&(U=(0,s.A)((0,s.A)({},H),{background:_}),G={"--antd-arrow-background-color":_}),p.createElement(b,(0,s.A)({},L,{placement:T,mouseEnterDelay:I,mouseLeaveDelay:B,prefixCls:z,overlayClassName:Q,getTooltipContainer:w||M||i,ref:t,builtinPlacements:y(),overlay:function(){var t=e.title,o=e.overlay;return 0===t?t:o||t||""}(),visible:X,onVisibleChange:function(t){var o,n;h(!v()&&t),v()||(null===(o=e.onOpenChange)||void 0===o||o.call(e,t),null===(n=e.onVisibleChange)||void 0===n||n.call(e,t))},onPopupAlign:function(e,t){var o=y(),n=Object.keys(o).find((function(e){var n,r;return o[e].points[0]===(null===(n=t.points)||void 0===n?void 0:n[0])&&o[e].points[1]===(null===(r=t.points)||void 0===r?void 0:r[1])}));if(n){var r=e.getBoundingClientRect(),s={top:"50%",left:"50%"};/top|Bottom/.test(n)?s.top="".concat(r.height-t.offset[1],"px"):/Top|bottom/.test(n)&&(s.top="".concat(-t.offset[1],"px")),/left|Right/.test(n)?s.left="".concat(r.width-t.offset[0],"px"):/right|Left/.test(n)&&(s.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(s.left," ").concat(s.top)}},overlayInnerStyle:U,arrowContent:p.createElement("span",{className:"".concat(z,"-arrow-content"),style:G}),motion:{motionName:(0,x.by)(W,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),X?(0,S.Ob)(Y,{className:K}):Y)}));const P=I},52931:(e,t,o)=>{function n(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}o.d(t,{A:()=>n})},23739:(e,t,o)=>{function n(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var o=t;o;){if(o===e)return!0;o=o.parentNode}return!1}o.d(t,{A:()=>n})},97907:(e,t,o)=>{o.d(t,{$e:()=>s,Ay:()=>c});var n={},r=[];function s(e,t){}function i(e,t){}function a(e,t,o){t||n[o]||(e(!1,o),n[o]=!0)}function l(e,t){a(s,e,t)}l.preMessage=function(e){r.push(e)},l.resetWarned=function(){n={}},l.noteOnce=function(e,t){a(i,e,t)};const c=l},58472:(e,t,o)=>{o.d(t,{A:()=>h});var n=o(58168),r=o(98587),s=o(65043),i=o(65173),a=o.n(i),l=o(98139),c=o.n(l),d=o(62373),p=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],u={className:a().string,cssModule:a().object,size:a().string,bordered:a().bool,borderless:a().bool,striped:a().bool,dark:a().bool,hover:a().bool,responsive:a().oneOfType([a().bool,a().string]),tag:d.Wx,responsiveTag:d.Wx,innerRef:a().oneOfType([a().func,a().string,a().object])},f=function(e){var t=e.className,o=e.cssModule,i=e.size,a=e.bordered,l=e.borderless,u=e.striped,f=e.dark,h=e.hover,m=e.responsive,v=e.tag,y=e.responsiveTag,b=e.innerRef,g=(0,r.A)(e,p),A=(0,d.qO)(c()(t,"table",!!i&&"table-"+i,!!a&&"table-bordered",!!l&&"table-borderless",!!u&&"table-striped",!!f&&"table-dark",!!h&&"table-hover"),o),w=s.createElement(v,(0,n.A)({},g,{ref:b,className:A}));if(m){var j=(0,d.qO)(!0===m?"table-responsive":"table-responsive-"+m,o);return s.createElement(y,{className:j},w)}return w};f.propTypes=u,f.defaultProps={tag:"table",responsiveTag:"div"};const h=f},96369:(e,t,o)=>{function n(e){if(Array.isArray(e))return e}o.d(t,{A:()=>n})},73893:(e,t,o)=>{function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}o.d(t,{A:()=>n})},76562:(e,t,o)=>{function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}o.d(t,{A:()=>n})},80045:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(98587);function r(e,t){if(null==e)return{};var o,r,s=(0,n.A)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(s[o]=e[o])}return s}},5544:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(96369);var r=o(27800),s=o(76562);function i(e,t){return(0,n.A)(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,s,i,a=[],l=!0,c=!1;try{if(s=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;l=!1}else for(;!(l=(n=s.call(o)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(c)throw r}}return a}}(e,t)||(0,r.A)(e,t)||(0,s.A)()}},60436:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(43145);var r=o(73893),s=o(27800);function i(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||(0,r.A)(e)||(0,s.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=1250.e246aa86.chunk.js.map