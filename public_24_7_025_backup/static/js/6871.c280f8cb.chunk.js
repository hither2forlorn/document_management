"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[6871],{66871:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var n=s(65043),o=s(65553),d=s(62582),i=s(18039),r=s(58441),a=s(37519),c=s(97508),l=s(28096),u=s(80231),h=s(46759),p=(s(10577),s(11594)),m=s(75304),b=s(38477),x=s(44864),j=s(58472),C=s(70579);class f extends n.Component{constructor(){super(...arguments),this.state={documentConditions:[]},this.deleteDocumentCondition=e=>{window.confirm("Are you sure, you want to delete?")&&(0,o.aq)(e,((e,t)=>{e&&this.props.push(u.A.adminDocumentConditions),t.success?(l.oR.success("Success!"),this.updateData(),this.props.dispatch((0,a.Ni)())):l.oR.error(t.message)}))},this.updateData=()=>{(0,o.WM)(((e,t)=>{e||(this.setState({documentConditions:t.data}),console.log(this.state.documentConditions))}))}}componentDidMount(){this.updateData()}render(){const e=this.props.permissions||{};return(0,C.jsxs)(m.A,{className:"shadow",children:[(0,C.jsxs)(b.A,{children:[(0,C.jsx)("p",{className:"h5",children:"Document Conditions"}),e.documentCondition===i.Xd||e.documentCondition===i.n7?(0,C.jsxs)(d.Link,{to:u.A.adminDocumentConditionsAdd,className:"btn-header btn btn-outline-dark btn-sm border-dark border",children:[(0,C.jsx)("i",{className:"fa fa-plus"}),"Add Document Condition"]}):null]}),(0,C.jsx)(x.A,{children:(0,C.jsxs)(j.A,{responsive:!0,bordered:!0,hover:!0,children:[(0,C.jsx)("thead",{className:"table-active",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"Id"}),(0,C.jsx)("th",{children:"Name"}),(0,C.jsx)("th",{children:"Created By"}),(0,C.jsx)("th",{children:"Created"}),(0,C.jsx)("th",{children:"Modified"}),(0,C.jsx)("th",{style:{width:"150px"},children:"Actions"})]})}),(0,C.jsx)("tbody",{children:this.state.documentConditions.map((t=>(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:t.id}),(0,C.jsx)("td",{children:t.name}),(0,C.jsx)("td",{children:(0,h._W)(this.props.users,t.createdBy)}),(0,C.jsx)("td",{children:new Date(t.createdAt).toDateString()}),(0,C.jsx)("td",{children:new Date(t.updatedAt).toDateString()}),(0,C.jsxs)("td",{children:[e.documentCondition===i.Xd||e.documentCondition===i.n7?(0,C.jsx)(p.A,{buttonType:"edit",to:u.A.adminDocumentConditionsEdit+"?i="+r.A.getHash(t.id),permission:e.documentCondition}):null,e.documentCondition===i.n7?(0,C.jsx)(p.A,{permission:e.documentCondition,onClick:()=>this.deleteDocumentCondition(t.id),buttonType:"delete"}):null]})]},t.id)))})]})})]})}}const g=(0,c.Ng)((e=>({users:e.allFields.users})))(f)},65553:(e,t,s)=>{s.d(t,{G3:()=>d,TK:()=>a,WM:()=>r,aq:()=>c,bj:()=>i});var n=s(76400);const o="/document-condition";function d(e,t){n.E8.post(`${o}`,e).then((e=>t(null,e.data))).catch((e=>t(e)))}function i(e,t){n.E8.put(`${o}`,e).then((e=>t(null,e.data))).catch((e=>t(e)))}function r(e){n.E8.get(`${o}`).then((t=>e(null,t.data))).catch((t=>e(t)))}function a(e,t){n.E8.get(`${o}/${e}`).then((e=>t(null,e.data))).catch((e=>t(e)))}function c(e,t){n.E8.delete(`${o}/${e}`).then((e=>t(null,e.data))).catch((e=>t(e)))}},58472:(e,t,s)=>{s.d(t,{A:()=>m});var n=s(58168),o=s(98587),d=s(65043),i=s(65173),r=s.n(i),a=s(98139),c=s.n(a),l=s(62373),u=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],h={className:r().string,cssModule:r().object,size:r().string,bordered:r().bool,borderless:r().bool,striped:r().bool,dark:r().bool,hover:r().bool,responsive:r().oneOfType([r().bool,r().string]),tag:l.Wx,responsiveTag:l.Wx,innerRef:r().oneOfType([r().func,r().string,r().object])},p=function(e){var t=e.className,s=e.cssModule,i=e.size,r=e.bordered,a=e.borderless,h=e.striped,p=e.dark,m=e.hover,b=e.responsive,x=e.tag,j=e.responsiveTag,C=e.innerRef,f=(0,o.A)(e,u),g=(0,l.qO)(c()(t,"table",!!i&&"table-"+i,!!r&&"table-bordered",!!a&&"table-borderless",!!h&&"table-striped",!!p&&"table-dark",!!m&&"table-hover"),s),v=d.createElement(x,(0,n.A)({},f,{ref:C,className:g}));if(b){var A=(0,l.qO)(!0===b?"table-responsive":"table-responsive-"+b,s);return d.createElement(j,{className:A},v)}return v};p.propTypes=h,p.defaultProps={tag:"table",responsiveTag:"div"};const m=p}}]);
//# sourceMappingURL=6871.c280f8cb.chunk.js.map