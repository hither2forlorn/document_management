"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[6767],{66767:(e,s,t)=>{t.r(s),t.d(s,{default:()=>D});var r=t(65043),a=t(62582),n=t(84134),l=t(58441),i=t(46759),o=t(18039),d=t(86178),u=t.n(d),c=t(97508),h=t(80231),m=t(83565),x=t(25852),p=t(13718),j=t(75304),g=t(38477),v=t(44864),b=t(58472),f=t(70579);const A=e=>{let{name:s,value:t}=e;return t?(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:s}),(0,f.jsx)("td",{children:t})]}):null};class N extends r.Component{constructor(){super(...arguments),this.state={userFound:!1,user:{},loginLogs:[],branches:[],roles:[],departments:[],userStatuses:[]}}componentDidMount(){console.log("userId finder: ",this.props);const e=m.parse(this.props.location.search),s=l.A.getId(e["?i"]);s||this.props.history.push(h.A.adminUsers),this.setState(this.props.allFields),this.loadProfile(s)}loadProfilePicture(e){const s=document.getElementById("img");e&&(s.src="/img/profile.png")}loadProfile(e){(0,n.wz)(e,((e,s)=>{e||this.setState({userFound:!0,user:s.user,loginLogs:s.loginLogs?s.loginLogs:[]},(()=>{const e=this.state.user.profile_picture;e&&this.loadProfilePicture(e.profilePicture)}))}))}renderItems(){const e=this.state.user,s=parseInt(localStorage.getItem(o.uW),10),t=this.props.permissions||{};return(0,f.jsxs)(x.A,{children:[(0,f.jsx)(p.A,{md:6,children:(0,f.jsxs)(j.A,{className:"shadow",children:[(0,f.jsx)(g.A,{children:(0,f.jsxs)(x.A,{children:[(0,f.jsxs)(p.A,{children:[" ",(0,f.jsx)("i",{className:"fa fa-user mr-1"}),this.props.name]}),(0,f.jsxs)(p.A,{className:"d-flex justify-content-end",children:[e.id===s?(0,f.jsx)(a.Link,{to:h.A.adminUsersChangePassword,className:"btn btn-sm btn-info mr-1 text-white ",children:"Change Password"}):null,1!=e.id?null:t.user===o.Xd||t.user===o.n7?(0,f.jsx)(a.Link,{className:"btn btn-sm btn-info text-white ",to:h.A.adminUsersEdit+"?i="+l.A.getHash(this.state.user.id),children:"Edit User"}):null]})]})}),(0,f.jsx)(v.A,{children:(0,f.jsx)(b.A,{responsive:!0,bordered:!0,hover:!0,children:(0,f.jsxs)("tbody",{children:[(0,f.jsx)(A,{name:"Identity No",value:e.identityNo}),(0,f.jsx)(A,{name:"Name",value:e.name}),(0,f.jsx)(A,{name:"Email",value:e.email}),(0,f.jsx)(A,{name:"Username",value:e.username}),(0,f.jsx)(A,{name:"Gender",value:e.gender}),(0,f.jsx)(A,{name:"Date of Birth",value:u()(e.dateOfBirth).format("YYYY-MM-DD")}),(0,f.jsx)(A,{name:"Street",value:e.street}),(0,f.jsx)(A,{name:"City",value:e.city}),(0,f.jsx)(A,{name:"Country",value:e.country}),(0,f.jsx)(A,{name:"Postal Code",value:e.postalCode}),(0,f.jsx)(A,{name:"Phone Number",value:e.phoneNumber}),(0,f.jsx)(A,{name:"Website",value:e.website}),(0,f.jsx)(A,{name:"notes",value:e.notes}),(0,f.jsx)(A,{name:"Designation",value:e.designation}),(0,f.jsx)(A,{name:"Status",value:(0,i._W)(this.state.userStatuses,e.statusId)}),(0,f.jsx)(A,{name:"Role",value:(0,i._W)(this.state.roles,e.roleId)}),(0,f.jsx)(A,{name:"Branch",value:(0,i._W)(this.state.branches,e.branchId)}),(0,f.jsx)(A,{name:"Department",value:(0,i._W)(this.state.departments,e.departmentId)}),(0,f.jsx)(A,{name:"Login Attempts",value:e.loginAttempts}),(0,f.jsx)(A,{name:"Expire Password",value:e.expirePassword}),(0,f.jsx)(A,{name:"Expiry Date",value:u()(e.expiryDate).format("YYYY-MM-DD")}),(0,f.jsx)(A,{name:"Created At",value:u()(e.createdAt).format("YYYY-MM-DD")}),(0,f.jsx)(A,{name:"Updated At",value:u()(e.updatedAt).format("YYYY-MM-DD")})]})})})]})}),(0,f.jsx)(p.A,{md:6,children:(0,f.jsxs)(j.A,{className:"shadow",children:[(0,f.jsx)(g.A,{children:(0,f.jsx)(x.A,{children:(0,f.jsxs)(p.A,{children:[" ",(0,f.jsx)("i",{className:"fa fa-user mr-1"}),"Detailed Logs"]})})}),(0,f.jsx)(v.A,{children:(0,f.jsxs)(b.A,{responsive:!0,bordered:!0,hover:!0,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Login"}),(0,f.jsx)("th",{children:"Logout"})]})}),(0,f.jsx)("tbody",{children:this.state.loginLogs.map(((e,s)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:new Date(e.login).toString()}),(0,f.jsx)("td",{children:e.logout?new Date(e.logout).toString():null})]},s)))})]})})]})})]})}render(){return this.renderItems()}}const D=(0,c.Ng)((e=>({allFields:e.allFields})))(N)},58472:(e,s,t)=>{t.d(s,{A:()=>x});var r=t(58168),a=t(98587),n=t(65043),l=t(65173),i=t.n(l),o=t(98139),d=t.n(o),u=t(62373),c=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],h={className:i().string,cssModule:i().object,size:i().string,bordered:i().bool,borderless:i().bool,striped:i().bool,dark:i().bool,hover:i().bool,responsive:i().oneOfType([i().bool,i().string]),tag:u.Wx,responsiveTag:u.Wx,innerRef:i().oneOfType([i().func,i().string,i().object])},m=function(e){var s=e.className,t=e.cssModule,l=e.size,i=e.bordered,o=e.borderless,h=e.striped,m=e.dark,x=e.hover,p=e.responsive,j=e.tag,g=e.responsiveTag,v=e.innerRef,b=(0,a.A)(e,c),f=(0,u.qO)(d()(s,"table",!!l&&"table-"+l,!!i&&"table-bordered",!!o&&"table-borderless",!!h&&"table-striped",!!m&&"table-dark",!!x&&"table-hover"),t),A=n.createElement(j,(0,r.A)({},b,{ref:v,className:f}));if(p){var N=(0,u.qO)(!0===p?"table-responsive":"table-responsive-"+p,t);return n.createElement(g,{className:N},A)}return A};m.propTypes=h,m.defaultProps={tag:"table",responsiveTag:"div"};const x=m}}]);
//# sourceMappingURL=6767.226e2879.chunk.js.map