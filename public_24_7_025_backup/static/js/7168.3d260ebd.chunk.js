"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[7168],{54592:(e,t,s)=>{s.d(t,{A:()=>c});var r=s(43845),n=(s(65043),s(70579));function c(e){let{...t}=e;return(0,n.jsx)(r.A,{...t,color:"primary",size:"small"})}},96813:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var r=s(65043),n=(s(46316),s(40575)),c=s(94342),o=s(97508),a=(s(92342),s(40854)),l=s.n(a),i=s(28096),d=s(44958),m=s(70579);const u=(0,o.Ng)((e=>({allFields:e.allFields,searchData:e.docSearchData,docLimit:e.docLimitDocumentNumber})))((e=>{const[t,s]=(0,r.useState)([]),[a,u]=(0,r.useState)(1),[h,p]=(0,r.useState)(0),x=(0,o.d4)((e=>e.docLimitDocumentNumber)),j=t=>{(0,d.VO)(((e,t)=>{e||(t.success?(s(t.paginationDocument),p(t.total)):(console.log(t),window.alert(t.message)))}),{page:a,limit:e.docLimit})};return(0,r.useEffect)((()=>{const e=l().CancelToken.source();return j(e),()=>{e.cancel()}}),[e.searchData,e.docPageNo,e.docLimit,a,x]),(0,m.jsx)(c.A,{title:"Rejected Document List",fromRejectedListTable:!0,documentList:t,permissions:e.permissions,approveDocument:e=>{window.confirm("Do you want to approve this file?")&&(0,n.N1)(e,((e,t)=>{t.success?(i.oR.success("The document has been Approved"),j()):i.oR.error(t.message)}))},rejectDocument:e=>{let t=prompt("reason to reject");if(!window.confirm("Do you want to reject this file?"))return;const s={id:e,rejectReason:t};(0,n.A7)(s,((e,t)=>{t.success?(i.oR.success("The document has been rejected"),j()):i.oR.error(t.message)}))},setPageNumber:u,handleChangePage:(e,t)=>{u(t)},pageNumber:a,totalDocuments:h,resubmitDocumentHandler:e=>{window.confirm("Do you want to resubmit this file?")&&(0,n.lu)(e,((e,t)=>{t.success?(i.oR.success("Document has been resubmitted"),j()):i.oR.error(t.message)}))}})}))},94342:(e,t,s)=>{s.d(t,{A:()=>L});var r=s(65043),n=s(87382),c=s(25852),o=s(13718),a=s(90284),l=s(62582),i=s(97508),d=s(18039),m=s(46759),u=s(58441),h=s(80231),p=s(11594),x=(s(10577),s(75304)),j=s(38477),b=s(44864),g=s(58472),f=s(83407),A=s(46316),y=s(87561),v=s(7467),N=s(88988),k=s(15421),D=(s(54592),s(95702)),T=s(89967),w=s(70579);const L=(0,i.Ng)((e=>({...e.allFields,docLimit:e.docLimitDocumentNumber})))((e=>{var t;const[s,L]=(0,r.useState)(!1),C=e.docLimit,P=e.docPagination,[R,S]=(0,r.useState)(P),B=(e.totalPages,(0,i.d4)((e=>e.docLimitDocumentNumber))),E=t=>{e.documentList.sort(((e,s)=>{try{return e[t].toLowerCase()<s[t].toLowerCase()?-1:e[t].toLowerCase()>s[t].toLowerCase()?1:0}catch(r){return-1}}))};(0,r.useEffect)((()=>{S((e.docPagination-1)*C)}),[e.docPagination,e.dispatch,e.docLimitDocumentNumber]);const O=e.documentTypes?e.documentTypes:[],I=e.departments?e.departments:[],F=e.branches?e.branches:[],M=e.statuses?e.statuses:[],z=e.locationMaps?e.locationMaps:[],_=e.users?e.users:[],V=e.permissions?e.permissions:{};e.makerEmail&&e.makerEmail;function W(e){return(0,w.jsxs)("ul",{style:{listStyleType:"none",margin:0,padding:0,overflow:"hidden",display:"flex",justifyContent:"center"},children:[e.hasQuickQcr&&(0,w.jsx)("li",{style:{float:"left",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"top",title:"Quick OCR Enabled",children:(0,w.jsx)("i",{className:"fas fa-search text-dark bg-warning p-1 mr-1 rounded",placeholder:"Quick OCR"})}),e.hasEncryption&&(0,w.jsx)("li",{style:{float:"left",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"top",title:"Encryption Enabled",children:(0,w.jsx)("i",{className:"fas fa-lock text-dark bg-warning p-1 mr-1 rounded",placeholder:"Encryption"})}),e.hasOtp&&(0,w.jsx)("li",{style:{float:"left",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"top",title:"OTP Verification Enabled",children:(0,w.jsx)("i",{className:"fas fa-envelope text-dark bg-warning p-1 mr-1 rounded",placeholder:"OTP Verification"})})]})}return(0,w.jsxs)(x.A,{className:"shadow",children:[(0,w.jsxs)(j.A,{children:[(0,w.jsx)("p",{className:"h5",children:e.title}),null!==V&&void 0!==V&&V.maker?(0,w.jsxs)(l.Link,{to:h.A.documentsAdd,className:"btn-header btn btn-outline-dark btn-sm border-dark border",children:[(0,w.jsx)("i",{className:"fa fa-plus"})," Add Document"]}):null]}),(0,w.jsx)(b.A,{children:(0,w.jsxs)(g.A,{responsive:!0,bordered:!0,hover:!0,id:"toExcel",children:[(0,w.jsx)("thead",{className:"table-active",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{scope:"col",children:"Doc Type"}),(0,w.jsx)("th",{scope:"col",children:"Department"}),(0,w.jsx)("th",{scope:"col",children:"Branch"}),(0,k.onlyForThisVendor)("bok")&&(0,w.jsx)("th",{scope:"col",onClick:()=>E("name"),children:"Account Number"}),(0,w.jsx)("th",{scope:"col",onClick:()=>E("otherTitle"),children:"Document Name"}),(0,w.jsx)("th",{scope:"col",children:"Status"}),e.fromRejectedListTable&&(0,w.jsx)("th",{scope:"col",children:"Message"}),(0,w.jsx)("th",{scope:"col",children:"Location"}),(0,w.jsx)("th",{scope:"col",children:"Created By"}),e.fromPendingListTable?(0,w.jsx)("th",{scope:"col",children:"Assigned To"}):e.fromRejectedListTable?(0,w.jsx)("th",{scope:"col",children:"Rejected By"}):(0,w.jsx)("th",{scope:"col",children:"Created At"}),e.fromPendingListTable||e.fromRejectedListTable?(0,w.jsx)("th",{scope:"col",children:"Created At"}):(0,w.jsx)("th",{scope:"col",children:"Approved At"}),e.fromRejectedListTable&&(0,w.jsx)("th",{scope:"col",children:" Rejected At"}),(e.showControl||e.restorePermission)&&(0,w.jsx)("th",{scope:"col",children:"Action"}),e.fromRejectedListTable&&(0,w.jsx)("th",{scope:"col",children:"Action"})]})}),(0,w.jsx)("tbody",{children:null===e||void 0===e||null===(t=e.documentList)||void 0===t?void 0:t.map(((t,s)=>{const r=(0,m._W)(O,t.documentTypeId),c=(0,m._W)(M,t.statusId),o=(0,m._W)(z,t.locationMapId),a=(0,m._W)(I,t.departmentId),i=(0,m._W)(F,t.branchId),x=(0,m._W)(_,t.createdBy),j=(0,m._W)(_,t.assignTo);return console.log(t,"row is here"),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"text-break",children:r||t.DocumentType?r||t.DocumentType:(0,w.jsx)(T.A,{style:{fontSize:"1rem",textAlign:"center",color:"#ccc"}})}),(0,w.jsx)("td",{className:"text-break",style:{textAlign:"center"},children:a||t.Department?a||t.Department:(0,w.jsx)(T.A,{style:{fontSize:"1rem",textAlign:"center",color:"#ccc"}})}),(0,w.jsx)("td",{className:"text-break",style:{textAlign:"center"},children:i||t.Branch?i||t.Branch:(0,w.jsx)(T.A,{style:{fontSize:"1rem",textAlign:"center",color:"#ccc"}})})," ",(0,k.onlyForThisVendor)("bok")&&(0,w.jsx)("td",{className:"text-break",children:t.name||t.OrganizationName}),(0,w.jsx)("td",{onMouseOver:()=>L(!0),onMouseOut:()=>L(!1),children:(0,w.jsx)(l.Link,{className:"text-break",to:h.A.documentsView+"?i="+u.A.getHash(t.id),children:t.otherTitle||t.DocumentName})}),(0,w.jsxs)("td",{className:"text-break",style:{textAlign:"center",display:"flex",flexDirection:"column"},children:[W(t),(0,w.jsx)("span",{className:"mt-2",children:null!==t&&void 0!==t&&t.returnedByChecker?(0,w.jsx)("span",{className:"rounded p-1 badge badge-pill badge-danger rounded p-1",children:"Rejected"}):(0,w.jsx)(w.Fragment,{children:function(e){switch((null===e||void 0===e?void 0:e.DocumentStatus)||(null===e||void 0===e?void 0:e.statusId)){case"Active":case 1:return(0,w.jsx)("span",{className:"rounded p-1 badge badge-pill badge-success",children:c||e.DocumentStatus});case"Suspended":case 2:return(0,w.jsx)("span",{className:"rounded p-1 badge badge-pill badge-secondary",children:c||e.DocumentStatus});case"checked out":case 3:return(0,w.jsx)("span",{className:"rounded p-1 badge badge-pill badge-dark",children:c||e.DocumentStatus})}}(t)})})]}),e.fromRejectedListTable&&(0,w.jsx)("td",{children:(V.approver||V.checker)&&t.returnedByApprover&&!t.returnedByChecker?(0,w.jsx)("span",{className:"text-break text-center",children:null===t||void 0===t?void 0:t.rejectionMessageByApprover}):((V.approver||V.checker)&&t.returnedByApprover&&t.returnedByChecker,(0,w.jsx)("span",{className:"text-break text-center",children:null===t||void 0===t?void 0:t.rejectionMessageByChecker}))}),(0,w.jsx)("td",{className:"text-break",style:{textAlign:"center"},children:o||t.locationMap?o||t.locationMap:(0,w.jsx)(T.A,{style:{fontSize:"1rem",color:"#ccc"}})}),(0,w.jsxs)("td",{className:"text-break d-flex flex-column text-center",children:[x||t.username,e.fromPendingListTable?(0,w.jsx)(w.Fragment,{children:V.maker&&t.madeBy}):(t.returnedByApprover||t.returnedByChecker)&&V.maker?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{children:t.madeBy?t.madeBy:"CONFIDENTIAL"})," "]}):null]}),e.fromRejectedListTable&&(0,w.jsx)("td",{className:"text-break text-center",children:(null===t||void 0===t?void 0:t.rejectedByEmail)||"Not Available"}),e.fromPendingListTable&&(0,w.jsx)("td",{style:{textAlign:"center"},children:(0,w.jsx)("span",{style:{textAlign:"center"},children:j||t.assignTo?(0,w.jsxs)(w.Fragment,{children:[j||t.assignTo.split("(")[0]," ",(0,w.jsx)("br",{}),(0,w.jsx)("span",{className:"rounded p-1 badge badge-pill badge-secondary",children:`(${j||t.assignTo.split("(")[1]}`})]}):(0,w.jsx)("p",{children:"Not Found"})})}),e.restorePermission&&t.isDeleted&&(0,w.jsx)("td",{children:(0,w.jsx)(p.A,{permission:V.restore,onClick:()=>e.restoreDocument(t.id),buttonType:"restore"})}),(0,w.jsx)("td",{className:"text-center",children:t.createdAt?new Date(t.createdAt).toLocaleString():""}),!e.fromPendingListTable&&(0,w.jsx)("td",{className:"text-center",children:t.updatedAt?new Date(t.updatedAt).toLocaleString():""}),e.fromRejectedListTable&&(0,w.jsx)("td",{children:V.checker||V.approver?(0,w.jsx)(p.A,{permission:V.checker||V.approver,buttonType:"view",to:`${h.A.documentsView}?i=${u.A.getHash(t.id)}`}):null!==t&&void 0!==t&&t.returnedByChecker?(0,w.jsx)(n.A,{className:"badge badge-primary p-2 bg-blue-200 text-blue-600",onClick:()=>e.resubmitDocumentHandler(t.id),children:"Resubmit"}):null}),e.showControl&&(0,w.jsxs)("td",{children:[e.fromPendingListTable&&t.isUserChecker?"Approval Pending":null,(V.document===d.Xd||V.document===d.gR||V.document===d.n7)&&!(null!==t&&void 0!==t&&t.isUserChecker)&&(0,w.jsxs)(w.Fragment,{children:[e.approveDocument&&(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(p.A,{permission:V.checker||V.approver,buttonType:"view",to:h.A.documentsView+"?i="+u.A.getHash(t.id)})}),!e.fromPendingListTable&&!t.isDeleted&&(0,w.jsx)(p.A,{to:h.A.documentsEdit+"?i="+u.A.getHash(t.id),permission:V.document,buttonType:"edit"})]}),e.deleteDocument&&V.document===d.n7&&!t.isDeleted&&(0,w.jsx)("div",{children:(0,w.jsx)(p.A,{permission:V.document,onClick:()=>e.deleteDocument(t.id),buttonType:"delete"})})]})]},s)}))})]})}),(0,w.jsx)(f.A,{className:"bg-white",children:(0,w.jsxs)(c.A,{children:[(0,w.jsx)(o.A,{children:(0,w.jsx)(a.A,{count:parseInt(Math.ceil(e.totalDocuments/B)),onChange:e.handleChangePage,shape:"rounded",page:e.pageNumber})}),(0,w.jsx)(o.A,{children:(0,w.jsxs)("div",{className:"float-right mt-2 d-flex align-items-center",children:[(0,w.jsx)("p",{className:"mb-0 mr-2",children:"Items Per Page"}),(0,w.jsx)(y.A,{children:(0,w.jsxs)(v.A,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:e.docLimit,onChange:t=>{e.dispatch((0,A.wU)(t.target.value))},className:"form-control rounded",children:[(0,w.jsx)(N.A,{value:5,children:"5"}),(0,w.jsx)(N.A,{value:10,children:"10"}),(0,w.jsx)(N.A,{value:20,children:"20"})]})}),(0,w.jsxs)("p",{className:"mb-0 ml-2",children:["Total Documents :",(0,w.jsx)("b",{className:"mr-2",children:e.totalDocuments})," Page :",(0,w.jsxs)("b",{children:[" ",e.pageNumber]})]}),(0,k.includeThisFeature)(k.dms_features.DOWNLOAD_REPORT)&&(0,w.jsx)(D.A,{id:"toExcel-button",className:"btn btn-sm ml-2 btn-primary text-white float-right",table:"toExcel",filename:"documents",sheet:"tablexls",buttonText:"Download Report"})]})})]})})]})}))},89967:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(89379),n=s(65043);const c={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var o=s(22172),a=function(e,t){return n.createElement(o.A,(0,r.A)((0,r.A)({},e),{},{ref:t,icon:c}))};const l=n.forwardRef(a)},90284:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(58168),n=s(65043),c=s(59135),o=s(70579);let a=!1;const l=n.forwardRef((function(e,t){return a||(console.warn(["MUI: The Pagination component was moved from the lab to the core.","","You should use `import { Pagination } from '@mui/material'`","or `import Pagination from '@mui/material/Pagination'`"].join("\n")),a=!0),(0,o.jsx)(c.A,(0,r.A)({ref:t},e))}))},96369:(e,t,s)=>{function r(e){if(Array.isArray(e))return e}s.d(t,{A:()=>r})},76562:(e,t,s)=>{function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}s.d(t,{A:()=>r})},80045:(e,t,s)=>{s.d(t,{A:()=>n});var r=s(98587);function n(e,t){if(null==e)return{};var s,n,c=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)s=o[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(c[s]=e[s])}return c}},5544:(e,t,s)=>{s.d(t,{A:()=>o});var r=s(96369);var n=s(27800),c=s(76562);function o(e,t){return(0,r.A)(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var r,n,c,o,a=[],l=!0,i=!1;try{if(c=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;l=!1}else for(;!(l=(r=c.call(s)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{if(!l&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(i)throw n}}return a}}(e,t)||(0,n.A)(e,t)||(0,c.A)()}}}]);
//# sourceMappingURL=7168.3d260ebd.chunk.js.map