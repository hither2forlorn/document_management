"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[6227],{68491:(e,t,s)=>{s.d(t,{A:()=>i});s(65043);var n=s(97508),a=s(70579);const i=(0,n.Ng)((e=>({userProfile:e.userProfile})))((function(e){let{children:t,userProfile:s}=e;return(0,a.jsx)(a.Fragment,{children:1===s.id||"Super-001"===s.hierarchy?t:null})}))},56227:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var n=s(65043),a=s(91656),i=s(58441),d=s(97508),r=s(37519),c=s(87382),l=s(28096),o=s(83565),h=s(80231),u=s(75304),p=s(38477),m=s(94576),A=s(44864),x=s(45413),j=s(25852),y=s(13718),g=s(8586),v=s(64412),f=s(83407),T=s(15421),C=s(19368),N=s(19423),I=s(51080),b=s(68491),w=s(70579);class D extends n.Component{constructor(){super(...arguments),this.state={documentType:{},documentTypes:[]},this.handleChange=e=>{const t=e.target.name;let s=e.target.value;const n=this.state.documentType;"parentId"===e.target.name&&Number(e.target.value)===this.state.documentType.id?l.oR.warn("Cannot select itself as parent!"):(s=(0,N.A)(s),n[e.target.name]=e.target.value?e.target.value:null,this.setState({documentType:{...this.state.documentType,[t]:s}}))},this.handleSubmit=e=>{if(e.preventDefault(),window.confirm("Do you want to update the document?")){var t;const e=this.state.documentType,s=null===(t=this.state.documentTypes)||void 0===t?void 0:t.filter((t=>t.id===Number(e.parentId)?1:0))[0];e.level=s?s.level+1:0,(0,a.Mp)(e,((e,t)=>{if(e)return l.oR.error(e.response.data.data.name[0]);t.success||l.oR.warn(t.message),t.success&&(l.oR.success(t.message),this.props.history.push(h.A.adminDocumentTypes),this.props.dispatch((0,r.Ni)()))}))}},this.handleAssociateIdChange=e=>{this.setState({documentType:{...this.state.documentType,isAssociatedIDReq:e.currentTarget.value}})}}componentDidMount(){const e=o.parse(this.props.location.search),t=i.A.getId(e["?i"]);i.A.getId(this.props.match.params.id),this.setState(this.props.allFields),(0,a.K7)(t,((e,t)=>{e||t.success&&this.setState({documentType:t.data})}))}render(){var e;const t=this.props.allFields.hierarchy,s=null===t||void 0===t?void 0:t.filter((e=>"Branch"!==e.name));return(0,w.jsxs)(u.A,{className:"shadow",children:[(0,w.jsx)(p.A,{children:(0,w.jsx)("p",{className:"h5",children:"Edit Document Type"})}),(0,w.jsxs)(m.A,{onSubmit:this.handleSubmit,children:[(0,w.jsxs)(A.A,{children:[(0,w.jsx)(x.A,{children:(0,w.jsxs)(j.A,{children:[(0,w.jsxs)(y.A,{md:4,children:[(0,w.jsx)(g.A,{children:"Name:"}),(0,w.jsx)(I.A,{})]}),(0,w.jsx)(y.A,{md:8,children:(0,w.jsx)(v.A,{className:"rounded",onChange:this.handleChange,value:this.state.documentType.name?this.state.documentType.name:"",name:"name",id:"name",required:!0})})]})}),(0,w.jsx)(x.A,{children:(0,w.jsxs)(j.A,{children:[(0,w.jsx)(y.A,{md:4,children:(0,w.jsx)(g.A,{children:"Parent Category"})}),(0,w.jsx)(y.A,{md:8,children:(0,w.jsxs)(v.A,{className:"rounded",type:"select",onChange:this.handleChange,value:this.state.documentType.parentId?this.state.documentType.parentId:"",name:"parentId",id:"parentId",children:[(0,w.jsx)("option",{value:"",children:"--- NONE ---"}),null===(e=this.state.documentTypes)||void 0===e?void 0:e.map((e=>{let t="",s=e.level;for(;s-- >0;)t+="---";return(0,w.jsx)("option",{value:e.id,children:t+" "+e.name},e.id)}))]})})]})}),(0,T.onlyForThisVendor)(T.banks.bok.name)&&(0,w.jsx)(x.A,{children:(0,w.jsxs)(j.A,{children:[(0,w.jsx)(y.A,{md:4,children:(0,w.jsx)(g.A,{children:"Associate ID"})}),(0,w.jsx)(y.A,{md:8,children:(0,w.jsxs)(v.A,{className:"rounded",type:"select",onChange:this.handleAssociateIdChange,value:null!=this.state.documentType.isAssociatedIDReq?this.state.documentType.isAssociatedIDReq:"",name:"associateId",id:"associateId",children:[(0,w.jsx)("option",{value:"",children:"--- NONE ---"}),(0,w.jsx)("option",{value:!0,children:"Required"}),(0,w.jsx)("option",{value:!1,children:"Optional"})]})})]})}),(0,w.jsx)(b.A,{children:(0,w.jsx)(x.A,{children:(0,w.jsxs)(j.A,{children:[(0,w.jsx)(y.A,{md:4,children:(0,w.jsx)(g.A,{children:"Hierarchy"})}),(0,w.jsx)(y.A,{md:8,children:(0,w.jsx)(C.Ae,{onChange:this.handleChange,defaultValueOnlyForCombobox:this.state.documentType.hierarchy?this.state.documentType.hierarchy:"",name:"hierarchy",options:s})})]})})})]}),(0,w.jsxs)(f.A,{className:"d-flex justify-content-end",children:[(0,w.jsx)(c.A,{onClick:()=>window.history.back(),type:"button",color:"danger",className:"mx-2 text-white",children:"Cancel"}),(0,w.jsx)(c.A,{color:"primary",children:"Update"})]})]})]})}}const k=(0,d.Ng)((e=>({allFields:e.allFields,userProfile:e.userProfile})))(D)},91656:(e,t,s)=>{s.d(t,{K7:()=>c,LC:()=>l,Mp:()=>r,NO:()=>i,ph:()=>d});var n=s(76400);const a="/document-type";function i(e,t){n.E8.post(`${a}`,e).then((e=>{t(null,e.data)})).catch((e=>{t(e)}))}function d(e){n.E8.get(`${a}`).then((t=>{e(null,t.data)})).catch((t=>{e(t)}))}function r(e,t){n.E8.put(`${a}`,e).then((e=>{t(null,e.data)})).catch((e=>{t(e)}))}function c(e,t){n.E8.get(`${a}/${e}`).then((e=>{t(null,e.data)})).catch((e=>{t(e)}))}function l(e,t){n.E8.delete(`${a}/${e}`).then((e=>{t(null,e.data)})).catch((e=>{t(e)}))}},19423:(e,t,s)=>{function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}s.d(t,{A:()=>n})}}]);
//# sourceMappingURL=6227.60f70643.chunk.js.map