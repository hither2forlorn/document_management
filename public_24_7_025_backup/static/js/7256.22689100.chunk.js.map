{"version":3,"file":"static/js/7256.22689100.chunk.js","mappings":"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","sources":["admin/components/CustomLoading.js","admin/components/ReactSelect.js","admin/views/Departments/AddDepartment.js","admin/views/Departments/Component/DepartmentBranchSelect.js","admin/views/Departments/api.js","admin/views/SecurityHierarchy/api.js","admin/views/Util/preventWhitespaceAtFirst.js","utils/textCapital.js"],"sourcesContent":["import { Loader } from \"@mantine/core\";\r\n\r\nimport React from \"react\";\r\n\r\nexport default function CustomLoading({ isLoading }) {\r\n  if (isLoading)\r\n    return (\r\n      <>\r\n        <Loader color=\"dark\" size=\"sm\" variant=\"oval\" />\r\n        {\"  \"}\r\n        Loading..\r\n      </>\r\n    );\r\n\r\n  return <> Proceed To Upload</>;\r\n}\r\n","import React from \"react\";\r\nimport Select from \"react-select\";\r\n\r\nimport { Label, Input, FormGroup, Col } from \"reactstrap\";\r\nexport default function ReactSelect({\r\n  label,\r\n  onChange,\r\n  required,\r\n  errors,\r\n  object,\r\n  options,\r\n  isEdit,\r\n  name,\r\n  getFieldValue,\r\n  ...rest\r\n}) {\r\n  options = options?.map((row) => {\r\n    return { ...row, label: row?.name, value: row?.[getFieldValue] || row?.id };\r\n  });\r\n\r\n  options = options?.map((row) => {\r\n    let padding = \"\";\r\n    let level = row?.level ? row?.level : 0;\r\n    while (level-- > 0) {\r\n      padding += \"---\";\r\n    }\r\n\r\n    return { ...row, label: padding + \" \" + row.label };\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <FormGroup>\r\n        <Label>\r\n          {label ? label : \"\"}\r\n          {required && (\r\n            <span className=\"text-danger h6 ml-1\">\r\n              <b>*</b>\r\n            </span>\r\n          )}\r\n        </Label>\r\n        <Select\r\n          {...(isEdit\r\n            ? {\r\n              value: object[name] ? object[name] : \"\",\r\n            }\r\n            : {})}\r\n          name={name}\r\n          options={options}\r\n          onChange={onChange}\r\n          {...rest}\r\n        />\r\n        {errors ? <span className=\"text text-danger\">{errors[0]}</span> : null}\r\n      </FormGroup>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { addDepartment, getDepartments } from \"./api\";\r\nimport { getFormData } from \"config/form\";\r\nimport { loadAllFields } from \"redux/actions/apiAction\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport metaRoutes from \"config/meta_routes\";\r\nimport CustomCancel from \"admin/components/CustomCancel\";\r\nimport CustomSubmit from \"admin/components/CustomSubmit\";\r\nimport { Card, CardBody, CardHeader, Row, Col, CardFooter, Label, Input, FormGroup, Form } from \"reactstrap\";\r\nimport CustomLoading from \"admin/components/CustomLoading\";\r\nimport titleCase from \"utils/textCapital\";\r\nimport { preventWhitespaceAtFirst } from \"../Util/preventWhitespaceAtFirst\";\r\nimport DepartmentBranchSelect from \"./Component/DepartmentBranchSelect\";\r\nimport { getSecurityHierarchy, getSecurityHierarchyBranches } from \"../SecurityHierarchy/api\";\r\n\r\nclass AddDepartment extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSelectedBranchesChange = this.handleSelectedBranchesChange.bind(this);\r\n  }\r\n\r\n  state = {\r\n    departments: [],\r\n    color: \"#ffffff\",\r\n    isDisabled: false,\r\n    capitalName: \"\",\r\n    securityHierarchyBranches: [],\r\n    selectedBranches: [],\r\n    parentList: [],\r\n    hierarchy: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    getSecurityHierarchyBranches((err, data) => {\r\n      const branches = data?.branches?.filter((d) => d.code.includes(\"Branch\"));\r\n      if (err) {\r\n        console.log(err);\r\n        return;\r\n      }\r\n      if (data.success && data.branches) {\r\n        this.setState(\r\n          {\r\n            securityHierarchyBranches: branches\r\n          }\r\n        );\r\n      }\r\n    });\r\n    getDepartments((err, departments) => {\r\n      if (err) return;\r\n      this.setState(\r\n        {\r\n          parentList: departments\r\n        }\r\n      );\r\n    });\r\n    this.setState({\r\n      ...this.props.allFields,\r\n    });\r\n    getSecurityHierarchy((err, hierarchy) => {\r\n      const securityHierarchy = hierarchy?.filter((h) => !h.code.includes(\"Branch\"))\r\n      if (err) return;\r\n      this.setState({\r\n        hierarchy: securityHierarchy\r\n      })\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    if (name === \"colorCode\") {\r\n      this.setState({\r\n        color: value,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Update selected branches when changed in DepartmentBranchSelect\r\n  handleSelectedBranchesChange = (selectedOption) => {\r\n    this.state.selectedBranches = selectedOption // Update state with selected options\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const formData = getFormData(event);\r\n    // if (this.state.selectedBranches.length === 0) return toast.error(\"Branches should be selected for department\");\r\n    const formDataWithBranchId = { hierarchyId: this?.state?.selectedBranches?.map((branch) => branch.id || []), ...formData };\r\n    const parent = this.state.hierarchy.filter((item) => {\r\n      if (item.id === Number(formDataWithBranchId.parentId)) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    })[0];\r\n    if (parent) {\r\n      formDataWithBranchId.level = parent.level;\r\n    } else {\r\n      formDataWithBranchId.level = 0;\r\n    }\r\n    addDepartment(formDataWithBranchId, (err, data) => {\r\n      if (err) {\r\n        console.log(err.data, data);\r\n        toast.error(err.response.data.message);\r\n      } else {\r\n        toast.success(data.message);\r\n        this.props.history.push(metaRoutes.adminDepartments);\r\n        this.props.dispatch(loadAllFields());\r\n        this.setState({ isDisabled: true });\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n\r\n  renderItems() {\r\n\r\n    return (\r\n      <Card className=\"shadow\">\r\n        <CardHeader>\r\n          <Row>\r\n            <Col>\r\n              {\" \"}\r\n              <i className=\"fa fa-cogs mr-1\" />\r\n              Add Department\r\n            </Col>\r\n          </Row>\r\n        </CardHeader>\r\n        <Form onSubmit={this.handleSubmit} onChange={this.handleChange}>\r\n          <CardBody>\r\n            <FormGroup>\r\n              <Row>\r\n                <Col md={4}>\r\n                  {\" \"}\r\n                  <Label>Name</Label>\r\n                </Col>\r\n                <Col md={8}>\r\n                  <Input\r\n                    onInput={(e) => preventWhitespaceAtFirst(e.target)}\r\n                    required\r\n                    name=\"name\"\r\n                    id=\"name\"\r\n                    value={this.state.capitalName}\r\n                    onChange={(e) => this.setState({ capitalName: titleCase(e.target.value) })}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Row>\r\n                <Col md={4}>\r\n                  <Label>Security Hierarchy Parent Category</Label>\r\n                </Col>\r\n                <Col md={8}>\r\n                  <Input type=\"select\" name=\"parentId\" id=\"parentId\">\r\n                    <option value=\"\">--- NONE ---</option>\r\n                    {this.state.hierarchy.map((row) => {\r\n                      let padding = \"\";\r\n                      // let parentDepartment = row.type === \"department\" ? row.parentId : row.id;\r\n                      let parentHierarchy = row.id;\r\n                      let level = row.level;\r\n                      while (level-- > 0) {\r\n                        padding += \"---\";\r\n                      }\r\n                      return (\r\n                        <option key={parentHierarchy} value={parentHierarchy}>\r\n                          {padding + \" \" + row.name}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </Input>\r\n                </Col>\r\n              </Row>\r\n            </FormGroup>\r\n            {/* <FormGroup>\r\n              <Row>\r\n                <Col md={4}>\r\n                  <Label>Department Parent Category</Label>\r\n                </Col>\r\n                <Col md={8}>\r\n                  <Input type=\"select\" name=\"departmentParentId\" id=\"departmentParentId\">\r\n                    <option value=\"\">--- NONE ---</option>\r\n                    {this.state.parentList && this.state.parentList.length > 0 ? (\r\n                      this.state.parentList.map((row) => {\r\n                        let padding = \"\";\r\n                        let parentDepartment = row.id;\r\n                        let level = row.level;\r\n                        while (level-- > 0) {\r\n                          padding += \"---\";\r\n                        }\r\n                        return (\r\n                          <option key={parentDepartment} value={parentDepartment}>\r\n                            {padding + \" \" + row.name}\r\n                          </option>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <option value=\"\">---NONE---</option>\r\n                    )}\r\n                  </Input>\r\n                </Col>\r\n              </Row>\r\n            </FormGroup> */}\r\n            <FormGroup>\r\n              <Row className=\"align-items-center\">\r\n                <Col md={4}>\r\n                  <Label>Branches</Label>\r\n                </Col>\r\n                <Col md={8}>\r\n                  <DepartmentBranchSelect branches={this.state.securityHierarchyBranches}\r\n                    setSelectedValues={this.handleSelectedBranchesChange} />\r\n                </Col>\r\n              </Row>\r\n            </FormGroup>\r\n            {/* <FormGroup>\r\n              <Row>\r\n                <Col md={4}>\r\n                  {\" \"}\r\n                  <Label>Color</Label>\r\n                </Col>\r\n                <Col md={8}>\r\n                  <Label>\r\n                    <div\r\n                      style={{\r\n                        alignItems: \"center\",\r\n                        display: \"inline-block\",\r\n                        borderRadius: \"50%\",\r\n                        border: \"1px solid\",\r\n                        width: 50,\r\n                        height: 50,\r\n                        background: this.state.color,\r\n                      }}\r\n                    />\r\n                    <Input\r\n                      style={{ display: \"none\" }}\r\n                      type=\"color\"\r\n                      name=\"colorCode\"\r\n                      value={this.state.color}\r\n                      id=\"colorCode\"\r\n                    />\r\n                  </Label>\r\n                </Col>\r\n              </Row>\r\n            </FormGroup> */}\r\n          </CardBody>\r\n          <CardFooter className=\"d-flex justify-content-end\">\r\n            {\" \"}\r\n            {/* <button className=\"btn btn-sm btn-success\" type=\"submit\">\r\n                Submit\r\n              </button> */}\r\n            <CustomCancel onClick={() => window.history.back()} />\r\n            <CustomSubmit isDisabled={this.state.isDisabled} />\r\n          </CardFooter>\r\n        </Form>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return this.renderItems();\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({ allFields: state.allFields }))(AddDepartment);\r\n","import React, { useState } from \"react\";\r\nimport ReactSelect, { StylesConfig } from \"../../../components/ReactSelect\";\r\n\r\n\r\n\r\n\r\nexport default function DepartmentBranchSelect({ branches, setSelectedValues, selectedBranches }) {\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n  const handleSelectChange = (selectedOption) => {\r\n    setSelectedOption(selectedOption);\r\n    setSelectedValues(selectedOption);\r\n  };\r\n  return (\r\n    <div>\r\n      <ReactSelect\r\n        // name=\"department\"\r\n        options={branches}\r\n        // required={true}\r\n        // errors={errors}\r\n        // object={object}\r\n        value={selectedBranches}\r\n        getFieldValue=\"id\"\r\n        onChange={handleSelectChange}\r\n        isMulti\r\n        getOptionLabel={(e) => e.name}\r\n        getOptionValue={(e) => e.id}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { server } from \"admin/config/server\";\r\n\r\nconst URL = \"/department\";\r\n\r\nfunction getDepartments(callback) {\r\n  server\r\n    .get(`${URL}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction getDepartment(id, callback) {\r\n  server\r\n    .get(`${URL}/${id}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction addDepartment(body, callback) {\r\n  server\r\n    .post(`${URL}`, body)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction editDepartment(body, callback) {\r\n  server\r\n    .put(`${URL}`, body)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nfunction deleteDepartment(id, callback) {\r\n  server\r\n    .delete(`${URL}/${id}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n}\r\n\r\nexport { getDepartment, getDepartments, addDepartment, editDepartment, deleteDepartment };\r\n","import { server } from \"admin/config/server\";\r\n\r\nconst URL = \"/security-hierarchy\";\r\nconst filterBranchURL = \"/branchesFilter\";\r\nconst filterDepartmentURL = \"/departmentsFilter\";\r\nconst securityHierarchyBranches = \"/security-hierarchy-branches\"\r\n\r\nexport const getSecurityHierarchy = (callback) => {\r\n  server\r\n    .get(`${URL}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n\r\nexport const getSecurityHierarchyBranches = (callback) => {\r\n  server\r\n    .get(`${securityHierarchyBranches}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n\r\n\r\n\r\nexport const getOneHierarchy = (id, callback) => {\r\n  server\r\n    .get(`${URL}/${id}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n\r\nexport const addSecurityHierarchy = (data, callback) => {\r\n  server\r\n    .post(`${URL}`, data)\r\n    .then((response) => {\r\n      console.log(response.data);\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n\r\nexport const getFilterBranch = (callback) => {\r\n  server\r\n    .get(`${filterBranchURL}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\nexport const getFilterDepartment = (callback) => {\r\n  server\r\n    .get(`${filterDepartmentURL}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n\r\nexport const editHierarchy = (body, callback) => {\r\n  server\r\n    .put(`${URL}`, body)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n\r\nexport const deleteHierarchy = (id, callback) => {\r\n  server\r\n    .delete(`${URL}/${id}`)\r\n    .then((response) => {\r\n      callback(null, response.data);\r\n    })\r\n    .catch((err) => {\r\n      callback(err);\r\n    });\r\n};\r\n","export const preventWhitespaceAtFirst = (str) => {\r\n  if (/^\\s/.test(str.value)) str.value = \"\";\r\n};\r\n","export default function titleCase(text) {\r\n  return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n"],"names":["CustomLoading","_ref","isLoading","_jsxs","_Fragment","children","_jsx","Loader","color","size","variant","ReactSelect","_options","_options2","label","onChange","required","errors","object","options","isEdit","name","getFieldValue","rest","map","row","value","id","padding","level","FormGroup","Label","className","Select","AddDepartment","React","constructor","props","super","state","departments","isDisabled","capitalName","securityHierarchyBranches","selectedBranches","parentList","hierarchy","handleChange","event","target","this","setState","handleSelectedBranchesChange","selectedOption","handleSubmit","_this$state","_this$state$selectedB","preventDefault","formData","getFormData","formDataWithBranchId","hierarchyId","branch","parent","filter","item","Number","parentId","addDepartment","err","data","console","log","toast","error","response","message","success","history","push","metaRoutes","adminDepartments","dispatch","loadAllFields","bind","componentDidMount","getSecurityHierarchyBranches","_data$branches","branches","d","code","includes","getDepartments","allFields","getSecurityHierarchy","securityHierarchy","h","renderItems","Card","CardHeader","Row","Col","Form","onSubmit","CardBody","md","Input","onInput","e","preventWhitespaceAtFirst","titleCase","type","parentHierarchy","DepartmentBranchSelect","setSelectedValues","CardFooter","CustomCancel","onClick","window","back","CustomSubmit","render","connect","setSelectedOption","useState","isMulti","getOptionLabel","getOptionValue","URL","callback","server","get","then","catch","getDepartment","body","post","editDepartment","put","deleteDepartment","delete","getOneHierarchy","addSecurityHierarchy","getFilterBranch","getFilterDepartment","editHierarchy","deleteHierarchy","str","test","text","charAt","toUpperCase","slice"],"sourceRoot":""}