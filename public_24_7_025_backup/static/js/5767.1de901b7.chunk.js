"use strict";(self.webpackChunkgeneral_dms=self.webpackChunkgeneral_dms||[]).push([[5767],{97404:(e,s,a)=>{a.d(s,{A:()=>x});var t=a(65043),n=a(71094),o=a(58472),r=a(25852),l=a(13718),c=a(97508),i=a(59135),d=a(87561),h=a(7467),u=a(88988),p=a(95702),m=(a(15421),a(70579));const x=(0,c.Ng)((e=>({allFields:e.allFields,searchData:e.docSearchData})))((function(e){const{columns:s,data:a,allData:c}=e,[x,g]=(0,t.useState)(""),{getTableProps:j,getTableBodyProps:b,headerGroups:f,page:y,gotoPage:N,setPageSize:A,prepareRow:v,setFilter:T,state:{pageIndex:D,pageSize:S}}=(0,n.useTable)({columns:s,data:x&&(e.LocationMapBata||e.securityHierarchyBata)?c:a},n.useFilters,n.useSortBy,n.usePagination);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"form-group rounded",children:(0,m.jsxs)("div",{className:"input-group mb-2",children:[(0,m.jsx)("div",{className:"input-group-prepend rounded",children:(0,m.jsx)("div",{className:"input-group-text rounded",children:(0,m.jsx)("i",{className:"fas fa-search"})})}),(0,m.jsx)("input",{name:e.name||"name",value:x,className:"form-control rounded",onChange:e=>{const s=e.target.value||void 0;if("DocumentName"===e.target.name)T("DocumentName",s),g(s);else T("name",s),g(s)},placeholder:"Search by name column"})]})}),(0,m.jsxs)(o.A,{responsive:!0,bordered:!0,hover:!0,...j(),id:"toExcelData",children:[(0,m.jsx)("thead",{className:"table-active",children:f.map((e=>(0,m.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map((e=>(0,m.jsxs)("th",{...e.getHeaderProps(e.getSortByToggleProps()),className:e.isSorted?e.isSortedDesc?"sort-desc":"sort-asc":"",children:[e.render("Header"),(0,m.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,m.jsxs)("span",{children:["  ",(0,m.jsx)("i",{className:"fas fa-caret-square-down text-info ml-2"})]}):(0,m.jsxs)("span",{children:["  ",(0,m.jsx)("i",{className:"fas fa-caret-square-up text-info pl-1"})]}):(0,m.jsxs)("span",{children:[" ",(0,m.jsx)("i",{className:"fas fa-sort text-info pl-1"})]})})]})))})))}),(0,m.jsx)("tbody",{...b(),children:y.map(((e,s)=>(v(e),(0,m.jsx)("tr",{...e.getRowProps(),children:e.cells.map((e=>(0,m.jsx)("td",{...e.getCellProps(),children:e.render("Cell")})))}))))})]}),(0,m.jsxs)(r.A,{children:[(0,m.jsx)(l.A,{children:(0,m.jsx)(i.A,{count:parseInt(Math.ceil(a.length/S)),onChange:(e,s)=>{N(s-1)},shape:"rounded",page:D+1})}),(0,m.jsx)(l.A,{children:(0,m.jsxs)("div",{className:"float-right mt-2 d-flex align-items-center",children:[(0,m.jsx)("p",{className:"mb-0 mr-2",children:"Items Per Page"}),(0,m.jsx)(d.A,{children:(0,m.jsxs)(h.A,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:S,onChange:e=>{A(Number(e.target.value))},className:"form-control rounded",children:[(0,m.jsx)(u.A,{value:5,children:"5"}),(0,m.jsx)(u.A,{value:10,children:"10"}),(0,m.jsx)(u.A,{value:20,children:"20"})]})}),(0,m.jsxs)("p",{className:"mb-0 ml-2",children:["Total Documents :",(0,m.jsx)("b",{className:"mr-2",children:a.length})," Page :",(0,m.jsxs)("b",{children:[" ",D+1]})]}),(0,m.jsx)(p.A,{id:"toExcel-button",className:"btn btn-sm ml-2 btn-primary text-white float-right",table:"toExcelData",filename:"attachmentstable",sheet:"tablexls",buttonText:"Download Report"})]})})]})]})}))},55767:(e,s,a)=>{a.r(s),a.d(s,{default:()=>A});var t=a(65043),n=a(62582),o=a(96362),r=a(18039),l=a(37519),c=a(58441),i=a(97508),d=a(28096),h=a(80231),u=(a(10577),a(11594)),p=a(75304),m=a(38477),x=a(44864),g=a(86178),j=a.n(g),b=a(97404);const f=e=>e.map(((e,s)=>(e.serial=s+1,e)));var y=a(70579);class N extends t.Component{constructor(){super(...arguments),this.state={locationTypes:[]},this.deleteLocationType=e=>{window.confirm("Are you sure, you want to delete?")&&(0,o.XZ)(e,((e,s)=>{e&&this.history.push(h.A.adminLocationTypes),s.success?(d.oR.success("Success!"),this.updateData(),this.props.dispatch((0,l.Ni)())):d.oR.error(s.message)}))},this.updateData=()=>{(0,o.bt)(((e,s)=>{if(e)return d.oR.error("Error in the client Side"),void console.log(e);if(s.success){const e=f(s.data);this.setState({locationTypes:e})}}))},this.columnData=[{Header:"S.N",accessor:"serial"},{Header:"Name",accessor:"name"},{Header:"Date Registered",accessor:"createdAt",Cell:e=>j()(e.value).format("dddd, MMMM Do YYYY")},{Header:"Date Modified",accessor:"updatedAt",Cell:e=>j()(e.value).format("dddd, MMMM Do YYYY")},{Header:"Actions",accessor:"action",disableSortBy:!0,Cell:e=>{let{row:s}=e;const a=this.props.permissions||{};return(0,y.jsxs)("div",{style:{cursor:"pointer"},children:[(0,y.jsx)(u.A,{to:h.A.adminLocationTypesEdit+"?i="+c.A.getHash(s.original.id),buttonType:"edit",permission:a.locationType}),(0,y.jsx)(u.A,{onClick:()=>this.deleteLocationType(s.original.id),buttonType:"delete",permission:a.locationType})]})}}]}componentDidMount(){this.updateData()}render(){const e=this.props.permissions||{};return(0,y.jsxs)(p.A,{className:"shadow",children:[(0,y.jsxs)(m.A,{children:[(0,y.jsx)("p",{className:"h5",children:"Location Types"}),e.locationType===r.Xd||e.locationType===r.n7?(0,y.jsxs)(n.Link,{to:h.A.adminLocationTypesAdd,className:"btn-header btn btn-outline-dark btn-sm border-dark border",children:[(0,y.jsx)("i",{className:"fa fa-plus"}),"Add Location Type"]}):null]}),(0,y.jsx)(x.A,{children:(0,y.jsx)(b.A,{columns:this.columnData,data:this.state.locationTypes})})]})}}const A=(0,i.Ng)()(N)},96362:(e,s,a)=>{a.d(s,{MZ:()=>r,XZ:()=>i,bt:()=>o,kw:()=>c,z0:()=>l});var t=a(76400);const n="/location-type";function o(e){t.E8.get(`${n}`).then((s=>{e(null,s.data)})).catch((s=>{e(s)}))}function r(e,s){t.E8.get(`${n}/${e}`).then((e=>{s(null,e.data)})).catch((e=>{s(e)}))}function l(e,s){t.E8.post(`${n}`,e).then((e=>{s(null,e.data)})).catch((e=>{s(e)}))}function c(e,s){t.E8.put(`${n}`,e).then((e=>{s(null,e.data)})).catch((e=>{s(e)}))}function i(e,s){t.E8.delete(`${n}/${e}`).then((e=>{s(null,e.data)})).catch((e=>{s(e)}))}}}]);
//# sourceMappingURL=5767.1de901b7.chunk.js.map